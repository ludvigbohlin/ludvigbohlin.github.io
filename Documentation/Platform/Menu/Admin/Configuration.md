# Table of Contents
1. [Voyado](#voyado)
    1. [Update this](#update-this)
1. [Rule](#rule)
    1. [Configuration](#configuration)
    1. [API Keys](#api-keys)
        1. [Recommendations](#recommendations)
        1. [Data sync](#data-sync)
        1. [CLI](#cli)
        1. [Admin](#admin)
    1. [Update this](#update-this)
1. [Facebook](#facebook)
    1. [Kund](#kund)
    1. [Infobaleen](#infobaleen)
[](#table-of-contents)

---

[*Back to top*](#table-of-contents)

# Voyado

The voyado config needs three parameters that are the same for all lakes. These can be found on Bitwarden under Infobaleen/Voyado. The fourth parameter is the lake endpoint. This is found in Voyado's lake on Azure.

[*Back to top*](#table-of-contents)

## Update this

---

[*Back to top*](#table-of-contents)

# Rule

[*Back to top*](#table-of-contents)

## Configuration
*Integration with rule enables you export your **Segmentation** campaigns to rule*  

**Name:** should be set to `rule` as standard  
**Driver:** rule  
**config:** {"ApiKey":"${rule_api_key}","KeyField":"email"}  
where `"ApiKey":"${rule_api_key}"` is set in Secrets  
and "KeyField":"email" is set ????????just a name????????  
**Default User Field:** `field name` + `KeyField` wich is set to `email` in this case  
ex. if field name = email the Default user field becomes `email email`
**Name used in exports:** ${PARENT_NAME}: ${INDEX_NAME}
**Optional User Fields:** No idea.

[*Back to top*](#table-of-contents)

## API Keys
**Name:** should be set to `rule-recommendations`  

[*Back to top*](#table-of-contents)

### Recommendations
**ItemsToItems:** `Active` dont know  
**UserToItems:** `Active` dont know  
**ItemData:** `Active` dont know  
**ModelInfo:** `Inactive` dont know  
**Data Models:** [Choose your data model with the recommendations of intrest]  
**Profiles:** [Choose the recommendation profiles you want to use]  

[*Back to top*](#table-of-contents)

### Data sync
**SourceSync:** `Inactive` dont know  
**Buffers:** `Inactive` dont know  

[*Back to top*](#table-of-contents)

### CLI
**MLDump:** `Inactive` dont know  
**Db:** `Inactive` dont know  

[*Back to top*](#table-of-contents)

### Admin
**Note:** ?????  
**Immutable:** An immutable key can never be updated (only removed). Useful if you want to share a key an be sure that the scope does not change by mistake  
**AllowAll:** Activates everything? or just recomendations tags?

 

[*Back to top*](#table-of-contents)

## Update this

---

[*Back to top*](#table-of-contents)

# Facebook

Denna integrering möjliggör uppladdning av segment som custom audiences i Facebooks Ads. 

Kräver användare med admin access till Infobaleens facebook-konto.

[*Back to top*](#table-of-contents)

## Kund
* Kund lägger till oss som partner för sitt annons konto.
    * Be dem gå till fliken Annonskonto i Business Manager och klicka tilldela partner.
    * Lägg till Infobaleens business-id 147664085678726 och välj en roll (Full control).

[*Back to top*](#table-of-contents)

## Infobaleen
* När vi har fått access till annonskonto, lägg till kunds annonskonto som tillgång för vår användare “Sysadmin” här https://business.facebook.com/settings/system-users. 
    * Klicka på knappen “Add Assets” och välj Ad Accounts. Välj kundens annonskonto och tilldela Full control.
* Lägg in en integration med "facebook" som driver i admin/configuration i plattformen med följande config.
    * Ex `{"Token":"${fb-token}", "AppSecret":"${fb-app-secret}", "AdAccountId":"act_${fb-adaccount}", "KeyField":"email", "Description":"Generated by Infobaleen."}`
* Förklaring av config
    * Token: Genereras för en användare i Facebook, i det här fallet för vår systemanvändare “Sysadmin”. Finns i Bitwarden under collection = Infobaleen och objektet “Facebook”.
    * AppSecret: Genereras från vår Facebook app. Finns i Bitwarden enl tidigare beskrivning.
    * AdAccountId: Kundens adaccount-id. Notera att den måste ha prefix `act_`, se exempel config.
    * KeyField: Ange det fält på användare som innehåller email-adress.
    * Description: Beskrivning som syns på segmentet i Facebook Ad Manager.

[*Back to top*](#table-of-contents)
