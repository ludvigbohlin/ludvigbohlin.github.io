<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../img/favicon.ico">
        <title>Auto-targeting - CS docs</title>
        <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="../../..">CS docs</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Start <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../..">Infobaleen Documentation</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Internal procedures <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../../Internal procedures/Overview-presentations/">Overview presentation</a>
</li>
                                    
<li >
    <a href="../../../Internal procedures/Add-ons and Solutions/Cases/">Add-ons and Solutions</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Editing the wiki</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../Internal procedures/Editing the wiki/Editing-procedures/">Editing procedures</a>
</li>
            
<li >
    <a href="../../../Internal procedures/Editing the wiki/Writing-in-markdown/">Writing in markdown</a>
</li>
    </ul>
  </li>
                                    
<li >
    <a href="../../../Internal procedures/G-suite/Create-new-user/">G-suite</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Workflows</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../Internal procedures/Workflows/GA data/">GA data</a>
</li>
            
<li >
    <a href="../../../Internal procedures/Workflows/How-to-create-an-API-key-and-URL-to-fetch-product-recommendations/">How to create an API key and URL to fetch product rec</a>
</li>
            
<li >
    <a href="../../../Internal procedures/Workflows/Platform-setup-(import-files,-sources-and-datamodel)/">Platform setup (import files, sources and datamodel)</a>
</li>
            
<li >
    <a href="../../../Internal procedures/Workflows/Other/">Other</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Kube <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../../Kube/Creating-new-platform/">Creating new platform</a>
</li>
                                    
<li >
    <a href="../../../Kube/Public-IP/">Public IP</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Platform <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
  <li class="dropdown-submenu">
    <a href="#">Analytics</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../Analytics/Dashboards/">Dashboards</a>
</li>
            
<li >
    <a href="../../Analytics/Customer Insights/">Customer Insights</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Menu</a>
    <ul class="dropdown-menu">
            
  <li class="dropdown-submenu">
    <a href="#">Account</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../Menu/Account/API Keys/">API Keys</a>
</li>
            
<li >
    <a href="../../Menu/Account/Logout/">Logout</a>
</li>
            
<li >
    <a href="../../Menu/Account/Users/">Users</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">Admin</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../Menu/Admin/Clear CH chache/">Clear CH chache</a>
</li>
            
<li >
    <a href="../../Menu/Admin/Configuration/">Configuration</a>
</li>
            
<li >
    <a href="../../Menu/Admin/Connections/">Connections</a>
</li>
            
<li >
    <a href="../../Menu/Admin/Events/">Events</a>
</li>
            
<li >
    <a href="../../Menu/Admin/Secrets/">Secrets.md</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">Documentation</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../Menu/Documentation/Agent/">Agent</a>
</li>
            
<li >
    <a href="../../Menu/Documentation/API/">API</a>
</li>
            
<li >
    <a href="../../Menu/Documentation/New Issue/">New Issue</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">Manage Data</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../Menu/Manage Data/Data Models/">Data Models</a>
</li>
            
<li >
    <a href="../../Menu/Manage Data/Import Files/">Import Files</a>
</li>
            
<li >
    <a href="../../Menu/Manage Data/Manage-Data/">Manage-Data</a>
</li>
            
<li >
    <a href="../../Menu/Manage Data/Results/">Results</a>
</li>
            
<li >
    <a href="../../Menu/Manage Data/Sources/">Sources</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">Model</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../Menu/Model/Interactions/">Interactions</a>
</li>
            
<li >
    <a href="../../Menu/Model/Overview/">Overview</a>
</li>
            
<li >
    <a href="../../Menu/Model/Products/">Products</a>
</li>
            
<li >
    <a href="../../Menu/Model/Users/">Users</a>
</li>
    </ul>
  </li>
            
<li >
    <a href="../../Menu/Other/Overlaps/">Other</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Segmentations</a>
    <ul class="dropdown-menu">
            
<li class="active">
    <a href="./">Auto-targeting</a>
</li>
            
<li >
    <a href="../Clustering/">Clustering</a>
</li>
    </ul>
  </li>
                                    
<li >
    <a href="../../Recommendations/Recommendations/">Recommendations</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li >
                                <a rel="next" href="../../Menu/Other/Overlaps/">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li >
                                <a rel="prev" href="../Clustering/">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#table-of-contents">Table of Contents</a></li>
        <li class="main "><a href="#auto-targeting">Auto-targeting</a></li>
            <li><a href="#using-auto-targeting">Using Auto-targeting</a></li>
        <li class="main "><a href="#clustering">Clustering</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="table-of-contents">Table of Contents</h1>
<ol>
<li><a href="#auto-targeting">Auto-targeting</a><ol>
<li><a href="#using-auto-targeting">Using Auto-targeting</a><ol>
<li><a href="#step-1-initiate-auto-targeting-campaign">Step 1: Initiate auto-targeting campaign</a></li>
<li><a href="#step-2-choose-recipients">Step 2: Choose recipients </a></li>
<li><a href="#step-3-create-advertisements">Step 3: Create advertisements </a></li>
</ol>
</li>
</ol>
</li>
<li><a href="#clustering">Clustering</a>
<a href="#table-of-contents"></a></li>
</ol>
<p><a href="#table-of-contents"><em>Back to top</em></a></p>
<h1 id="auto-targeting">Auto-targeting</h1>
<p><strong>Note! Before Segmentations you need to train the machine-learning model</strong></p>
<ol>
<li>Choose the data model and edit it</li>
<li>Scroll to the bottom and enable the ML Engine, see image below, and click Save</li>
<li>Make sure the platform has been added to the <code>k8s-ml-registry</code></li>
</ol>
<p><img src="../../../images/Segmentations/segmentations-0.png" width="556"/></p>
<p>After the machine-learning model has been trained you can create segmentations.</p>
<p><details>
<summary>What about the parameters in the ML model?</summary>
<br>
The problem with the model and the parameters is that this really isn't straightforward. In principle you want as much data as possible. The default settings just prevent blowing up the worker with an enormous dataset accidentally.</p>
<p>There are a few dataset specific details that may make smaller limits sensible. For example, if a customer has high item turnover and you want to exclude old transactions and items that don't really contribute to current recommendations anymore if they are included in the model. But that is fairly difficult to reason about</p>
<p>The default settings should be fine most of the time. Especially if the customer has less than 1000 actively sold items at the moment I wouldn't expect the limits to have much of an effect.</p>
<p>The first limit should probably be clarified a bit. Maybe "Min interactions per item", because I suspect that it excludes items that have fewer than the specified number of interactions. This makes sense because we can't really learn anything useful about items that have very few transactions (I guess that is fairly intuitive, there's just no information to look at)
</details></p>
<p><a href="#table-of-contents"><em>Back to top</em></a></p>
<h2 id="using-auto-targeting">Using Auto-targeting</h2>
<p>Auto-targeting identifies optimal combinations of items and users that helps increase conversion in campaigns. The results are based on the results from the machine-learning models. </p>
<p>The result is groups with recommended users-items combinations to use in the advertisements, see the overview below:</p>
<pre><code class="mermaid">graph TD;
    Campaign--&gt;SelectRecipients;
    SelectRecipients--&gt;Advertisement1;
    SelectRecipients--&gt;Advertisement2;
    SelectRecipients--&gt;Advertisement3;
    Advertisement1--&gt;SelectItems1;
    Advertisement2--&gt;SelectItems2;
    Advertisement3--&gt;SelectItems3;
    SelectItems1--&gt;AddFilters1;
    SelectItems2--&gt;AddFilters2;
    SelectItems3--&gt;AddFilters3;
</code></pre>

<p><a href="#table-of-contents"><em>Back to top</em></a></p>
<h3 id="step-1-initiate-auto-targeting-campaign">Step 1: Initiate auto-targeting campaign</h3>
<ol>
<li>Choose the <strong>Auto Targeting</strong> tab</li>
<li>Create a new auto-targeting campaign by clicking the + icon in the upper right corner</li>
<li>Name the auto-targeting model (in the image below <code>Auto-targeting test</code>), and choose the maximum number of recipients for the campaign. <ul>
<li>Note that <code>Available recipients</code> indicates the total number of users that exists in the data</li>
</ul>
</li>
</ol>
<p><img src="../../../images/Segmentations/segmentations-1.png" width="921"/></p>
<p><a href="#table-of-contents"><em>Back to top</em></a></p>
<h3 id="step-2-choose-recipients">Step 2: Choose recipients</h3>
<p>After the campaign has been created, now it's time to set the recipients (audience) for the campaign.</p>
<ol>
<li>To filter the data for various campaigns, click the filter icon to the right of the user icon</li>
</ol>
<p><img src="../../../images/Segmentations/segmentations-2.png" width="883"/></p>
<ol>
<li>Choose a filter according to your needs. In the below image, users have been filtered to contains those with age 20-25 that are registered in Sweden.</li>
</ol>
<p><img src="../../../images/Segmentations/segmentations-3.png" width="834"/></p>
<p><a href="#table-of-contents"><em>Back to top</em></a></p>
<h3 id="step-3-create-advertisements">Step 3: Create advertisements</h3>
<ol>
<li>
<p>To set up an advertisement click the + icon under the auto-targeting card. </p>
</li>
<li>
<p>Name the advertisement and click the + icon and <code>Select items to target</code></p>
</li>
</ol>
<p>This will trigger some settings to pop up above. 
  * <strong>ignore already consumed</strong>: used to block so that users do not end up in a campaign that they already bought from. For example, if you have a campaign including Product1 and a user has already bought that product, then you may want to make sure that the user can not end up in a campaign inlcuding that product. 
  * <strong>Trend</strong>: If you choose a high trend value, then seasonal trends in sales will have higher weight (e.g. during Christmas more Santa Claus-products are probably sold)
  * <strong>Item.multiplier (?) and Recipient multiplier (?)</strong>: These can be ignored. The idea is that you can weight the score for a user or item. Ex: item.price, or user.propensity for item resp. user. But it is experimental and seldom used. </p>
<p><img src="../../../images/Segmentations/segmentations-4.png" width="867"/></p>
<ol>
<li>
<p>Now you can choose to add how many items to include in your advertisement, and what filters should apply. You can also add additionalt filters for the recipients. When ready, press <code>Save and Run</code>. </p>
</li>
<li>
<p>The result will look similar to the image below. You can see the products included in the advertisement, the number of recipients, and an average recipient score and its distribution. The recipient score is a value from 0 to 1, where 1 indicates a very strong match between the user and the advertisement. In this case, a recommendation would be to only use the first 30% recipients or so in the advertisement, since the scores for the long tail of users is low. </p>
</li>
</ol>
<p><img src="../../../images/Segmentations/segmentations-5.png" width="849"/></p>
<p><a href="#table-of-contents"><em>Back to top</em></a></p>
<h1 id="clustering">Clustering</h1>
<p>Clustering makes it possible to group users and items into a specified number of clusters. For finding cluster, there are three different algorithms that can be used:
1. <code>embedding</code> with item clusters from the trained machine-learning model and users assigned to the most connected cluster,
2. <code>plsa</code>, <a href="https://en.wikipedia.org/wiki/Probabilistic_latent_semantic_analysis">Probabilistic Latent Semantic Analysis</a> run separately, and
3. <code>modularity</code>, network-based <a href="https://en.wikipedia.org/wiki/Louvain_modularity">modularity optimization</a>run separately.</p>
<p><code>embedding</code> is the fastest method since it uses the trained machine-learning model.</p>
<p><a href="#table-of-contents"><em>Back to top</em></a></p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../../..",
                shortcuts = {"search": 83, "next": 78, "help": 191, "previous": 80};
        </script>
        <script src="../../../js/base.js" defer></script>
        <script src="../../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
