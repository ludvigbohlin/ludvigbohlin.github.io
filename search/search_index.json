{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Infobaleen Documentation Welcome to the docs!","title":"Infobaleen Documentation"},{"location":"#infobaleen-documentation","text":"Welcome to the docs!","title":"Infobaleen Documentation"},{"location":"Internal procedures/Overview-presentations/","text":"Table of Contents Presentations overview Internal Christian\u2019s development guidelines Customer Status | Weekly Progress Report External Goals for 2022 Sales presentation Platform description Amazon E-Commerce Playbook Infobaleen presentation 2021 Back to top Presentations overview Back to top Internal Presentations we show internally Back to top Christian\u2019s development guidelines https://docs.google.com/document/d/1A7nilXz47QbpMofQJfoi2rIey2oLtLnqEtpn3RNQnJo/edit# Back to top Customer Status | Weekly Progress Report This presentation is the one that the CS team shows weekly progress through to the rest of the company. It contains an overview of customers with their logos and an image hinting at their field. https://docs.google.com/presentation/d/1vmpK3K4q0JSL1HEqIpeqJFxA5thXrOOB7ZZy4td1LJo Back to top External Presentations we show to customers, partners etc. Back to top Goals for 2022 Goals for 2022 and how we operate: This is a description of how we work Infobaleen Goals 2022 roles and responsibilities https://docs.google.com/presentation/d/1MDx1NB0Huhm8S3R5aSJWMKSqlMbj5HfSl-2zW8OM91E/edit#slide=id.g10f93271d60_0_54 Back to top Sales presentation This is the presentation we show when selling Sales presentation Infobaleen 2022 https://docs.google.com/presentation/d/1ouvU7s64bEJ9-w-fAMFq0lehU8K_x_7ouY3lHuoXze8/edit Back to top Platform description This is a detailed description for investors how our platform works VC| Infobaleen platform description https://docs.google.com/presentation/d/1gJ5Wjy0NzdNMhbsHfR2XbjnKrMfcoj02E4izlkmIQCw/edit#slide=id.p Back to top Amazon E-Commerce Playbook The ecommerce playbook is a document from Amazon (2014) that described how they ran their business, old but still relevant for inspiration E-Commerce Playbook.pdf https://drive.google.com/file/d/1hbozzYgYsEjsmmminPyAVkrpZIkcdfek/view Back to top Infobaleen presentation 2021 Longer sales presentation this is a longer sales presentation we used earlier https://docs.google.com/presentation/d/11QorAfst1az7xwl0uRtGz64mRANxhZgAqkH5pb2eOH8/edit Back to top","title":"Overview presentation"},{"location":"Internal procedures/Overview-presentations/#table-of-contents","text":"Presentations overview Internal Christian\u2019s development guidelines Customer Status | Weekly Progress Report External Goals for 2022 Sales presentation Platform description Amazon E-Commerce Playbook Infobaleen presentation 2021 Back to top","title":"Table of Contents"},{"location":"Internal procedures/Overview-presentations/#presentations-overview","text":"Back to top","title":"Presentations overview"},{"location":"Internal procedures/Overview-presentations/#internal","text":"Presentations we show internally Back to top","title":"Internal"},{"location":"Internal procedures/Overview-presentations/#christians-development-guidelines","text":"https://docs.google.com/document/d/1A7nilXz47QbpMofQJfoi2rIey2oLtLnqEtpn3RNQnJo/edit# Back to top","title":"Christian\u2019s development guidelines"},{"location":"Internal procedures/Overview-presentations/#customer-status-weekly-progress-report","text":"This presentation is the one that the CS team shows weekly progress through to the rest of the company. It contains an overview of customers with their logos and an image hinting at their field. https://docs.google.com/presentation/d/1vmpK3K4q0JSL1HEqIpeqJFxA5thXrOOB7ZZy4td1LJo Back to top","title":"Customer Status | Weekly Progress Report"},{"location":"Internal procedures/Overview-presentations/#external","text":"Presentations we show to customers, partners etc. Back to top","title":"External"},{"location":"Internal procedures/Overview-presentations/#goals-for-2022","text":"Goals for 2022 and how we operate: This is a description of how we work Infobaleen Goals 2022 roles and responsibilities https://docs.google.com/presentation/d/1MDx1NB0Huhm8S3R5aSJWMKSqlMbj5HfSl-2zW8OM91E/edit#slide=id.g10f93271d60_0_54 Back to top","title":"Goals for 2022"},{"location":"Internal procedures/Overview-presentations/#sales-presentation","text":"This is the presentation we show when selling Sales presentation Infobaleen 2022 https://docs.google.com/presentation/d/1ouvU7s64bEJ9-w-fAMFq0lehU8K_x_7ouY3lHuoXze8/edit Back to top","title":"Sales presentation"},{"location":"Internal procedures/Overview-presentations/#platform-description","text":"This is a detailed description for investors how our platform works VC| Infobaleen platform description https://docs.google.com/presentation/d/1gJ5Wjy0NzdNMhbsHfR2XbjnKrMfcoj02E4izlkmIQCw/edit#slide=id.p Back to top","title":"Platform description"},{"location":"Internal procedures/Overview-presentations/#amazon-e-commerce-playbook","text":"The ecommerce playbook is a document from Amazon (2014) that described how they ran their business, old but still relevant for inspiration E-Commerce Playbook.pdf https://drive.google.com/file/d/1hbozzYgYsEjsmmminPyAVkrpZIkcdfek/view Back to top","title":"Amazon E-Commerce Playbook"},{"location":"Internal procedures/Overview-presentations/#infobaleen-presentation-2021","text":"Longer sales presentation this is a longer sales presentation we used earlier https://docs.google.com/presentation/d/11QorAfst1az7xwl0uRtGz64mRANxhZgAqkH5pb2eOH8/edit Back to top","title":"Infobaleen presentation 2021"},{"location":"Internal procedures/Add-ons and Solutions/Cases/","text":"Table of Contents Solution Methods With Use Cases Year-on-Year analysis Prepare Sources Prepare Expressions Setup Dashboard Back to top Solution Methods With Use Cases Back to top Year-on-Year analysis Most customers want to see comparisons of sales agains last year's numbers. This is a solution I did to show that with the tools we had at the time. Noted by Felix 2022-05-18 Back to top Prepare Sources To produce the data needed, I added the columns yoy_ts and yoy_year to the interaction source with the following logic based on ts being the timestamp of the interaction: if(ts now - 2 years, 'Older', if(ts now - 1 year, 'Last year', 'This year')) AS yoy_year if(ts now - 2 years, '', if(ts now - 1 year, ts + 1 year, ts)) AS yoy_ts The logic is that interactions older than 2 years are labeled Older , between 1-2 year are labeled Last year and newer than 1 year are labeled This year . Then to calculate the timestamp, interactions older than 2 years by are removed, interactions between 1-2 years ago get a date 1 year later, and interactions within 1 year keep their date. Back to top Prepare Expressions I added the new fields to the data model, with yoy_year as Category and yoy_ts as Number. To use the new field as a Timestamp, I added a Year-on-Year Date as this expression toStartOfDay(toDate(toUnixTimestamp(yoy_ts))) Then to compare revenue between the years I added YoY Revenue (This year) and YoY Revenue (Last year) by sumIf(revenue, yoy_year = 'This year') sumIf(revenue, yoy_year = 'Last year') This can be applied to count unique orders, sold units etc. Back to top Setup Dashboard These elements can be included anywhere, but I first tried these in a new dashboard. Line Chart : I created a Line Chart with xValue as Year-on-Year Date . The yValue can be anything like Revenue, Unique Orders and so on. Then under Advanced I selected yoy_year as group key. Date Filter : I added a date filter on Year-on-Year Date to be able to adjust the time scale. Metric with Comparison : To show metrics with change from last year I created a metric with YoY Revenue (This year) as main metric and YoY Revenue (Last year) as secondary metric. Bar Chart with Comparison : I also tried Bar Charts with YoY Revenue (This year) as main metric and YoY Revenue (Last year) as secondary metric that could show differnces in sales for each item category and so on. Back to top","title":"Add-ons and Solutions"},{"location":"Internal procedures/Add-ons and Solutions/Cases/#table-of-contents","text":"Solution Methods With Use Cases Year-on-Year analysis Prepare Sources Prepare Expressions Setup Dashboard Back to top","title":"Table of Contents"},{"location":"Internal procedures/Add-ons and Solutions/Cases/#solution-methods-with-use-cases","text":"Back to top","title":"Solution Methods With Use Cases"},{"location":"Internal procedures/Add-ons and Solutions/Cases/#year-on-year-analysis","text":"Most customers want to see comparisons of sales agains last year's numbers. This is a solution I did to show that with the tools we had at the time. Noted by Felix 2022-05-18 Back to top","title":"Year-on-Year analysis"},{"location":"Internal procedures/Add-ons and Solutions/Cases/#prepare-sources","text":"To produce the data needed, I added the columns yoy_ts and yoy_year to the interaction source with the following logic based on ts being the timestamp of the interaction: if(ts now - 2 years, 'Older', if(ts now - 1 year, 'Last year', 'This year')) AS yoy_year if(ts now - 2 years, '', if(ts now - 1 year, ts + 1 year, ts)) AS yoy_ts The logic is that interactions older than 2 years are labeled Older , between 1-2 year are labeled Last year and newer than 1 year are labeled This year . Then to calculate the timestamp, interactions older than 2 years by are removed, interactions between 1-2 years ago get a date 1 year later, and interactions within 1 year keep their date. Back to top","title":"Prepare Sources"},{"location":"Internal procedures/Add-ons and Solutions/Cases/#prepare-expressions","text":"I added the new fields to the data model, with yoy_year as Category and yoy_ts as Number. To use the new field as a Timestamp, I added a Year-on-Year Date as this expression toStartOfDay(toDate(toUnixTimestamp(yoy_ts))) Then to compare revenue between the years I added YoY Revenue (This year) and YoY Revenue (Last year) by sumIf(revenue, yoy_year = 'This year') sumIf(revenue, yoy_year = 'Last year') This can be applied to count unique orders, sold units etc. Back to top","title":"Prepare Expressions"},{"location":"Internal procedures/Add-ons and Solutions/Cases/#setup-dashboard","text":"These elements can be included anywhere, but I first tried these in a new dashboard. Line Chart : I created a Line Chart with xValue as Year-on-Year Date . The yValue can be anything like Revenue, Unique Orders and so on. Then under Advanced I selected yoy_year as group key. Date Filter : I added a date filter on Year-on-Year Date to be able to adjust the time scale. Metric with Comparison : To show metrics with change from last year I created a metric with YoY Revenue (This year) as main metric and YoY Revenue (Last year) as secondary metric. Bar Chart with Comparison : I also tried Bar Charts with YoY Revenue (This year) as main metric and YoY Revenue (Last year) as secondary metric that could show differnces in sales for each item category and so on. Back to top","title":"Setup Dashboard"},{"location":"Internal procedures/Editing the wiki/Editing-procedures/","text":"Table of Contents Format of files Running scripts Generate README Table of Contents Using the script How the script works Generate Table of Contents in files Back to top Format of files All files consist of a top row with a header starting with # . Running the Table of Contents generator will add a table of content above this title row. Running it again will update the existing table of contents. Back to top Running scripts Back to top Generate README Table of Contents Back to top Using the script When new edits are made to the file tree, whether it be renaming, removing or creating files or directories, run the readme_generator.py to generate a new README.md with updated table of contents and hyperlinks. Note that you must have the repo as your working directory for the script to work, such as: C:\\Users\\MyUser\\Infobaleen\\customer-success python3 readme_generator.py Back to top How the script works The script opens the folder Documentation from the current working directory, which is why it has to be run from the repo folder. It then walks the file tree and writes a line to the readme file for each directory it encounters, and then for all files in that directory. The markdown formatting for each directory is done in three parts: 1. Create an indent (4 spaces) for the current depth from the Documentation folder minus 1. 2. Create a header with a 1. followed by one # for each level below the Documenatation folder. 3. Create a link by texting the title of the directory and linking to the github repo based on the directory name The markdown formatting for each file is done in three parts: 1. Create an indent (4 spaces) for the current depth from the Documentation folder. 2. Create a bullet list by adding a - to the line. 3. Create a link like with the directories, but replace any - with spaces and remove .md suffix. Back to top Generate Table of Contents in files In development in table_of_contents_generator.py Back to top","title":"Editing procedures"},{"location":"Internal procedures/Editing the wiki/Editing-procedures/#table-of-contents","text":"Format of files Running scripts Generate README Table of Contents Using the script How the script works Generate Table of Contents in files Back to top","title":"Table of Contents"},{"location":"Internal procedures/Editing the wiki/Editing-procedures/#format-of-files","text":"All files consist of a top row with a header starting with # . Running the Table of Contents generator will add a table of content above this title row. Running it again will update the existing table of contents. Back to top","title":"Format of files"},{"location":"Internal procedures/Editing the wiki/Editing-procedures/#running-scripts","text":"Back to top","title":"Running scripts"},{"location":"Internal procedures/Editing the wiki/Editing-procedures/#generate-readme-table-of-contents","text":"Back to top","title":"Generate README Table of Contents"},{"location":"Internal procedures/Editing the wiki/Editing-procedures/#using-the-script","text":"When new edits are made to the file tree, whether it be renaming, removing or creating files or directories, run the readme_generator.py to generate a new README.md with updated table of contents and hyperlinks. Note that you must have the repo as your working directory for the script to work, such as: C:\\Users\\MyUser\\Infobaleen\\customer-success python3 readme_generator.py Back to top","title":"Using the script"},{"location":"Internal procedures/Editing the wiki/Editing-procedures/#how-the-script-works","text":"The script opens the folder Documentation from the current working directory, which is why it has to be run from the repo folder. It then walks the file tree and writes a line to the readme file for each directory it encounters, and then for all files in that directory. The markdown formatting for each directory is done in three parts: 1. Create an indent (4 spaces) for the current depth from the Documentation folder minus 1. 2. Create a header with a 1. followed by one # for each level below the Documenatation folder. 3. Create a link by texting the title of the directory and linking to the github repo based on the directory name The markdown formatting for each file is done in three parts: 1. Create an indent (4 spaces) for the current depth from the Documentation folder. 2. Create a bullet list by adding a - to the line. 3. Create a link like with the directories, but replace any - with spaces and remove .md suffix. Back to top","title":"How the script works"},{"location":"Internal procedures/Editing the wiki/Editing-procedures/#generate-table-of-contents-in-files","text":"In development in table_of_contents_generator.py Back to top","title":"Generate Table of Contents in files"},{"location":"Internal procedures/Editing the wiki/Writing-in-markdown/","text":"Table of Contents How to write in markdown syntax Back to top How to write in markdown syntax Wordpress link showing relevant syntax with examples: https://wordpress.com/support/markdown-quick-reference/ Other sources: https://docs.github.com/en/get-started/writing-on-github/getting-started-with-writing-and-formatting-on-github/basic-writing-and-formatting-syntax https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet#headers Back to top","title":"Writing in markdown"},{"location":"Internal procedures/Editing the wiki/Writing-in-markdown/#table-of-contents","text":"How to write in markdown syntax Back to top","title":"Table of Contents"},{"location":"Internal procedures/Editing the wiki/Writing-in-markdown/#how-to-write-in-markdown-syntax","text":"Wordpress link showing relevant syntax with examples: https://wordpress.com/support/markdown-quick-reference/ Other sources: https://docs.github.com/en/get-started/writing-on-github/getting-started-with-writing-and-formatting-on-github/basic-writing-and-formatting-syntax https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet#headers Back to top","title":"How to write in markdown syntax"},{"location":"Internal procedures/G-suite/Create-new-user/","text":"Table of Contents Creating a new user Creating new infobaleen accounts In Gsuite on the infobaleen.com domain Admin: User: Back to top Creating a new user Back to top Creating new infobaleen accounts Back to top In Gsuite on the infobaleen.com domain Back to top Admin: Create user in Gsuite Admin Set explicit password Get security code Back to top User: Set custom password Generate new security codes Back to top","title":"G-suite"},{"location":"Internal procedures/G-suite/Create-new-user/#table-of-contents","text":"Creating a new user Creating new infobaleen accounts In Gsuite on the infobaleen.com domain Admin: User: Back to top","title":"Table of Contents"},{"location":"Internal procedures/G-suite/Create-new-user/#creating-a-new-user","text":"Back to top","title":"Creating a new user"},{"location":"Internal procedures/G-suite/Create-new-user/#creating-new-infobaleen-accounts","text":"Back to top","title":"Creating new infobaleen accounts"},{"location":"Internal procedures/G-suite/Create-new-user/#in-gsuite-on-the-infobaleencom-domain","text":"Back to top","title":"In Gsuite on the infobaleen.com domain"},{"location":"Internal procedures/G-suite/Create-new-user/#admin","text":"Create user in Gsuite Admin Set explicit password Get security code Back to top","title":"Admin:"},{"location":"Internal procedures/G-suite/Create-new-user/#user","text":"Set custom password Generate new security codes Back to top","title":"User:"},{"location":"Internal procedures/Workflows/GA data/","text":"Table of Contents GA data Back to top GA data asdas das Back to top","title":"GA data"},{"location":"Internal procedures/Workflows/GA data/#table-of-contents","text":"GA data Back to top","title":"Table of Contents"},{"location":"Internal procedures/Workflows/GA data/#ga-data","text":"asdas das Back to top","title":"GA data"},{"location":"Internal procedures/Workflows/How-to-create-an-API-key-and-URL-to-fetch-product-recommendations/","text":"Table of Contents How to create an API key and URL to fetch product recommendations Steps to integrate with Rule Integrate with Rule What\u2019s needed Export segments Personalized product recommendations Back to top How to create an API key and URL to fetch product recommendations Note! The key is only visible for 1 hour after creation. Go to the three dots on the top right corner of the screen and select \"API keys\" Create a API key by pressing the purple plus sign on the right side Name your API key and select ItemToItems , UserToItems , and ItemData Press \"Save\" Copy the API key Use Bitwarden to send the API key to the customer email. Remember to remove the password protection After the API key has been sent, email the customer the URL christian note: We need to standardize how we communicate the tokens. Email is NOT a secure medium. If possible, let the customer setup the API keys in the platform. Bitwarden can be used with PASSWORD protection. Back to top Steps to integrate with Rule Under data model User config the field email must be set to the role Email edit the item source used in the data model and add where means inputs you need to edit. concat('https://myplatform.infobaleen.com/token/ RULE_API_KEY /api/v1/data-models/ ID /item-data?format=og id=', items.id) og_url, go to the data model and activate Active and MlMeta for og_url Back to top Integrate with Rule Take your marketing efforts in Rule to a new level by combining our powerful features of segmentation and personalization with your Rule account. Export segments from your Infobaleen platform directly to Rule as tags and target them in your marketing. Use personalized product recommendations directly in your emails meaning personalized content for each and every recipient. Here is a summary of how to enable our recommendations and segmentation in Rule. Back to top What\u2019s needed The two features requires different actions Back to top Export segments Provide us with an API key from your Rule account. The key is generated under Settings / Developer in the Rule platform. The user identifier used in Rule must be present as user meta data in the Infobaleen platform. The standard identifier in Rule is email . Provide us with information if you use a custom identifier. Once in place, you have a new export target available, \u201crule\u201d, when exporting a segment from your platform. Exported segments will appear as tags in Rule where you can target them with relevant content. You will also have the ability to filter users on unsubscribe status from Rule when creating segments in your Infobaleen platform. These are the available fields.They have either the value 1 (unsubscribed) or 0 (not unsubscribed). rule_email_campaign_unsub rule_email_transactional_unsub rule_sms_campaign_unsub rule_sms_transactional_unsub Back to top Personalized product recommendations Make sure your user data in Rule includes the user identifier used in Infobaleen . If not already present, make sure to include it in your exports to Rule. Rule will use this id to fetch recommendations from the Infobaleen platform. Select what product meta data Rule will have access to. Rule uses OG-tags present on web pages as product data for recommendations. Either we supply OG-tags from product pages on your website or from your product meta data in the Infobaleen platform. Provide us with the option you prefer. Option 1: Use product pages from your site . Requires product URLs to be present in the Infobaleen platform. This has the benefit of you having greater control over what product data is available in Rule, ex easier to add new product meta data if needed, and the data Rule uses will always be up to date. Else, as data is synchronized once a day in the Infobaleen platform, there will be a delay between a change on your side and the data being updated in the Infobaleen platform and what's available to Rule. Option 2: Use product meta data available in the Infobaleen platform . Contact us and we will configure your platform. Create an API profile in your Infobaleen platform. This will allow you to configure the recommendations used by Rule directly from the platform. Create an API key in your Infobaleen platform with access to the api-profile created in the previous step. This is done under the settings menu / Account / API Keys. Contact Rule for a custom email template that uses personalized recommendations, and provide them with a link to the profile with recommendations from your platform in the form: https://myplatform.infobaleen.com/token/ /api/v1/api-profiles/{ID}/recommendations/user-to-items?User={USERID} Limit={LIMIT} Note, USERID and LIMIT are variables that Rule will replace. RULE_API_KEY are from the previous step. Once all is in place, you can send personalized emails that are dynamically populated with configurable product recommendations from Infobaleen at sending time. Having multiple templates for personalized recommendations can be a step to take it even further. Create multiple profiles with specific business rules and have Rule create a template for each. Add categorized blocks with personalized recommendations in your content where you filter recommendations on specific category data. As an example one block with \u201cYour recommendations in travel\u201d and another with \u201cYour recommendations from our latest products\u201d. Note that all profiles can use the same API key. Back to top","title":"How to create an API key and URL to fetch product rec"},{"location":"Internal procedures/Workflows/How-to-create-an-API-key-and-URL-to-fetch-product-recommendations/#table-of-contents","text":"How to create an API key and URL to fetch product recommendations Steps to integrate with Rule Integrate with Rule What\u2019s needed Export segments Personalized product recommendations Back to top","title":"Table of Contents"},{"location":"Internal procedures/Workflows/How-to-create-an-API-key-and-URL-to-fetch-product-recommendations/#how-to-create-an-api-key-and-url-to-fetch-product-recommendations","text":"Note! The key is only visible for 1 hour after creation. Go to the three dots on the top right corner of the screen and select \"API keys\" Create a API key by pressing the purple plus sign on the right side Name your API key and select ItemToItems , UserToItems , and ItemData Press \"Save\" Copy the API key Use Bitwarden to send the API key to the customer email. Remember to remove the password protection After the API key has been sent, email the customer the URL christian note: We need to standardize how we communicate the tokens. Email is NOT a secure medium. If possible, let the customer setup the API keys in the platform. Bitwarden can be used with PASSWORD protection. Back to top","title":"How to create an API key and URL to fetch product recommendations"},{"location":"Internal procedures/Workflows/How-to-create-an-API-key-and-URL-to-fetch-product-recommendations/#steps-to-integrate-with-rule","text":"Under data model User config the field email must be set to the role Email edit the item source used in the data model and add where means inputs you need to edit. concat('https://myplatform.infobaleen.com/token/ RULE_API_KEY /api/v1/data-models/ ID /item-data?format=og id=', items.id) og_url, go to the data model and activate Active and MlMeta for og_url Back to top","title":"Steps to integrate with Rule"},{"location":"Internal procedures/Workflows/How-to-create-an-API-key-and-URL-to-fetch-product-recommendations/#integrate-with-rule","text":"Take your marketing efforts in Rule to a new level by combining our powerful features of segmentation and personalization with your Rule account. Export segments from your Infobaleen platform directly to Rule as tags and target them in your marketing. Use personalized product recommendations directly in your emails meaning personalized content for each and every recipient. Here is a summary of how to enable our recommendations and segmentation in Rule. Back to top","title":"Integrate with Rule"},{"location":"Internal procedures/Workflows/How-to-create-an-API-key-and-URL-to-fetch-product-recommendations/#whats-needed","text":"The two features requires different actions Back to top","title":"What\u2019s needed"},{"location":"Internal procedures/Workflows/How-to-create-an-API-key-and-URL-to-fetch-product-recommendations/#export-segments","text":"Provide us with an API key from your Rule account. The key is generated under Settings / Developer in the Rule platform. The user identifier used in Rule must be present as user meta data in the Infobaleen platform. The standard identifier in Rule is email . Provide us with information if you use a custom identifier. Once in place, you have a new export target available, \u201crule\u201d, when exporting a segment from your platform. Exported segments will appear as tags in Rule where you can target them with relevant content. You will also have the ability to filter users on unsubscribe status from Rule when creating segments in your Infobaleen platform. These are the available fields.They have either the value 1 (unsubscribed) or 0 (not unsubscribed). rule_email_campaign_unsub rule_email_transactional_unsub rule_sms_campaign_unsub rule_sms_transactional_unsub Back to top","title":"Export segments"},{"location":"Internal procedures/Workflows/How-to-create-an-API-key-and-URL-to-fetch-product-recommendations/#personalized-product-recommendations","text":"Make sure your user data in Rule includes the user identifier used in Infobaleen . If not already present, make sure to include it in your exports to Rule. Rule will use this id to fetch recommendations from the Infobaleen platform. Select what product meta data Rule will have access to. Rule uses OG-tags present on web pages as product data for recommendations. Either we supply OG-tags from product pages on your website or from your product meta data in the Infobaleen platform. Provide us with the option you prefer. Option 1: Use product pages from your site . Requires product URLs to be present in the Infobaleen platform. This has the benefit of you having greater control over what product data is available in Rule, ex easier to add new product meta data if needed, and the data Rule uses will always be up to date. Else, as data is synchronized once a day in the Infobaleen platform, there will be a delay between a change on your side and the data being updated in the Infobaleen platform and what's available to Rule. Option 2: Use product meta data available in the Infobaleen platform . Contact us and we will configure your platform. Create an API profile in your Infobaleen platform. This will allow you to configure the recommendations used by Rule directly from the platform. Create an API key in your Infobaleen platform with access to the api-profile created in the previous step. This is done under the settings menu / Account / API Keys. Contact Rule for a custom email template that uses personalized recommendations, and provide them with a link to the profile with recommendations from your platform in the form: https://myplatform.infobaleen.com/token/ /api/v1/api-profiles/{ID}/recommendations/user-to-items?User={USERID} Limit={LIMIT} Note, USERID and LIMIT are variables that Rule will replace. RULE_API_KEY are from the previous step. Once all is in place, you can send personalized emails that are dynamically populated with configurable product recommendations from Infobaleen at sending time. Having multiple templates for personalized recommendations can be a step to take it even further. Create multiple profiles with specific business rules and have Rule create a template for each. Add categorized blocks with personalized recommendations in your content where you filter recommendations on specific category data. As an example one block with \u201cYour recommendations in travel\u201d and another with \u201cYour recommendations from our latest products\u201d. Note that all profiles can use the same API key. Back to top","title":"Personalized product recommendations"},{"location":"Internal procedures/Workflows/Other/","text":"Table of Contents Overlaps Abbreviations and common expressions Executive titles Partner companies Centra Voyado klaviyo Rule Triggerbee Grebban Panagora Common problems and solutions Currency rates Creating new platform To access ib-kube: Windows ib platform on windows through wsl Setup IB-platform on Windows through WSL 2 ib platform on windows through wsl Intro Setup Windows VS code Ubuntu Subsystem Docker Setup in WSL Clone Repository Clickhouse Yarn vGPU Back to top Overlaps Back to top Abbreviations and common expressions API An application programming interface is a connection between computers or between computer programs. It is a type of software interface, offering a service to other pieces of software. CRM Customer Relationship Management (CRM) is a strategy that companies use to manage interactions with customers and potential customers. CRM helps organisations streamline processes, build customer relationships, increase sales, improve customer service, and increase profitability.* ERP system Cold Calling Cold calling is a technique in which a salesperson contacts individuals who have not previously expressed interest in the offered products or services. Cold calling typically refers to solicitation by phone or telemarketing, but can also involve in-person visits, such as with door-to-door salespeople. POC Proof of concept (POC) MRR Monthly Recurrent Revenue (MRR) Ad-hoc Something ad hoc is put together on the fly for one narrow, pressing, or special purpose. BI Business intelligence (BI) comprises the strategies and technologies used by enterprises for the data analysis and management of business information. B2B - Business-to-business B2C - business-to-consumer D2C - Direct to consumer EAN - European Article Number, no longer officially used as GTIN has replaced it, enabling the standard globally. GTIN - Global Trade Item Number and is a GS1 number used to give products and packaging a globally unique identity. The number identifies products ... LTV (Lifetime Value) is an estimate of the average revenue that a customer will generate throughout their lifespan as a customer. CLV - Customer Lifetime Value Cohort analysis - an analytical technique that categorizes and divides data into groups with common characteristics prior to analysis. Customer segments Customer segmentation is the process by which you divide your customers up based on common characteristics OKR (\u201cobjectives and key results\u201d) are a goal setting methodology that can help teams set measurable goals. AOV - Average order value (AOV) tracks the average dollar amount spent each time a customer places an order. Churn Analysis is the evaluation of a company's customer loss rate in order to reduce it. Also referred to as customer attrition rate, churn can be minimized by assessing your product and how people use it. RFM Analysis - \u201cRFM\u201d stands for recency, frequency and monetary value. RFM analysis is a way to use data based on existing customer behavior to predict how a new customer is likely to act in the future. An RFM model is built using three key factors: how recently a customer has transacted with a brand how frequently they\u2019ve engaged with a brand how much money they\u2019ve spent on a brand\u2019s products and services Price sensitivity Price sensitivity is the degree to which demand changes when the cost of a product or service changes. Basket Analysis Market basket analysis is a data mining technique used by retailers to increase sales by better understanding customer purchasing patterns. It involves analyzing large data sets, such as purchase history, to reveal product groupings, as well as products that are likely to be purchased together. VAT (moms) A value-added tax (VAT), known in some countries as a goods and services tax I sverige moms (ofta 25%) COGS Cost of goods sold (COGS) refers to the direct costs of producing the goods sold by a company. This amount includes the cost of the materials and labor directly used to create the good. It excludes indirect expenses, such as distribution costs and sales force costs. SKU A stock-keeping unit (SKU) is a scannable bar code, most often seen printed on product labels in a retail store. The label allows vendors to automatically track the movement of inventory. The SKU is composed of an alphanumeric combination of eight-or-so characters. GTIN Agg / Aggregation Embedding Query GDPR - general data regulation protection. Back to top Executive titles alphabetical (CEO on top) CEO - Chief Executive Officer (VD) | Responsible for the overall success of a business entity or other organization and for making top-level managerial decisions. CCO - Chief Commercial Officer | Responsible for the commercial strategy and the development of an organization. It typically involves activities relating to marketing, sales, product development and customer service. CFO - Chief Financial Officer | Responsibile for managing the company's finances, including financial planning, management of financial risks, record-keeping, and financial reporting. CIO - Chief Information Officer | Responsible for the management, implementation, and usability of information and computer technologies. CPO - Chief Product Officer | Responsible for various product-related activities in an organization. They focus on bringing the product strategy to align with the business strategy and to deploy that throughout the organization. CTO - Chief Technical Officer | Responsible for developing, implementing, managing and evaluating the company's technology resources. CXO - Chief Experience Officer | Responsible for a company's overall experience and interactions with customers. They help the company drive the entire CX, from products to services, end-to-end. Back to top Partner companies Back to top Centra info Back to top Voyado info Back to top klaviyo info Back to top Rule info Back to top Triggerbee info Back to top Grebban ecomm agency. designed our platform fall 2021. project is not implemented and used in production yet. Back to top Panagora info Back to top Common problems and solutions Back to top Currency rates The Concat row we use as an identifier to match the date an interaction was made in order to get a valid currency rate conversion. Steps: 1. Create a new source called currency_rates with \u201ccurrency_tag\u201d as id, now paste the query provided further down under \u201cQuery\u201d 2. Modify the url in the query to gather the currencies found in the dataset you\u2019re working with (Remove/add for example EUR, NOK) 3. The target should be edited to match the most common currency. For example a Swedish small local business should have SEK as target, and a Norwegian company should have NOK as target. 4. The from_date is changed to match the first transaction in the dataset the customer has. To do this, go to the source where you want to add currency rates (for example model - interactions), create a new query and make the same connection as query 1, in the new query, paste: SELECT MIN(ts) AS min_ts FROM import file, picture below for reference! Copy this timestamp, go to a unixtimestamp converted and check what date this is, and edit the from_date . DO NOT SAVE THE NEW QUERY 5. At the end of the query you want to add currency rates to, add the following row: LEFT JOIN currency_rates AS cr on cr.currency_tag = step1.currency_tag This results in the following: Query: SELECT concat(`date`, currency) AS currency_tag, `date` AS `date`, currency AS currency, conv_date AS conv_date, conv AS conv Back to top Creating new platform [ ] Open ib-kube repo [ ] Check customer\u2019s domain name, match platform name with theirs [ ] Create new file in pkg/settings/k8s with name platformname.go [ ] Paste content from another platform with recent build [ ] Redefine: [ ] Var name to platform name [ ] Name: [ ] Subdomain: [ ] Check available ingress (max 15) [ ] Ingress: to available ingress [ ] Follow ingress definition (Ctrl click Ingress variable) [ ] Copy ingress IP (used for dns record) (skicka IP till christian) [ ] Add/remove Args for centra or other integrations [ ] Verify tag (commit version) [ ] Adjust cpu limit and memory parameters if needed [ ] Save File [ ] Open pkg/setting/k8s/k8s.go [ ] Add variable for platform data to Platforms variable by appending to list [ ] Save File [ ] Open terminal in VS code and run git pull [ ] Then run make yaml (ignore errors) [ ] Go to Source Control [ ] Commit your changes with message (e.g. \u201ccreated platform NAME on COMMIT VERSION \u201d [ ] Push to repo [ ] [Request someone to] run \u201cmake k8s\u201d [ ] [Request someone to] add the DNS registry [ ] [Request someone to] add to k8s ml registry Back to top To access ib-kube: Back to top Windows Install WSL 2 https://pureinfotech.com/install-windows-subsystem-linux-2-windows-10/ https://code.visualstudio.com/blogs/2019/09/03/wsl2 Boot Ubuntu Install VS Code Git clone ib-kube Cd ib-kube Run command code . Done Back to top ib platform on windows through wsl Back to top Setup IB-platform on Windows through WSL 2 Intro Setup Windows VS code Ubuntu Subsystem Docker Clickhouse Yarn vGPU Back to top ib platform on windows through wsl Back to top Intro In short, Windows can run the InfoBaleen platform in a Linux subsystem and open it using a Linux browser, just as a normal application within Windows itself. This document summarizes the steps needed as of November 2021. Back to top Setup Windows Back to top VS code The preferred editor for this is Microsoft\u2019s Visual Studio Code. It provides cross platform functionality so that we can edit code in the Linux environment (or any other remote machine) directly from Windows. It can be downloaded here: https://code.visualstudio.com/ In the process, you can check the boxes for adding VS Code to the file context menu and folder context menu. This lets you open a file or directory in VS Code by right clicking it in explorer. Back to top Ubuntu Subsystem Open Microsoft Store and search for Ubuntu. Install the latest LTS (Long Term Support), at the moment of writing 20.04, and run it. Back to top Docker The Docker client has support for Linux subsystems in Windows. Open the link and follow the Download and the Install instructions. https://docs.docker.com/desktop/windows/wsl/ Back to top Setup in WSL Back to top Clone Repository Launch Ubuntu and navigate to where you want to place the cloned directory (ls to view directory, cd to change directory, mkdir to create new directory). Clone the repository by: git clone git@bitbucket.org:infobaleen/ib-platform.git If you have permission issues, contact a colleague for assistance. Back to top Clickhouse Back to top Yarn Back to top vGPU Back to top","title":"Other"},{"location":"Internal procedures/Workflows/Other/#table-of-contents","text":"Overlaps Abbreviations and common expressions Executive titles Partner companies Centra Voyado klaviyo Rule Triggerbee Grebban Panagora Common problems and solutions Currency rates Creating new platform To access ib-kube: Windows ib platform on windows through wsl Setup IB-platform on Windows through WSL 2 ib platform on windows through wsl Intro Setup Windows VS code Ubuntu Subsystem Docker Setup in WSL Clone Repository Clickhouse Yarn vGPU Back to top","title":"Table of Contents"},{"location":"Internal procedures/Workflows/Other/#overlaps","text":"Back to top","title":"Overlaps"},{"location":"Internal procedures/Workflows/Other/#abbreviations-and-common-expressions","text":"API An application programming interface is a connection between computers or between computer programs. It is a type of software interface, offering a service to other pieces of software. CRM Customer Relationship Management (CRM) is a strategy that companies use to manage interactions with customers and potential customers. CRM helps organisations streamline processes, build customer relationships, increase sales, improve customer service, and increase profitability.* ERP system Cold Calling Cold calling is a technique in which a salesperson contacts individuals who have not previously expressed interest in the offered products or services. Cold calling typically refers to solicitation by phone or telemarketing, but can also involve in-person visits, such as with door-to-door salespeople. POC Proof of concept (POC) MRR Monthly Recurrent Revenue (MRR) Ad-hoc Something ad hoc is put together on the fly for one narrow, pressing, or special purpose. BI Business intelligence (BI) comprises the strategies and technologies used by enterprises for the data analysis and management of business information. B2B - Business-to-business B2C - business-to-consumer D2C - Direct to consumer EAN - European Article Number, no longer officially used as GTIN has replaced it, enabling the standard globally. GTIN - Global Trade Item Number and is a GS1 number used to give products and packaging a globally unique identity. The number identifies products ... LTV (Lifetime Value) is an estimate of the average revenue that a customer will generate throughout their lifespan as a customer. CLV - Customer Lifetime Value Cohort analysis - an analytical technique that categorizes and divides data into groups with common characteristics prior to analysis. Customer segments Customer segmentation is the process by which you divide your customers up based on common characteristics OKR (\u201cobjectives and key results\u201d) are a goal setting methodology that can help teams set measurable goals. AOV - Average order value (AOV) tracks the average dollar amount spent each time a customer places an order. Churn Analysis is the evaluation of a company's customer loss rate in order to reduce it. Also referred to as customer attrition rate, churn can be minimized by assessing your product and how people use it. RFM Analysis - \u201cRFM\u201d stands for recency, frequency and monetary value. RFM analysis is a way to use data based on existing customer behavior to predict how a new customer is likely to act in the future. An RFM model is built using three key factors: how recently a customer has transacted with a brand how frequently they\u2019ve engaged with a brand how much money they\u2019ve spent on a brand\u2019s products and services Price sensitivity Price sensitivity is the degree to which demand changes when the cost of a product or service changes. Basket Analysis Market basket analysis is a data mining technique used by retailers to increase sales by better understanding customer purchasing patterns. It involves analyzing large data sets, such as purchase history, to reveal product groupings, as well as products that are likely to be purchased together. VAT (moms) A value-added tax (VAT), known in some countries as a goods and services tax I sverige moms (ofta 25%) COGS Cost of goods sold (COGS) refers to the direct costs of producing the goods sold by a company. This amount includes the cost of the materials and labor directly used to create the good. It excludes indirect expenses, such as distribution costs and sales force costs. SKU A stock-keeping unit (SKU) is a scannable bar code, most often seen printed on product labels in a retail store. The label allows vendors to automatically track the movement of inventory. The SKU is composed of an alphanumeric combination of eight-or-so characters. GTIN Agg / Aggregation Embedding Query GDPR - general data regulation protection. Back to top","title":"Abbreviations and common expressions"},{"location":"Internal procedures/Workflows/Other/#executive-titles","text":"alphabetical (CEO on top) CEO - Chief Executive Officer (VD) | Responsible for the overall success of a business entity or other organization and for making top-level managerial decisions. CCO - Chief Commercial Officer | Responsible for the commercial strategy and the development of an organization. It typically involves activities relating to marketing, sales, product development and customer service. CFO - Chief Financial Officer | Responsibile for managing the company's finances, including financial planning, management of financial risks, record-keeping, and financial reporting. CIO - Chief Information Officer | Responsible for the management, implementation, and usability of information and computer technologies. CPO - Chief Product Officer | Responsible for various product-related activities in an organization. They focus on bringing the product strategy to align with the business strategy and to deploy that throughout the organization. CTO - Chief Technical Officer | Responsible for developing, implementing, managing and evaluating the company's technology resources. CXO - Chief Experience Officer | Responsible for a company's overall experience and interactions with customers. They help the company drive the entire CX, from products to services, end-to-end. Back to top","title":"Executive titles"},{"location":"Internal procedures/Workflows/Other/#partner-companies","text":"Back to top","title":"Partner companies"},{"location":"Internal procedures/Workflows/Other/#centra","text":"info Back to top","title":"Centra"},{"location":"Internal procedures/Workflows/Other/#voyado","text":"info Back to top","title":"Voyado"},{"location":"Internal procedures/Workflows/Other/#klaviyo","text":"info Back to top","title":"klaviyo"},{"location":"Internal procedures/Workflows/Other/#rule","text":"info Back to top","title":"Rule"},{"location":"Internal procedures/Workflows/Other/#triggerbee","text":"info Back to top","title":"Triggerbee"},{"location":"Internal procedures/Workflows/Other/#grebban","text":"ecomm agency. designed our platform fall 2021. project is not implemented and used in production yet. Back to top","title":"Grebban"},{"location":"Internal procedures/Workflows/Other/#panagora","text":"info Back to top","title":"Panagora"},{"location":"Internal procedures/Workflows/Other/#common-problems-and-solutions","text":"Back to top","title":"Common problems and solutions"},{"location":"Internal procedures/Workflows/Other/#currency-rates","text":"The Concat row we use as an identifier to match the date an interaction was made in order to get a valid currency rate conversion. Steps: 1. Create a new source called currency_rates with \u201ccurrency_tag\u201d as id, now paste the query provided further down under \u201cQuery\u201d 2. Modify the url in the query to gather the currencies found in the dataset you\u2019re working with (Remove/add for example EUR, NOK) 3. The target should be edited to match the most common currency. For example a Swedish small local business should have SEK as target, and a Norwegian company should have NOK as target. 4. The from_date is changed to match the first transaction in the dataset the customer has. To do this, go to the source where you want to add currency rates (for example model - interactions), create a new query and make the same connection as query 1, in the new query, paste: SELECT MIN(ts) AS min_ts FROM import file, picture below for reference! Copy this timestamp, go to a unixtimestamp converted and check what date this is, and edit the from_date . DO NOT SAVE THE NEW QUERY 5. At the end of the query you want to add currency rates to, add the following row: LEFT JOIN currency_rates AS cr on cr.currency_tag = step1.currency_tag This results in the following: Query: SELECT concat(`date`, currency) AS currency_tag, `date` AS `date`, currency AS currency, conv_date AS conv_date, conv AS conv Back to top","title":"Currency rates"},{"location":"Internal procedures/Workflows/Other/#creating-new-platform","text":"[ ] Open ib-kube repo [ ] Check customer\u2019s domain name, match platform name with theirs [ ] Create new file in pkg/settings/k8s with name platformname.go [ ] Paste content from another platform with recent build [ ] Redefine: [ ] Var name to platform name [ ] Name: [ ] Subdomain: [ ] Check available ingress (max 15) [ ] Ingress: to available ingress [ ] Follow ingress definition (Ctrl click Ingress variable) [ ] Copy ingress IP (used for dns record) (skicka IP till christian) [ ] Add/remove Args for centra or other integrations [ ] Verify tag (commit version) [ ] Adjust cpu limit and memory parameters if needed [ ] Save File [ ] Open pkg/setting/k8s/k8s.go [ ] Add variable for platform data to Platforms variable by appending to list [ ] Save File [ ] Open terminal in VS code and run git pull [ ] Then run make yaml (ignore errors) [ ] Go to Source Control [ ] Commit your changes with message (e.g. \u201ccreated platform NAME on COMMIT VERSION \u201d [ ] Push to repo [ ] [Request someone to] run \u201cmake k8s\u201d [ ] [Request someone to] add the DNS registry [ ] [Request someone to] add to k8s ml registry Back to top","title":"Creating new platform"},{"location":"Internal procedures/Workflows/Other/#to-access-ib-kube","text":"Back to top","title":"To access ib-kube:"},{"location":"Internal procedures/Workflows/Other/#windows","text":"Install WSL 2 https://pureinfotech.com/install-windows-subsystem-linux-2-windows-10/ https://code.visualstudio.com/blogs/2019/09/03/wsl2 Boot Ubuntu Install VS Code Git clone ib-kube Cd ib-kube Run command code . Done Back to top","title":"Windows"},{"location":"Internal procedures/Workflows/Other/#ib-platform-on-windows-through-wsl","text":"Back to top","title":"ib platform on windows through wsl"},{"location":"Internal procedures/Workflows/Other/#setup-ib-platform-on-windows-through-wsl-2","text":"Intro Setup Windows VS code Ubuntu Subsystem Docker Clickhouse Yarn vGPU Back to top","title":"Setup IB-platform on Windows through WSL 2"},{"location":"Internal procedures/Workflows/Other/#ib-platform-on-windows-through-wsl_1","text":"Back to top","title":"ib platform on windows through wsl"},{"location":"Internal procedures/Workflows/Other/#intro","text":"In short, Windows can run the InfoBaleen platform in a Linux subsystem and open it using a Linux browser, just as a normal application within Windows itself. This document summarizes the steps needed as of November 2021. Back to top","title":"Intro"},{"location":"Internal procedures/Workflows/Other/#setup-windows","text":"Back to top","title":"Setup Windows"},{"location":"Internal procedures/Workflows/Other/#vs-code","text":"The preferred editor for this is Microsoft\u2019s Visual Studio Code. It provides cross platform functionality so that we can edit code in the Linux environment (or any other remote machine) directly from Windows. It can be downloaded here: https://code.visualstudio.com/ In the process, you can check the boxes for adding VS Code to the file context menu and folder context menu. This lets you open a file or directory in VS Code by right clicking it in explorer. Back to top","title":"VS code"},{"location":"Internal procedures/Workflows/Other/#ubuntu-subsystem","text":"Open Microsoft Store and search for Ubuntu. Install the latest LTS (Long Term Support), at the moment of writing 20.04, and run it. Back to top","title":"Ubuntu Subsystem"},{"location":"Internal procedures/Workflows/Other/#docker","text":"The Docker client has support for Linux subsystems in Windows. Open the link and follow the Download and the Install instructions. https://docs.docker.com/desktop/windows/wsl/ Back to top","title":"Docker"},{"location":"Internal procedures/Workflows/Other/#setup-in-wsl","text":"Back to top","title":"Setup in WSL"},{"location":"Internal procedures/Workflows/Other/#clone-repository","text":"Launch Ubuntu and navigate to where you want to place the cloned directory (ls to view directory, cd to change directory, mkdir to create new directory). Clone the repository by: git clone git@bitbucket.org:infobaleen/ib-platform.git If you have permission issues, contact a colleague for assistance. Back to top","title":"Clone Repository"},{"location":"Internal procedures/Workflows/Other/#clickhouse","text":"Back to top","title":"Clickhouse"},{"location":"Internal procedures/Workflows/Other/#yarn","text":"Back to top","title":"Yarn"},{"location":"Internal procedures/Workflows/Other/#vgpu","text":"Back to top","title":"vGPU"},{"location":"Internal procedures/Workflows/Platform-setup-(import-files,-sources-and-datamodel)/","text":"Table of Contents Platform setup 1. Import data to platform Using a database connection (for Centra, Voyado, etc) Set up a configuration Make arbitrary query [What does this mean, and where to do it???] How to verify that the sync works? Using a file 2. Create sources 3. Create data model 4. Create dashboards Add expressions Tip: Copy a dashboard to another data model Back to top Platform setup In order to create dashboards we need to complete three steps: Import data to the platform Create sources that contain data from one or more imported files Create a data model based upon the sources Create dashboards Testing can be done at d15.infobaleen.com that consists of testdata created by us. Back to top 1. Import data to platform Back to top Using a database connection (for Centra, Voyado, etc) Go to the platform and then to Admin - Configuration (can be found at the top right menu by clicking the three dots, see example image below). Back to top Set up a configuration Add a database and name the Database based on the system they use (centra, voyado, etc), and choose the matching Driver . In the Config field, check the standard URL provided by the corresponding ecommerce platform. Notes: A key or token is needed to access the databases. This key is listed under Admin - Secrets . For Centra customers there are fields that need to be specified: * \"Limit\":100000 : This is a limit so that we do not overload Centra servers when fetching data * \"Store\":1,\"Market\":3,\"PriceList\":19,\"Warehouses\":[2,3] : These are specifications to fetch the correct data, the customer seldom knows this but Centra should have the information. * There is an option also to Add Integration . This part can be skipped, it is only used when we send data to customers. Back to top Make arbitrary query [What does this mean, and where to do it???] Create a source and make an arbitrary query similar to SELECT * FROM `users.gz` . This will trigger a proxy sync, and the .gz files will appear once completed. This normally takes 1-5 hours. Back to top How to verify that the sync works? Choose the source you created and press the pen to edit it. Go to the ADD QUERY tab and choose \u201cSELECT * FROM `*`\u201d . If the sync is ready, you will see a list of files to choose from, for example, users.gz , items.gz , interactions.gz , see image below. If you see the files imported you are now ready to create sources! Back to top Using a file Go to the platform and then to Manage data - Import files (can be found at the top right menu by clicking the three dots, see example image below). If the customer sent their data in a csv-file, drag it to the drop box for importing files. Uploaded files are available from the \"imports (csv-fs)\" database connection when creating new sources (see next step). Back to top 2. Create sources When the data is imported, go to Manage Data - Sources and create a new source by clicking the purple plus sign as seen in the below image. Name the source import_[source of data]_[type of data] where [source of data] specifies where the data comes from (centra, voyado, etc), and the [type of data] specifies the data type (items, users, interactions, etc). Choose an identifier for the source using the Id columns field. If the source you\u2019re creating is for: interactions : we want to identify each interaction through a user, an item and the time of the purchase, therefore choose user,ts,item under id columns and then press create. items : we want to identify each item by using an item id (often sku or variant). users : we want to identify each user by using a user id. The fields Comment and Merge Filter can be left empty, and you can press CREATE . Choose database connection and create a QUERY If it\u2019s a centra/voyado customer choose that option, if the files were uploaded manually, choose imports. You can now see the query stage, as standard \u201cSELECT * FROM `*`\u201d will show, if you press \u201cEXECUTE PREVIEW SUMMARY\u201d you will see all the imported files you can choose to gather data from. Copy the filename you want to use and enter that name in the query above, like SELECT * FROM [ENTER FILENAME HERE] . Copy the queries (depending on what system the customer has) from here: Centra queries Voyado queries The import file is now done, press sync and save to exit. Now repeat the \"Create source\"-step 2 but name the file model_[source of data]_[type of data] (the use same identifier as in the import file). In the Choose database connection now choose source instead, and press execute preview summary , now choose the import source file and edit the query to select from that, like \" SELECT * FROM ENTER_SOURCENAME_HERE \" and then press Save and sync . Back to top 3. Create data model The next step is to create a data model using the sources we just created. Go to the three dots on the top right corner of the screen and select Manage Data - Data models . Create a new data model (the purple plus sign on the right side) and choose a representative data model name. * If it\u2019s a Centra customer you can, for example, name the data model \u201cCentra\u201d * If it\u2019s a customer with manually added files you can, for example, name the data model \u201cCustomer name\u201d Select the correct source in the data model for interactions, users and items and press Save . Back to top 4. Create dashboards To create a dashboard, press the Analytics button in the top left corner and then press the + icon. Note that each data model have different dashboards, on the top right side of the screen you can select what data model the dashboards should use. Name : The name of the dashboard. Preferred is to use Title Case, i.e. not \"Customer purchases\" but \"Customer Purchases\" for naming. Select Role : interactions : If the dashboard shows data of interactions between for example a user, an item and the time of the purchase user : If the dashboard shows data about users item : If the dashboard shows data about items Select number of columns : This specifies the grid size of the dashboard. The grid is used when you move dashboard elements and they \"snap\" to the grid. To create richer dashboards, there is often a need to create expressions based on the data. To do this, see the info in the section below. Back to top Add expressions Open the data model and press Edit (the pen in the right top corner). Now press Add suggested expressions located under each segment for interactions/users/items. Example of Data model expressions When you have created standard expressions based on the data used, scroll down and save. Back to top Tip: Copy a dashboard to another data model After you have set up your dashboard, do the following: Go to the dashboard overview and create a copy of your dashboard, see below image. Edit your newly created dashboard, click Dashboard Settings , and change the data model. If all expressions exists in the other model, the dashboard will be copied. Remember to SAVE the dashboard after the changes. Back to top","title":"Platform setup (import files, sources and datamodel)"},{"location":"Internal procedures/Workflows/Platform-setup-(import-files,-sources-and-datamodel)/#table-of-contents","text":"Platform setup 1. Import data to platform Using a database connection (for Centra, Voyado, etc) Set up a configuration Make arbitrary query [What does this mean, and where to do it???] How to verify that the sync works? Using a file 2. Create sources 3. Create data model 4. Create dashboards Add expressions Tip: Copy a dashboard to another data model Back to top","title":"Table of Contents"},{"location":"Internal procedures/Workflows/Platform-setup-(import-files,-sources-and-datamodel)/#platform-setup","text":"In order to create dashboards we need to complete three steps: Import data to the platform Create sources that contain data from one or more imported files Create a data model based upon the sources Create dashboards Testing can be done at d15.infobaleen.com that consists of testdata created by us. Back to top","title":"Platform setup"},{"location":"Internal procedures/Workflows/Platform-setup-(import-files,-sources-and-datamodel)/#1-import-data-to-platform","text":"Back to top","title":"1. Import data to platform"},{"location":"Internal procedures/Workflows/Platform-setup-(import-files,-sources-and-datamodel)/#using-a-database-connection-for-centra-voyado-etc","text":"Go to the platform and then to Admin - Configuration (can be found at the top right menu by clicking the three dots, see example image below). Back to top","title":"Using a database connection (for Centra, Voyado, etc)"},{"location":"Internal procedures/Workflows/Platform-setup-(import-files,-sources-and-datamodel)/#set-up-a-configuration","text":"Add a database and name the Database based on the system they use (centra, voyado, etc), and choose the matching Driver . In the Config field, check the standard URL provided by the corresponding ecommerce platform. Notes: A key or token is needed to access the databases. This key is listed under Admin - Secrets . For Centra customers there are fields that need to be specified: * \"Limit\":100000 : This is a limit so that we do not overload Centra servers when fetching data * \"Store\":1,\"Market\":3,\"PriceList\":19,\"Warehouses\":[2,3] : These are specifications to fetch the correct data, the customer seldom knows this but Centra should have the information. * There is an option also to Add Integration . This part can be skipped, it is only used when we send data to customers. Back to top","title":"Set up a configuration"},{"location":"Internal procedures/Workflows/Platform-setup-(import-files,-sources-and-datamodel)/#make-arbitrary-query-what-does-this-mean-and-where-to-do-it","text":"Create a source and make an arbitrary query similar to SELECT * FROM `users.gz` . This will trigger a proxy sync, and the .gz files will appear once completed. This normally takes 1-5 hours. Back to top","title":"Make arbitrary query [What does this mean, and where to do it???]"},{"location":"Internal procedures/Workflows/Platform-setup-(import-files,-sources-and-datamodel)/#how-to-verify-that-the-sync-works","text":"Choose the source you created and press the pen to edit it. Go to the ADD QUERY tab and choose \u201cSELECT * FROM `*`\u201d . If the sync is ready, you will see a list of files to choose from, for example, users.gz , items.gz , interactions.gz , see image below. If you see the files imported you are now ready to create sources! Back to top","title":"How to verify that the sync works?"},{"location":"Internal procedures/Workflows/Platform-setup-(import-files,-sources-and-datamodel)/#using-a-file","text":"Go to the platform and then to Manage data - Import files (can be found at the top right menu by clicking the three dots, see example image below). If the customer sent their data in a csv-file, drag it to the drop box for importing files. Uploaded files are available from the \"imports (csv-fs)\" database connection when creating new sources (see next step). Back to top","title":"Using a file"},{"location":"Internal procedures/Workflows/Platform-setup-(import-files,-sources-and-datamodel)/#2-create-sources","text":"When the data is imported, go to Manage Data - Sources and create a new source by clicking the purple plus sign as seen in the below image. Name the source import_[source of data]_[type of data] where [source of data] specifies where the data comes from (centra, voyado, etc), and the [type of data] specifies the data type (items, users, interactions, etc). Choose an identifier for the source using the Id columns field. If the source you\u2019re creating is for: interactions : we want to identify each interaction through a user, an item and the time of the purchase, therefore choose user,ts,item under id columns and then press create. items : we want to identify each item by using an item id (often sku or variant). users : we want to identify each user by using a user id. The fields Comment and Merge Filter can be left empty, and you can press CREATE . Choose database connection and create a QUERY If it\u2019s a centra/voyado customer choose that option, if the files were uploaded manually, choose imports. You can now see the query stage, as standard \u201cSELECT * FROM `*`\u201d will show, if you press \u201cEXECUTE PREVIEW SUMMARY\u201d you will see all the imported files you can choose to gather data from. Copy the filename you want to use and enter that name in the query above, like SELECT * FROM [ENTER FILENAME HERE] . Copy the queries (depending on what system the customer has) from here: Centra queries Voyado queries The import file is now done, press sync and save to exit. Now repeat the \"Create source\"-step 2 but name the file model_[source of data]_[type of data] (the use same identifier as in the import file). In the Choose database connection now choose source instead, and press execute preview summary , now choose the import source file and edit the query to select from that, like \" SELECT * FROM ENTER_SOURCENAME_HERE \" and then press Save and sync . Back to top","title":"2. Create sources"},{"location":"Internal procedures/Workflows/Platform-setup-(import-files,-sources-and-datamodel)/#3-create-data-model","text":"The next step is to create a data model using the sources we just created. Go to the three dots on the top right corner of the screen and select Manage Data - Data models . Create a new data model (the purple plus sign on the right side) and choose a representative data model name. * If it\u2019s a Centra customer you can, for example, name the data model \u201cCentra\u201d * If it\u2019s a customer with manually added files you can, for example, name the data model \u201cCustomer name\u201d Select the correct source in the data model for interactions, users and items and press Save . Back to top","title":"3. Create data model"},{"location":"Internal procedures/Workflows/Platform-setup-(import-files,-sources-and-datamodel)/#4-create-dashboards","text":"To create a dashboard, press the Analytics button in the top left corner and then press the + icon. Note that each data model have different dashboards, on the top right side of the screen you can select what data model the dashboards should use. Name : The name of the dashboard. Preferred is to use Title Case, i.e. not \"Customer purchases\" but \"Customer Purchases\" for naming. Select Role : interactions : If the dashboard shows data of interactions between for example a user, an item and the time of the purchase user : If the dashboard shows data about users item : If the dashboard shows data about items Select number of columns : This specifies the grid size of the dashboard. The grid is used when you move dashboard elements and they \"snap\" to the grid. To create richer dashboards, there is often a need to create expressions based on the data. To do this, see the info in the section below. Back to top","title":"4. Create dashboards"},{"location":"Internal procedures/Workflows/Platform-setup-(import-files,-sources-and-datamodel)/#add-expressions","text":"Open the data model and press Edit (the pen in the right top corner). Now press Add suggested expressions located under each segment for interactions/users/items. Example of Data model expressions When you have created standard expressions based on the data used, scroll down and save. Back to top","title":"Add expressions"},{"location":"Internal procedures/Workflows/Platform-setup-(import-files,-sources-and-datamodel)/#tip-copy-a-dashboard-to-another-data-model","text":"After you have set up your dashboard, do the following: Go to the dashboard overview and create a copy of your dashboard, see below image. Edit your newly created dashboard, click Dashboard Settings , and change the data model. If all expressions exists in the other model, the dashboard will be copied. Remember to SAVE the dashboard after the changes. Back to top","title":"Tip: Copy a dashboard to another data model"},{"location":"Kube/Creating-new-platform/","text":"Table of Contents Creating new platform To access ib-kube: Back to top Creating new platform [ ] Open ib-kube repo [ ] Check customer\u2019s domain name, match platform name with theirs [ ] Create new file in pkg/settings/k8s with name platformname.go [ ] Paste content from another platform with recent build [ ] Redefine: [ ] Var name to platform name [ ] Name: [ ] Subdomain: [ ] Check available ingress (max 15) [ ] Ingress: to available ingress [ ] Follow ingress definition (Ctrl click Ingress variable) [ ] Copy ingress IP (used for dns record) (skicka IP till christian) [ ] Add/remove Args for centra or other integrations [ ] Verify tag (commit version) [ ] Adjust cpu limit and memory parameters if needed [ ] Save File [ ] Open pkg/setting/k8s/k8s.go [ ] Add variable for platform data to Platforms variable by appending to list [ ] Save File [ ] Open terminal in VS code and run git pull [ ] Then run make yaml (ignore errors) [ ] Go to Source Control [ ] Commit your changes with message (e.g. \u201ccreated platform NAME on COMMIT VERSION \u201d [ ] Push to repo [ ] [Request someone to] run \u201cmake k8s\u201d [ ] [Request someone to] add the DNS registry [ ] [Request someone to] add to k8s ml registry Back to top To access ib-kube: Install WSL 2 https://pureinfotech.com/install-windows-subsystem-linux-2-windows-10/ https://code.visualstudio.com/blogs/2019/09/03/wsl2 Boot Ubuntu Install VS Code Git clone ib-kube Cd ib-kube Run command code . Done Back to top","title":"Creating new platform"},{"location":"Kube/Creating-new-platform/#table-of-contents","text":"Creating new platform To access ib-kube: Back to top","title":"Table of Contents"},{"location":"Kube/Creating-new-platform/#creating-new-platform","text":"[ ] Open ib-kube repo [ ] Check customer\u2019s domain name, match platform name with theirs [ ] Create new file in pkg/settings/k8s with name platformname.go [ ] Paste content from another platform with recent build [ ] Redefine: [ ] Var name to platform name [ ] Name: [ ] Subdomain: [ ] Check available ingress (max 15) [ ] Ingress: to available ingress [ ] Follow ingress definition (Ctrl click Ingress variable) [ ] Copy ingress IP (used for dns record) (skicka IP till christian) [ ] Add/remove Args for centra or other integrations [ ] Verify tag (commit version) [ ] Adjust cpu limit and memory parameters if needed [ ] Save File [ ] Open pkg/setting/k8s/k8s.go [ ] Add variable for platform data to Platforms variable by appending to list [ ] Save File [ ] Open terminal in VS code and run git pull [ ] Then run make yaml (ignore errors) [ ] Go to Source Control [ ] Commit your changes with message (e.g. \u201ccreated platform NAME on COMMIT VERSION \u201d [ ] Push to repo [ ] [Request someone to] run \u201cmake k8s\u201d [ ] [Request someone to] add the DNS registry [ ] [Request someone to] add to k8s ml registry Back to top","title":"Creating new platform"},{"location":"Kube/Creating-new-platform/#to-access-ib-kube","text":"Install WSL 2 https://pureinfotech.com/install-windows-subsystem-linux-2-windows-10/ https://code.visualstudio.com/blogs/2019/09/03/wsl2 Boot Ubuntu Install VS Code Git clone ib-kube Cd ib-kube Run command code . Done Back to top","title":"To access ib-kube:"},{"location":"Kube/Public-IP/","text":"Table of Contents Public IP address Back to top Public IP address The k8s cluster has external IP: 35.195.190.244 This IP is used when we request data from external sources. Back to top","title":"Public IP"},{"location":"Kube/Public-IP/#table-of-contents","text":"Public IP address Back to top","title":"Table of Contents"},{"location":"Kube/Public-IP/#public-ip-address","text":"The k8s cluster has external IP: 35.195.190.244 This IP is used when we request data from external sources. Back to top","title":"Public IP address"},{"location":"Platform/Analytics/Customer Insights/","text":"Table of Contents Back to top","title":"Customer Insights"},{"location":"Platform/Analytics/Customer Insights/#table-of-contents","text":"Back to top","title":"Table of Contents"},{"location":"Platform/Analytics/Dashboards/","text":"Table of Contents Add element Metric Bar Chart Line Chart Default (line chart) Style (line chart) Advanced (line chart) Select group key Histogram Date filter Range filter Filter Metric selector Alluvial Chart Markov Chart Table Pivot Image grid Segments Categories Text Content Back to top Add element Back to top Metric A metric is a single number, wich means that you can not show a field in a metric element (a field is an array of metrics). you can convert a field into a metric by writing an expression ex. SUM(field) this returns a metric. Back to top Bar Chart A bar chart shows categorical data with rectangular bars indicating the distributions of the data , in the picture below, we for example see amount of unique customers per country , the bar charts can be used to adapt the dashboard to show only data from one specific country. Simply press the country you want to see information about, and the dashboard will update accordingly. Back to top Line Chart A line chart plots a graph with data points connected to a chosen metric, example below for example shows revenue over time. Hovering over the line chart data points, the revenue for that time will show. Back to top Default (line chart) Under default you can choose what values you want to include in your line chart, you can also select if you want the view to be from day to week, month etc. The Format selection lets you choose how many decimals you want, if you want the values to be shown as a percentage (%). The Limit lets you decide how many data points you want to show (the dots marked on the line). Back to top Style (line chart) Here you can change the appearance of the linechart in the dashboards, feel free to test how the different margin settings affect the look of the line chart! By changing the Title or the Sub title no values will be changed, by changing it the chosen values only gets an alias. Back to top Advanced (line chart) In the advanced tab you can select a Group key , you can read what that means here Back to top Select group key By addining a field in the select group key the line chart will show multiple lines where each line represents a category in the selected field. This function should be combined with a bar chart where you can create a filter for the selected field. by filtering out categories in the barchart the line chart will show the remaning categories. By filtering out a category in the barchart the line representing this category is removed from the line chart. Back to top Histogram A histogram is a graphical representation that shows data in specified ranges as vertical bins. It's similar to a bar chart. Back to top Date filter The Date filter lets you adapt your dashboards to only show data for a chosen period of time, there are some premade limits, for example last week, last year etc. These can be found and chosen on the top of the date filter box after pressing it, you can also select a specified range of days by using the calendar. Back to top Range filter Range filter allows you to only show data in the dashboards where a chosen value is within the chosen limit, for example if you only want to show data for items with prices between 100sek to 200sek. Back to top Filter Filter can be used to only show one category of chosen metric, and update the dashboard accordingly. Back to top Metric selector In the different elements added to your dashboard, for example a bar chart or line chart, there's the opportunity to select *metric* , if you then add a Metric selector and choose a metric, all the elements where *metric* has been chosen, will be updated to match the chosen metric in the Metric selector . Using this will allow quicker changes of the data shown, as you can use the metric selector instead of manually changing the other elements. Back to top Alluvial Chart An alluvial chart can be described as a flow diagram that represents changes in structures over time, for us this is mostly used to represent how segments of customers are changed over time, going from new, to lapsed (lost) customers. (There's a Color scale option under Style where the colors can be changed to blue/green/yellow/red instead of different shades of blue) Example of alluvial chart shown below. Back to top Markov Chart Back to top Table This element adds a table to the dashboard, if the table gets to wide there's a scroll bar furthest down in the table allowing horizontal scrolling. The table can be sorted by pressing on the value/text you want to sort by. Under Style in the edit screen of a table, there's an opportunity to add a Backround bar which visualize how large/small the different values in the table are in comparison to the others. Back to top Pivot A pivot table is used to visualize patterns and trends in large amounts of data, it can for example be used to show amount of lapsed customers per order cohort shown in the example below. Back to top Image grid The image grid shows pictures of products in a dashboard. Back to top Segments Lets you show data for only a chosen segment, these segments can be created under the Segmentations part of the platform. Back to top Categories Similar to barchart, categories let's you choose what category to show data for, when the data is several categories in one cell, for example Color = [red;blue] where red and blue are not correlated. Back to top Text Content The text content element is the most used element, it's basically just text that can be adapted through markdown language, for example # = header1 (largest) ## = header2, ### header3 etc. Back to top","title":"Dashboards"},{"location":"Platform/Analytics/Dashboards/#table-of-contents","text":"Add element Metric Bar Chart Line Chart Default (line chart) Style (line chart) Advanced (line chart) Select group key Histogram Date filter Range filter Filter Metric selector Alluvial Chart Markov Chart Table Pivot Image grid Segments Categories Text Content Back to top","title":"Table of Contents"},{"location":"Platform/Analytics/Dashboards/#add-element","text":"Back to top","title":"Add element"},{"location":"Platform/Analytics/Dashboards/#metric","text":"A metric is a single number, wich means that you can not show a field in a metric element (a field is an array of metrics). you can convert a field into a metric by writing an expression ex. SUM(field) this returns a metric. Back to top","title":"Metric"},{"location":"Platform/Analytics/Dashboards/#bar-chart","text":"A bar chart shows categorical data with rectangular bars indicating the distributions of the data , in the picture below, we for example see amount of unique customers per country , the bar charts can be used to adapt the dashboard to show only data from one specific country. Simply press the country you want to see information about, and the dashboard will update accordingly. Back to top","title":"Bar Chart"},{"location":"Platform/Analytics/Dashboards/#line-chart","text":"A line chart plots a graph with data points connected to a chosen metric, example below for example shows revenue over time. Hovering over the line chart data points, the revenue for that time will show. Back to top","title":"Line Chart"},{"location":"Platform/Analytics/Dashboards/#default-line-chart","text":"Under default you can choose what values you want to include in your line chart, you can also select if you want the view to be from day to week, month etc. The Format selection lets you choose how many decimals you want, if you want the values to be shown as a percentage (%). The Limit lets you decide how many data points you want to show (the dots marked on the line). Back to top","title":"Default (line chart)"},{"location":"Platform/Analytics/Dashboards/#style-line-chart","text":"Here you can change the appearance of the linechart in the dashboards, feel free to test how the different margin settings affect the look of the line chart! By changing the Title or the Sub title no values will be changed, by changing it the chosen values only gets an alias. Back to top","title":"Style (line chart)"},{"location":"Platform/Analytics/Dashboards/#advanced-line-chart","text":"In the advanced tab you can select a Group key , you can read what that means here Back to top","title":"Advanced (line chart)"},{"location":"Platform/Analytics/Dashboards/#select-group-key","text":"By addining a field in the select group key the line chart will show multiple lines where each line represents a category in the selected field. This function should be combined with a bar chart where you can create a filter for the selected field. by filtering out categories in the barchart the line chart will show the remaning categories. By filtering out a category in the barchart the line representing this category is removed from the line chart. Back to top","title":"Select group key"},{"location":"Platform/Analytics/Dashboards/#histogram","text":"A histogram is a graphical representation that shows data in specified ranges as vertical bins. It's similar to a bar chart. Back to top","title":"Histogram"},{"location":"Platform/Analytics/Dashboards/#date-filter","text":"The Date filter lets you adapt your dashboards to only show data for a chosen period of time, there are some premade limits, for example last week, last year etc. These can be found and chosen on the top of the date filter box after pressing it, you can also select a specified range of days by using the calendar. Back to top","title":"Date filter"},{"location":"Platform/Analytics/Dashboards/#range-filter","text":"Range filter allows you to only show data in the dashboards where a chosen value is within the chosen limit, for example if you only want to show data for items with prices between 100sek to 200sek. Back to top","title":"Range filter"},{"location":"Platform/Analytics/Dashboards/#filter","text":"Filter can be used to only show one category of chosen metric, and update the dashboard accordingly. Back to top","title":"Filter"},{"location":"Platform/Analytics/Dashboards/#metric-selector","text":"In the different elements added to your dashboard, for example a bar chart or line chart, there's the opportunity to select *metric* , if you then add a Metric selector and choose a metric, all the elements where *metric* has been chosen, will be updated to match the chosen metric in the Metric selector . Using this will allow quicker changes of the data shown, as you can use the metric selector instead of manually changing the other elements. Back to top","title":"Metric selector"},{"location":"Platform/Analytics/Dashboards/#alluvial-chart","text":"An alluvial chart can be described as a flow diagram that represents changes in structures over time, for us this is mostly used to represent how segments of customers are changed over time, going from new, to lapsed (lost) customers. (There's a Color scale option under Style where the colors can be changed to blue/green/yellow/red instead of different shades of blue) Example of alluvial chart shown below. Back to top","title":"Alluvial Chart"},{"location":"Platform/Analytics/Dashboards/#markov-chart","text":"Back to top","title":"Markov Chart"},{"location":"Platform/Analytics/Dashboards/#table","text":"This element adds a table to the dashboard, if the table gets to wide there's a scroll bar furthest down in the table allowing horizontal scrolling. The table can be sorted by pressing on the value/text you want to sort by. Under Style in the edit screen of a table, there's an opportunity to add a Backround bar which visualize how large/small the different values in the table are in comparison to the others. Back to top","title":"Table"},{"location":"Platform/Analytics/Dashboards/#pivot","text":"A pivot table is used to visualize patterns and trends in large amounts of data, it can for example be used to show amount of lapsed customers per order cohort shown in the example below. Back to top","title":"Pivot"},{"location":"Platform/Analytics/Dashboards/#image-grid","text":"The image grid shows pictures of products in a dashboard. Back to top","title":"Image grid"},{"location":"Platform/Analytics/Dashboards/#segments","text":"Lets you show data for only a chosen segment, these segments can be created under the Segmentations part of the platform. Back to top","title":"Segments"},{"location":"Platform/Analytics/Dashboards/#categories","text":"Similar to barchart, categories let's you choose what category to show data for, when the data is several categories in one cell, for example Color = [red;blue] where red and blue are not correlated. Back to top","title":"Categories"},{"location":"Platform/Analytics/Dashboards/#text-content","text":"The text content element is the most used element, it's basically just text that can be adapted through markdown language, for example # = header1 (largest) ## = header2, ### header3 etc. Back to top","title":"Text Content"},{"location":"Platform/Menu/Account/API Keys/","text":"Table of Contents API Keys How to create an API key and URL to fetch product recommendations Back to top API Keys An API key can be seen as a unique identifier used to authenticate a user to permit data sharing/collection. The API process starts with one API calling another API, and then sharing the API to gain access. Back to top How to create an API key and URL to fetch product recommendations Note! The key is only visible for 1 hour after creation Go to the three dots on the top right corner of the screen and select \u201cAPI keys\u201d Create a API key by pressing the purple plus sign on the right side Name your API key and select ItemToItems , UserToItems , and ItemData Press \"Save\" Copy the API key Use Bitwarden to send the API key to the customer email. Remember to remove the password protection After the API key has been sent, email the customer the URL Back to top","title":"API Keys"},{"location":"Platform/Menu/Account/API Keys/#table-of-contents","text":"API Keys How to create an API key and URL to fetch product recommendations Back to top","title":"Table of Contents"},{"location":"Platform/Menu/Account/API Keys/#api-keys","text":"An API key can be seen as a unique identifier used to authenticate a user to permit data sharing/collection. The API process starts with one API calling another API, and then sharing the API to gain access. Back to top","title":"API Keys"},{"location":"Platform/Menu/Account/API Keys/#how-to-create-an-api-key-and-url-to-fetch-product-recommendations","text":"Note! The key is only visible for 1 hour after creation Go to the three dots on the top right corner of the screen and select \u201cAPI keys\u201d Create a API key by pressing the purple plus sign on the right side Name your API key and select ItemToItems , UserToItems , and ItemData Press \"Save\" Copy the API key Use Bitwarden to send the API key to the customer email. Remember to remove the password protection After the API key has been sent, email the customer the URL Back to top","title":"How to create an API key and URL to fetch product recommendations"},{"location":"Platform/Menu/Account/Logout/","text":"Table of Contents Logout Back to top Logout Back to top","title":"Logout"},{"location":"Platform/Menu/Account/Logout/#table-of-contents","text":"Logout Back to top","title":"Table of Contents"},{"location":"Platform/Menu/Account/Logout/#logout","text":"Back to top","title":"Logout"},{"location":"Platform/Menu/Account/Users/","text":"Table of Contents Users Back to top Users Back to top","title":"Users"},{"location":"Platform/Menu/Account/Users/#table-of-contents","text":"Users Back to top","title":"Table of Contents"},{"location":"Platform/Menu/Account/Users/#users","text":"Back to top","title":"Users"},{"location":"Platform/Menu/Admin/Clear CH chache/","text":"Table of Contents Clear CH chache Back to top Clear CH chache Back to top","title":"Clear CH chache"},{"location":"Platform/Menu/Admin/Clear CH chache/#table-of-contents","text":"Clear CH chache Back to top","title":"Table of Contents"},{"location":"Platform/Menu/Admin/Clear CH chache/#clear-ch-chache","text":"Back to top","title":"Clear CH chache"},{"location":"Platform/Menu/Admin/Configuration/","text":"Table of Contents Voyado Update this Rule Configuration API Keys Recommendations Data sync CLI Admin Update this Facebook Kund Infobaleen 1. L\u00e4gg till kunds annonskonto 2. L\u00e4gg till FB-integrationen i plattformen 3. Testa att integrationen \u00e4r lyckad Back to top Voyado The voyado config needs three parameters that are the same for all lakes. These can be found on Bitwarden under Infobaleen/Voyado. The fourth parameter is the lake endpoint. This is found in Voyado's Azure data lake Example: { Root : /voyado/export , Directories : ['receipts'], ClientId : ${CLIENT_ID} , ClientSecret : ${CLIENT_SECRET} , DirectoryId : ${DIRECTORY_ID} , LakeUri : bangerhadcorestordlsprod.azuredatalakestore.net } Some comments: \"Directories\" : These are the directories that can be found in the Azure data lake There are defauly directories that will be accessible without specifying them, these are store/ , receiptItems/ , article/ and allContacts/ Back to top Update this Back to top Rule Back to top Configuration Integration with rule enables you export your Segmentation campaigns to rule Name: should be set to rule as standard Driver: rule config: {\"ApiKey\":\"${rule_api_key}\",\"KeyField\":\"email\"} where \"ApiKey\":\"${rule_api_key}\" is set in Secrets and \"KeyField\":\"email\" is set ????????just a name???????? Default User Field: field name + KeyField wich is set to email in this case ex. if field name = email the Default user field becomes email email Name used in exports: ${PARENT_NAME}: ${INDEX_NAME} Optional User Fields: No idea. Back to top API Keys Name: should be set to rule-recommendations Back to top Recommendations ItemsToItems: Active dont know UserToItems: Active dont know ItemData: Active dont know ModelInfo: Inactive dont know Data Models: [Choose your data model with the recommendations of intrest] Profiles: [Choose the recommendation profiles you want to use] Back to top Data sync SourceSync: Inactive dont know Buffers: Inactive dont know Back to top CLI MLDump: Inactive dont know Db: Inactive dont know Back to top Admin Note: ????? Immutable: An immutable key can never be updated (only removed). Useful if you want to share a key an be sure that the scope does not change by mistake AllowAll: Activates everything? or just recomendations tags? Back to top Update this Back to top Facebook Denna integrering m\u00f6jligg\u00f6r uppladdning av segment som custom audiences i Facebooks Ads. Kr\u00e4ver anv\u00e4ndare med admin access till Infobaleens facebook-konto. Back to top Kund Kund l\u00e4gger till oss som partner f\u00f6r sitt annons konto. Be dem g\u00e5 till fliken Annonskonto i Business Manager och klicka tilldela partner. L\u00e4gg till Infobaleens business-id 147664085678726 och v\u00e4lj en roll (Full control). Back to top Infobaleen Back to top 1. L\u00e4gg till kunds annonskonto N\u00e4r vi har f\u00e5tt access till annonskonto, l\u00e4gg till kunds annonskonto som tillg\u00e5ng f\u00f6r v\u00e5r anv\u00e4ndare \u201cSysadmin\u201d via https://business.facebook.com/settings/system-users, se bilder nedan. Klicka p\u00e5 knappen Add Assets / L\u00e4gg till resurser och v\u00e4lj Ad Accounts / Annonskonton . V\u00e4lj kundens annonskonto och tilldela Full control. Back to top 2. L\u00e4gg till FB-integrationen i plattformen G\u00e5 till kundens plattform, v\u00e4lj Admin - Configuration och l\u00e4gg in en Integration med namn facebook-[KUNDNAMN] och driver facebook (finns ej i gamla versioner av plattformen) med exempel-config enligt nedan. F\u00f6r field Name used in exports kan man specificera ${PARENT_NAME}: ${INDEX_NAME} . { Token : ${fb-token} , AppSecret : ${fb-app-secret} , AdAccountId : act_${fb-adaccount} , KeyField : email , Description : Generated by Infobaleen. } Token: Genereras f\u00f6r en anv\u00e4ndare i Facebook, i det h\u00e4r fallet f\u00f6r v\u00e5r systemanv\u00e4ndare \u201cSysadmin\u201d. Finns i Bitwarden under Collection = Infobaleen och objektet Facebook . AppSecret: Genereras fr\u00e5n v\u00e5r Facebook app. Finns i Bitwarden enligt tidigare beskrivning. AdAccountId: Kundens adaccount-id. Notera att den m\u00e5ste ha prefix act_ enligt exempel-config ovan. Se bild nedan f\u00f6r var du hittar id. KeyField: Ange det f\u00e4lt p\u00e5 anv\u00e4ndare som inneh\u00e5ller email-adress. Description: Beskrivning som syns p\u00e5 segmentet i Facebook Ad Manager. Back to top 3. Testa att integrationen \u00e4r lyckad Det vi kan se fr\u00e5n v\u00e5r sida \u00e4r att uppladdningen g\u00e5r igenom, dels via meddelande i plattformen och sen loggar i proxyn. B\u00e4sta s\u00e4ttet \u00e4r nog att be kunden kontrollera att det skapats ett audience i deras FB-konto. Back to top","title":"Configuration"},{"location":"Platform/Menu/Admin/Configuration/#table-of-contents","text":"Voyado Update this Rule Configuration API Keys Recommendations Data sync CLI Admin Update this Facebook Kund Infobaleen 1. L\u00e4gg till kunds annonskonto 2. L\u00e4gg till FB-integrationen i plattformen 3. Testa att integrationen \u00e4r lyckad Back to top","title":"Table of Contents"},{"location":"Platform/Menu/Admin/Configuration/#voyado","text":"The voyado config needs three parameters that are the same for all lakes. These can be found on Bitwarden under Infobaleen/Voyado. The fourth parameter is the lake endpoint. This is found in Voyado's Azure data lake Example: { Root : /voyado/export , Directories : ['receipts'], ClientId : ${CLIENT_ID} , ClientSecret : ${CLIENT_SECRET} , DirectoryId : ${DIRECTORY_ID} , LakeUri : bangerhadcorestordlsprod.azuredatalakestore.net } Some comments: \"Directories\" : These are the directories that can be found in the Azure data lake There are defauly directories that will be accessible without specifying them, these are store/ , receiptItems/ , article/ and allContacts/ Back to top","title":"Voyado"},{"location":"Platform/Menu/Admin/Configuration/#update-this","text":"Back to top","title":"Update this"},{"location":"Platform/Menu/Admin/Configuration/#rule","text":"Back to top","title":"Rule"},{"location":"Platform/Menu/Admin/Configuration/#configuration","text":"Integration with rule enables you export your Segmentation campaigns to rule Name: should be set to rule as standard Driver: rule config: {\"ApiKey\":\"${rule_api_key}\",\"KeyField\":\"email\"} where \"ApiKey\":\"${rule_api_key}\" is set in Secrets and \"KeyField\":\"email\" is set ????????just a name???????? Default User Field: field name + KeyField wich is set to email in this case ex. if field name = email the Default user field becomes email email Name used in exports: ${PARENT_NAME}: ${INDEX_NAME} Optional User Fields: No idea. Back to top","title":"Configuration"},{"location":"Platform/Menu/Admin/Configuration/#api-keys","text":"Name: should be set to rule-recommendations Back to top","title":"API Keys"},{"location":"Platform/Menu/Admin/Configuration/#recommendations","text":"ItemsToItems: Active dont know UserToItems: Active dont know ItemData: Active dont know ModelInfo: Inactive dont know Data Models: [Choose your data model with the recommendations of intrest] Profiles: [Choose the recommendation profiles you want to use] Back to top","title":"Recommendations"},{"location":"Platform/Menu/Admin/Configuration/#data-sync","text":"SourceSync: Inactive dont know Buffers: Inactive dont know Back to top","title":"Data sync"},{"location":"Platform/Menu/Admin/Configuration/#cli","text":"MLDump: Inactive dont know Db: Inactive dont know Back to top","title":"CLI"},{"location":"Platform/Menu/Admin/Configuration/#admin","text":"Note: ????? Immutable: An immutable key can never be updated (only removed). Useful if you want to share a key an be sure that the scope does not change by mistake AllowAll: Activates everything? or just recomendations tags? Back to top","title":"Admin"},{"location":"Platform/Menu/Admin/Configuration/#update-this_1","text":"Back to top","title":"Update this"},{"location":"Platform/Menu/Admin/Configuration/#facebook","text":"Denna integrering m\u00f6jligg\u00f6r uppladdning av segment som custom audiences i Facebooks Ads. Kr\u00e4ver anv\u00e4ndare med admin access till Infobaleens facebook-konto. Back to top","title":"Facebook"},{"location":"Platform/Menu/Admin/Configuration/#kund","text":"Kund l\u00e4gger till oss som partner f\u00f6r sitt annons konto. Be dem g\u00e5 till fliken Annonskonto i Business Manager och klicka tilldela partner. L\u00e4gg till Infobaleens business-id 147664085678726 och v\u00e4lj en roll (Full control). Back to top","title":"Kund"},{"location":"Platform/Menu/Admin/Configuration/#infobaleen","text":"Back to top","title":"Infobaleen"},{"location":"Platform/Menu/Admin/Configuration/#1-lagg-till-kunds-annonskonto","text":"N\u00e4r vi har f\u00e5tt access till annonskonto, l\u00e4gg till kunds annonskonto som tillg\u00e5ng f\u00f6r v\u00e5r anv\u00e4ndare \u201cSysadmin\u201d via https://business.facebook.com/settings/system-users, se bilder nedan. Klicka p\u00e5 knappen Add Assets / L\u00e4gg till resurser och v\u00e4lj Ad Accounts / Annonskonton . V\u00e4lj kundens annonskonto och tilldela Full control. Back to top","title":"1. L\u00e4gg till kunds annonskonto"},{"location":"Platform/Menu/Admin/Configuration/#2-lagg-till-fb-integrationen-i-plattformen","text":"G\u00e5 till kundens plattform, v\u00e4lj Admin - Configuration och l\u00e4gg in en Integration med namn facebook-[KUNDNAMN] och driver facebook (finns ej i gamla versioner av plattformen) med exempel-config enligt nedan. F\u00f6r field Name used in exports kan man specificera ${PARENT_NAME}: ${INDEX_NAME} . { Token : ${fb-token} , AppSecret : ${fb-app-secret} , AdAccountId : act_${fb-adaccount} , KeyField : email , Description : Generated by Infobaleen. } Token: Genereras f\u00f6r en anv\u00e4ndare i Facebook, i det h\u00e4r fallet f\u00f6r v\u00e5r systemanv\u00e4ndare \u201cSysadmin\u201d. Finns i Bitwarden under Collection = Infobaleen och objektet Facebook . AppSecret: Genereras fr\u00e5n v\u00e5r Facebook app. Finns i Bitwarden enligt tidigare beskrivning. AdAccountId: Kundens adaccount-id. Notera att den m\u00e5ste ha prefix act_ enligt exempel-config ovan. Se bild nedan f\u00f6r var du hittar id. KeyField: Ange det f\u00e4lt p\u00e5 anv\u00e4ndare som inneh\u00e5ller email-adress. Description: Beskrivning som syns p\u00e5 segmentet i Facebook Ad Manager. Back to top","title":"2. L\u00e4gg till FB-integrationen i plattformen"},{"location":"Platform/Menu/Admin/Configuration/#3-testa-att-integrationen-ar-lyckad","text":"Det vi kan se fr\u00e5n v\u00e5r sida \u00e4r att uppladdningen g\u00e5r igenom, dels via meddelande i plattformen och sen loggar i proxyn. B\u00e4sta s\u00e4ttet \u00e4r nog att be kunden kontrollera att det skapats ett audience i deras FB-konto. Back to top","title":"3. Testa att integrationen \u00e4r lyckad"},{"location":"Platform/Menu/Admin/Connections/","text":"Table of Contents Back to top","title":"Connections"},{"location":"Platform/Menu/Admin/Connections/#table-of-contents","text":"Back to top","title":"Table of Contents"},{"location":"Platform/Menu/Admin/Events/","text":"Table of Contents Back to top","title":"Events"},{"location":"Platform/Menu/Admin/Events/#table-of-contents","text":"Back to top","title":"Table of Contents"},{"location":"Platform/Menu/Admin/Secrets/","text":"Table of Contents Secrets Back to top Secrets A secret can be seen as a password we want to hide, but use an alias for. An example of a secret is the API key we need to receive centra information for a customer of ours. When creating a secret firstly a Label is chosen, which means by what name we will know the secret by, followed by a Secret , an API key or similar that we want to store, but not visible for us. Back to top","title":"Secrets.md"},{"location":"Platform/Menu/Admin/Secrets/#table-of-contents","text":"Secrets Back to top","title":"Table of Contents"},{"location":"Platform/Menu/Admin/Secrets/#secrets","text":"A secret can be seen as a password we want to hide, but use an alias for. An example of a secret is the API key we need to receive centra information for a customer of ours. When creating a secret firstly a Label is chosen, which means by what name we will know the secret by, followed by a Secret , an API key or similar that we want to store, but not visible for us. Back to top","title":"Secrets"},{"location":"Platform/Menu/Documentation/API/","text":"Table of Contents Back to top","title":"API"},{"location":"Platform/Menu/Documentation/API/#table-of-contents","text":"Back to top","title":"Table of Contents"},{"location":"Platform/Menu/Documentation/Agent/","text":"Table of Contents Back to top","title":"Agent"},{"location":"Platform/Menu/Documentation/Agent/#table-of-contents","text":"Back to top","title":"Table of Contents"},{"location":"Platform/Menu/Documentation/New Issue/","text":"Table of Contents Back to top","title":"New Issue"},{"location":"Platform/Menu/Documentation/New Issue/#table-of-contents","text":"Back to top","title":"Table of Contents"},{"location":"Platform/Menu/Manage Data/Data Models/","text":"Table of Contents What is a datamodel? Interaction config Fields field alias role Active Interaction Expressions Item config Fields field alias role MLMeta MLFilter Active Item Expressions User config Fields field alias role User Expressions Custom properties Expression syntax (Click house) Data model expression examples Interaction expression User expressions Back to top What is a datamodel? A datamodel can seen as the product of three sources put in a package , an interaction source, an item source and a user source. The interaction config in the data model consists of a user and an item from two of the three sources. When we have created a datamodel and chosen what sources we want, we can start creating information through expressions. These can later be seen in dashboards (dashboard are always based upon a datamodel) However, when a datamodel is used for email analysis, the interaction becomes a specific email sent to a user , the user becomes the one receiving the email , and the email that was sent is treated as an item. Back to top Interaction config Back to top Fields Back to top field This is the name of the given in the source query (it can not be changed in the data model). Back to top alias By adding an alias the the field name is replaced by the alias name in the dashboard and segmentation. In Recommendation the field name is allways shown even if an alias is added. Back to top role Categories Categories is used when data is made up of multiple category 's. The data format for categories has to be [ category1 ; category2 ; category3 ; etc ] Revenue Revenue can only be set on 1 field and should be sales price (EX VAT) . The reason you set mark your sales price (EX VAT) with the revenue role is to generate suggested revenue related expressions. Quantity If a user buys multiple items of the same SKU at the same time this will be either represented as 1 interaction row with quantity x In this case that field should be set to Quantity . for some data souces this will be represented as x interaction rows without a quantity row. Timestamp The timestamp role should only be set to the field that represent the interaction timestamp (when the interaction took place). other timestamps such as return date etc. should instead be set to number. The timestamp role is needed to create suggested expressions. User The User role is set to the key-field that connects the interaction table to the user table. Item The Item role is set to the key-field that connects the interaction table to the Item table. Number The Number role is automatically set to all fields that only contains numbers (you can make toFloat( field ) without error). The number role lets you interact with a field as a number meaning you can make an calculation expressions such as if( field 100). If you want to make a histogram you can only use fields with role Number because you specify the bin width wich can only be done if the field is concidered a Number (does not work if the field is a Category ). Category All fields that can not be classified as a Number are classified as a Category . Category 's are used in for example Bar charts . Enum ??????????? EnumCategories ??????????? Back to top Active The Active toggle button lets you activate/deactivate a field. a deactivated field can not be used in dashboards. Back to top Interaction Expressions Back to top Item config Back to top Fields Back to top field same as in Interaction Back to top alias same as in Interaction Back to top role Categories same as in Interaction Timestamp The timestamp lets you work with unixtimestamp and shows the result in as a datetime (readable format). Format The format role represent the name of the item and is what is shown in the Image grid in the dashboards and in the Recommendations Image The image role represent what field will be shown as a image in the Image grid in the dashboards and in the Recommendations . The image field is usually called something with url . Number same as in Interaction Category same as in Interaction Enum dont know as in Interaction... EnumCategories dont know as in Interaction... Back to top MLMeta The MLMeta toggle button controles what is returned when when you make an API call. This is to give you control what data you want to return to the customer. you dont want to activate MLMeta on all fields because this will result in you return alot of \"trash columns\" to the customer that they have to filter in turn get the relevant data. [Note that you also have to select the role Image and Format for the product to show] (MLMeta is only relevant in the recomendations???? dashboard???) Back to top MLFilter The MLFilter lets you write expressions and filter your data in in the Recommendations . You should only activate MLFilter for the fields you actually want to create a filter for, the reason for this is that when you activate MLFilter for a field this will store all data in the memory and every time the API calls for a recommendation the datamodel have to itterate through all fields with MLFilter resulting in a bad performance on the customers side (when the customer want to load our recomendations on their site the load speed will depend on how many MLFilters you have activated. Back to top Active Same as in Interaction Back to top Item Expressions Back to top User config Back to top Fields Back to top field same as in Interaction Back to top alias same as in Interaction Back to top role Categories same as in Interaction Timestamp same as in Items Pll Email Number same as in Interaction Category same as in Interaction Enum ???? EnumCategories ???? Back to top User Expressions Back to top Custom properties Great feature with good UX BUT only works for a specific preprogrammed examples (RFM, CustomerLifcycle). Back to top Expression syntax (Click house) SUM() uniq() uniqExact() countIf() sumIf() uniqIf() multiIf(boolean, result_1, boolean, result_2, ..., boolean, result_n, else_this) multiIf(name = 'red', colour, name = 'big', 'size', 'no data') etc... Back to top Data model expression examples Back to top Interaction expression Days since previous order cohort multiIf (agg.daysFromPrev =30,'1. 30', agg.daysFromPrev =60,'2.30-60', agg.daysFromPrev =90,'3.60-90', agg.daysFromPrev =180,'4.90-180', agg.daysFromPrev =360,'5.180-360', agg.daysFromPrev =720,'6. 360-720', agg.daysFromPrev =4000,'7. 720', '8.New') Has return multiIf(returned_quantity 0, 'Return', 'No return') First order (month toStartOfMonth(user.agg.first) Active week toMonday(ts) Active month toStartOfMonth(ts) % discount SUM(full_price-revenue)/SUM(full_price) Revenue SUM(revenue) Price per item SUM(revenue)/SUM(quantity) Revenue per user SUM(revenue)/uniq(user) Average order value SUM(revenue)/uniq(user,ts) Sold items SUM(quantity) Items per order SUM(quantity)/uniq(user,ts) % returned quantity SUM(returned_quantity)/SUM(quantity) LTV 30d We usually do 5 different LTV metrics, just remember to change name accordingly to selected amount of days sumIf(revenue, ts user.agg.first + 30 AND addDays(user.agg.first, 30) = now())/uniqIf(user,addDays(user.agg.first, 30) = now()) sumIf(revenue, ts user.agg.first + 60 AND addDays(user.agg.first, 60) = now())/uniqIf(user,addDays(user.agg.first, 60) = now()) sumIf(revenue, ts user.agg.first + 90 AND addDays(user.agg.first, 90) = now())/uniqIf(user,addDays(user.agg.first, 90) = now()) sumIf(revenue, ts user.agg.first + 180 AND addDays(user.agg.first, 180) = now())/uniqIf(user,addDays(user.agg.first, 180) = now()) sumIf(revenue, ts user.agg.first + 365 AND addDays(user.agg.first, 365) = now())/uniqIf(user,addDays(user.agg.first, 365) = now()) Returned quantity SUM(returned_quantity) Returned or not returned multiIf(returned_quantity 0, 'Return', 'No return') Available quantity SUM(item.variant_product_size_size_available_now_quantity)/count() Back to top User expressions Users 1 order uniqIf(user,user.agg.orders 1)/uniq(user) ITEMS Sold items [item based dashboards] SUM(article_number.agg.trans) Available quantity [item based dashboards] SUM(item.in_stock) SUM(full_price-PriceExVatIncDiscSEK)/SUM(full_price) SUM(DiscountSEK) / SUM((DiscountSEK + PriceIncVatIncDiscSEK) Back to top","title":"Data Models"},{"location":"Platform/Menu/Manage Data/Data Models/#table-of-contents","text":"What is a datamodel? Interaction config Fields field alias role Active Interaction Expressions Item config Fields field alias role MLMeta MLFilter Active Item Expressions User config Fields field alias role User Expressions Custom properties Expression syntax (Click house) Data model expression examples Interaction expression User expressions Back to top","title":"Table of Contents"},{"location":"Platform/Menu/Manage Data/Data Models/#what-is-a-datamodel","text":"A datamodel can seen as the product of three sources put in a package , an interaction source, an item source and a user source. The interaction config in the data model consists of a user and an item from two of the three sources. When we have created a datamodel and chosen what sources we want, we can start creating information through expressions. These can later be seen in dashboards (dashboard are always based upon a datamodel) However, when a datamodel is used for email analysis, the interaction becomes a specific email sent to a user , the user becomes the one receiving the email , and the email that was sent is treated as an item. Back to top","title":"What is a datamodel?"},{"location":"Platform/Menu/Manage Data/Data Models/#interaction-config","text":"Back to top","title":"Interaction config"},{"location":"Platform/Menu/Manage Data/Data Models/#fields","text":"Back to top","title":"Fields"},{"location":"Platform/Menu/Manage Data/Data Models/#field","text":"This is the name of the given in the source query (it can not be changed in the data model). Back to top","title":"field"},{"location":"Platform/Menu/Manage Data/Data Models/#alias","text":"By adding an alias the the field name is replaced by the alias name in the dashboard and segmentation. In Recommendation the field name is allways shown even if an alias is added. Back to top","title":"alias"},{"location":"Platform/Menu/Manage Data/Data Models/#role","text":"Categories Categories is used when data is made up of multiple category 's. The data format for categories has to be [ category1 ; category2 ; category3 ; etc ] Revenue Revenue can only be set on 1 field and should be sales price (EX VAT) . The reason you set mark your sales price (EX VAT) with the revenue role is to generate suggested revenue related expressions. Quantity If a user buys multiple items of the same SKU at the same time this will be either represented as 1 interaction row with quantity x In this case that field should be set to Quantity . for some data souces this will be represented as x interaction rows without a quantity row. Timestamp The timestamp role should only be set to the field that represent the interaction timestamp (when the interaction took place). other timestamps such as return date etc. should instead be set to number. The timestamp role is needed to create suggested expressions. User The User role is set to the key-field that connects the interaction table to the user table. Item The Item role is set to the key-field that connects the interaction table to the Item table. Number The Number role is automatically set to all fields that only contains numbers (you can make toFloat( field ) without error). The number role lets you interact with a field as a number meaning you can make an calculation expressions such as if( field 100). If you want to make a histogram you can only use fields with role Number because you specify the bin width wich can only be done if the field is concidered a Number (does not work if the field is a Category ). Category All fields that can not be classified as a Number are classified as a Category . Category 's are used in for example Bar charts . Enum ??????????? EnumCategories ??????????? Back to top","title":"role"},{"location":"Platform/Menu/Manage Data/Data Models/#active","text":"The Active toggle button lets you activate/deactivate a field. a deactivated field can not be used in dashboards. Back to top","title":"Active"},{"location":"Platform/Menu/Manage Data/Data Models/#interaction-expressions","text":"Back to top","title":"Interaction Expressions"},{"location":"Platform/Menu/Manage Data/Data Models/#item-config","text":"Back to top","title":"Item config"},{"location":"Platform/Menu/Manage Data/Data Models/#fields_1","text":"Back to top","title":"Fields"},{"location":"Platform/Menu/Manage Data/Data Models/#field_1","text":"same as in Interaction Back to top","title":"field"},{"location":"Platform/Menu/Manage Data/Data Models/#alias_1","text":"same as in Interaction Back to top","title":"alias"},{"location":"Platform/Menu/Manage Data/Data Models/#role_1","text":"Categories same as in Interaction Timestamp The timestamp lets you work with unixtimestamp and shows the result in as a datetime (readable format). Format The format role represent the name of the item and is what is shown in the Image grid in the dashboards and in the Recommendations Image The image role represent what field will be shown as a image in the Image grid in the dashboards and in the Recommendations . The image field is usually called something with url . Number same as in Interaction Category same as in Interaction Enum dont know as in Interaction... EnumCategories dont know as in Interaction... Back to top","title":"role"},{"location":"Platform/Menu/Manage Data/Data Models/#mlmeta","text":"The MLMeta toggle button controles what is returned when when you make an API call. This is to give you control what data you want to return to the customer. you dont want to activate MLMeta on all fields because this will result in you return alot of \"trash columns\" to the customer that they have to filter in turn get the relevant data. [Note that you also have to select the role Image and Format for the product to show] (MLMeta is only relevant in the recomendations???? dashboard???) Back to top","title":"MLMeta"},{"location":"Platform/Menu/Manage Data/Data Models/#mlfilter","text":"The MLFilter lets you write expressions and filter your data in in the Recommendations . You should only activate MLFilter for the fields you actually want to create a filter for, the reason for this is that when you activate MLFilter for a field this will store all data in the memory and every time the API calls for a recommendation the datamodel have to itterate through all fields with MLFilter resulting in a bad performance on the customers side (when the customer want to load our recomendations on their site the load speed will depend on how many MLFilters you have activated. Back to top","title":"MLFilter"},{"location":"Platform/Menu/Manage Data/Data Models/#active_1","text":"Same as in Interaction Back to top","title":"Active"},{"location":"Platform/Menu/Manage Data/Data Models/#item-expressions","text":"Back to top","title":"Item Expressions"},{"location":"Platform/Menu/Manage Data/Data Models/#user-config","text":"Back to top","title":"User config"},{"location":"Platform/Menu/Manage Data/Data Models/#fields_2","text":"Back to top","title":"Fields"},{"location":"Platform/Menu/Manage Data/Data Models/#field_2","text":"same as in Interaction Back to top","title":"field"},{"location":"Platform/Menu/Manage Data/Data Models/#alias_2","text":"same as in Interaction Back to top","title":"alias"},{"location":"Platform/Menu/Manage Data/Data Models/#role_2","text":"Categories same as in Interaction Timestamp same as in Items Pll Email Number same as in Interaction Category same as in Interaction Enum ???? EnumCategories ???? Back to top","title":"role"},{"location":"Platform/Menu/Manage Data/Data Models/#user-expressions","text":"Back to top","title":"User Expressions"},{"location":"Platform/Menu/Manage Data/Data Models/#custom-properties","text":"Great feature with good UX BUT only works for a specific preprogrammed examples (RFM, CustomerLifcycle). Back to top","title":"Custom properties"},{"location":"Platform/Menu/Manage Data/Data Models/#expression-syntax-click-house","text":"SUM() uniq() uniqExact() countIf() sumIf() uniqIf() multiIf(boolean, result_1, boolean, result_2, ..., boolean, result_n, else_this) multiIf(name = 'red', colour, name = 'big', 'size', 'no data') etc... Back to top","title":"Expression syntax (Click house)"},{"location":"Platform/Menu/Manage Data/Data Models/#data-model-expression-examples","text":"Back to top","title":"Data model expression examples"},{"location":"Platform/Menu/Manage Data/Data Models/#interaction-expression","text":"Days since previous order cohort multiIf (agg.daysFromPrev =30,'1. 30', agg.daysFromPrev =60,'2.30-60', agg.daysFromPrev =90,'3.60-90', agg.daysFromPrev =180,'4.90-180', agg.daysFromPrev =360,'5.180-360', agg.daysFromPrev =720,'6. 360-720', agg.daysFromPrev =4000,'7. 720', '8.New') Has return multiIf(returned_quantity 0, 'Return', 'No return') First order (month toStartOfMonth(user.agg.first) Active week toMonday(ts) Active month toStartOfMonth(ts) % discount SUM(full_price-revenue)/SUM(full_price) Revenue SUM(revenue) Price per item SUM(revenue)/SUM(quantity) Revenue per user SUM(revenue)/uniq(user) Average order value SUM(revenue)/uniq(user,ts) Sold items SUM(quantity) Items per order SUM(quantity)/uniq(user,ts) % returned quantity SUM(returned_quantity)/SUM(quantity) LTV 30d We usually do 5 different LTV metrics, just remember to change name accordingly to selected amount of days sumIf(revenue, ts user.agg.first + 30 AND addDays(user.agg.first, 30) = now())/uniqIf(user,addDays(user.agg.first, 30) = now()) sumIf(revenue, ts user.agg.first + 60 AND addDays(user.agg.first, 60) = now())/uniqIf(user,addDays(user.agg.first, 60) = now()) sumIf(revenue, ts user.agg.first + 90 AND addDays(user.agg.first, 90) = now())/uniqIf(user,addDays(user.agg.first, 90) = now()) sumIf(revenue, ts user.agg.first + 180 AND addDays(user.agg.first, 180) = now())/uniqIf(user,addDays(user.agg.first, 180) = now()) sumIf(revenue, ts user.agg.first + 365 AND addDays(user.agg.first, 365) = now())/uniqIf(user,addDays(user.agg.first, 365) = now()) Returned quantity SUM(returned_quantity) Returned or not returned multiIf(returned_quantity 0, 'Return', 'No return') Available quantity SUM(item.variant_product_size_size_available_now_quantity)/count() Back to top","title":"Interaction expression"},{"location":"Platform/Menu/Manage Data/Data Models/#user-expressions_1","text":"Users 1 order uniqIf(user,user.agg.orders 1)/uniq(user) ITEMS Sold items [item based dashboards] SUM(article_number.agg.trans) Available quantity [item based dashboards] SUM(item.in_stock) SUM(full_price-PriceExVatIncDiscSEK)/SUM(full_price) SUM(DiscountSEK) / SUM((DiscountSEK + PriceIncVatIncDiscSEK) Back to top","title":"User expressions"},{"location":"Platform/Menu/Manage Data/Import Files/","text":"Table of Contents Import data to the platform Using a database connection (for Centra, Voyado, etc) Set up a configuration Make arbitrary query How to verify that the sync works? Using a file Find Voyado files to import Back to top Import data to the platform Back to top Using a database connection (for Centra, Voyado, etc) First, make sure you know the origin files to fetch * For Voyado Go to the platform and then to Admin - Configuration (can be found at the top right menu by clicking the three dots, see example image below). Back to top Set up a configuration Add a database and name the Database based on the what system they use (centra, voyado, etc), and choose the matching Driver . In the Config field, check the standard URL provided by the corresponding ecommerce platform. Notes: A key or token is needed to access the databases. This key is listed under Admin - Secrets . For Centra customers there are fields that need to be specified: * \"Limit\":100000 : This is a limit so that we do not overload Centra servers when fetching data * \"Store\":1,\"Market\":3,\"PriceList\":19,\"Warehouses\":[2,3] : These are specifications to fetch the correct data, the customer seldom knows this but Centra should have the information. For Voyado customers there are fields that need to be specified: * \"Directories\" : These are the directories that can be found in the Azure data lake * There are defauly directories that will be accessible without specifying them, these are store/ , receiptItems/ , article/ and allContacts/ There is an option also to Add Integration . This part can be skipped, it is only used when we send data to customers. Back to top Make arbitrary query Create a source and make an arbitrary query similar to SELECT * FROM `users.gz` for Centra. You can list possible paths by using SELECT * FROM `*` . This will trigger a proxy sync, and if a Centra customer the .gz files will appear once completed. This normally takes 1-5 hours. Back to top How to verify that the sync works? Choose the source you created and press the pen to edit it. Go to the ADD QUERY tab and choose \u201cSELECT * FROM `*`\u201d . If the sync is ready, you will see a list of files to choose from, for example, users.gz , items.gz , interactions.gz , see image below. If you see the files imported you are now ready to create sources! Back to top Using a file Go to the platform and then to Manage data - Import files (can be found at the top right menu by clicking the three dots, see example image below). If the customer sent their data in a csv-file, drag it to the drop box for importing files. Uploaded files are available from the \"imports (csv-fs)\" database connection when creating new sources (see next step). Back to top Find Voyado files to import Go to portal.azure.com Login with the dedicated Infobaleen user (credentials can be sent by Customer Success team). Choose \"Work or School\" as account type. When logged in you will see something similar to the screenshot below: Go to All resources Click Subscription and choose All . Be sure to check that all is being marked, you might need to tick off and click one time to ensure this. You will now see the subscribed folders listed Navigate to the Data Explorer by clicking the customer folder, It will probably be named something like \"[customer_name]corestoralsprod\" or \"voyado[customer_name]prod\" In the file tree you will see the .csv-files that Infobaleen fetches These files will be used when configuring the platform to import files. Back to top","title":"Import Files"},{"location":"Platform/Menu/Manage Data/Import Files/#table-of-contents","text":"Import data to the platform Using a database connection (for Centra, Voyado, etc) Set up a configuration Make arbitrary query How to verify that the sync works? Using a file Find Voyado files to import Back to top","title":"Table of Contents"},{"location":"Platform/Menu/Manage Data/Import Files/#import-data-to-the-platform","text":"Back to top","title":"Import data to the platform"},{"location":"Platform/Menu/Manage Data/Import Files/#using-a-database-connection-for-centra-voyado-etc","text":"First, make sure you know the origin files to fetch * For Voyado Go to the platform and then to Admin - Configuration (can be found at the top right menu by clicking the three dots, see example image below). Back to top","title":"Using a database connection (for Centra, Voyado, etc)"},{"location":"Platform/Menu/Manage Data/Import Files/#set-up-a-configuration","text":"Add a database and name the Database based on the what system they use (centra, voyado, etc), and choose the matching Driver . In the Config field, check the standard URL provided by the corresponding ecommerce platform. Notes: A key or token is needed to access the databases. This key is listed under Admin - Secrets . For Centra customers there are fields that need to be specified: * \"Limit\":100000 : This is a limit so that we do not overload Centra servers when fetching data * \"Store\":1,\"Market\":3,\"PriceList\":19,\"Warehouses\":[2,3] : These are specifications to fetch the correct data, the customer seldom knows this but Centra should have the information. For Voyado customers there are fields that need to be specified: * \"Directories\" : These are the directories that can be found in the Azure data lake * There are defauly directories that will be accessible without specifying them, these are store/ , receiptItems/ , article/ and allContacts/ There is an option also to Add Integration . This part can be skipped, it is only used when we send data to customers. Back to top","title":"Set up a configuration"},{"location":"Platform/Menu/Manage Data/Import Files/#make-arbitrary-query","text":"Create a source and make an arbitrary query similar to SELECT * FROM `users.gz` for Centra. You can list possible paths by using SELECT * FROM `*` . This will trigger a proxy sync, and if a Centra customer the .gz files will appear once completed. This normally takes 1-5 hours. Back to top","title":"Make arbitrary query"},{"location":"Platform/Menu/Manage Data/Import Files/#how-to-verify-that-the-sync-works","text":"Choose the source you created and press the pen to edit it. Go to the ADD QUERY tab and choose \u201cSELECT * FROM `*`\u201d . If the sync is ready, you will see a list of files to choose from, for example, users.gz , items.gz , interactions.gz , see image below. If you see the files imported you are now ready to create sources! Back to top","title":"How to verify that the sync works?"},{"location":"Platform/Menu/Manage Data/Import Files/#using-a-file","text":"Go to the platform and then to Manage data - Import files (can be found at the top right menu by clicking the three dots, see example image below). If the customer sent their data in a csv-file, drag it to the drop box for importing files. Uploaded files are available from the \"imports (csv-fs)\" database connection when creating new sources (see next step). Back to top","title":"Using a file"},{"location":"Platform/Menu/Manage Data/Import Files/#find-voyado-files-to-import","text":"Go to portal.azure.com Login with the dedicated Infobaleen user (credentials can be sent by Customer Success team). Choose \"Work or School\" as account type. When logged in you will see something similar to the screenshot below: Go to All resources Click Subscription and choose All . Be sure to check that all is being marked, you might need to tick off and click one time to ensure this. You will now see the subscribed folders listed Navigate to the Data Explorer by clicking the customer folder, It will probably be named something like \"[customer_name]corestoralsprod\" or \"voyado[customer_name]prod\" In the file tree you will see the .csv-files that Infobaleen fetches These files will be used when configuring the platform to import files. Back to top","title":"Find Voyado files to import"},{"location":"Platform/Menu/Manage Data/Manage-Data/","text":"Table of Contents Data Models Data model expressions (Click house) Sources Centra Queries Procedure Interactions Items Users Variant model Interactions Id columns Items Id columns Users Id columns No size model Example rows with explanation Voyado Queries Procedure Interactions 1. Id columns Stores 1. Id column Contacts 1. Id column Query expressions Results dummy1 dummy2 Import Files Back to top Data Models Back to top Data model expressions (Click house) SUM() Summarize a value, for example SUM(returned_quantity) returns the total amount of returned quantity (over chosen period of time) uniq() counts the amount of unique values, for example uniq(user) returns the amount of unique users. uniqExact() Is almost the same as uniq(), however uniq() may have a very small inaccuracy (that most often doesn't matter at all), but if it's important to have for example 100.002 (correct) instead of 100.000, use uniqExact(). The reason for this is simply that uniq() is less demanding. countIf() this counts +1 for each time an argument is correct on an interaction (row). Example : let's say there's 10 interactions (ten rows) in a table with a column that's currency. On 7 of the 10 rows the currency column consists of 'SEK', if we now use countIf(currency = 'SEK') we will get the value 7. sumIf() sumIf(Value that will be summarized when, X = N) Example : sumIf(revenue, currency = 'SEK') uniqIf() multiIf(boolean, result_1, boolean, result_2, ..., boolean, result_n, else_this) multiIf(name = 'red', colour, name = 'big', 'size', 'no data') etc... Back to top Sources If you are looking for information about how sources gets set up, how they work and what they are, click here Back to top Centra Queries Procedure 1 Interactions 1 Items 2 Users 3 Back to top Procedure Setup config Make arbitrary query toward centra This will trigger proxy sync, the .gz files will appear once completed, duration 1-5h Back to top Interactions Id columns: id i import / user,id i model source SELECT `line.Id` AS id, `order.Customer.Id` AS user, unixTimestamp(`order.OrderDate`, '2006-01-02T15:04:05-0700') AS ts, concat(`line.ProductVariant.Id`,'_',`line.ProductSize.Size.Id`) AS item, toFloat(`line.LineValue.FormattedValue`)*toFloat(`order.CurrencyBaseRate`) AS revenue, round(`line.Quantity`*`order.CurrencyBaseRate`*`line.UnitOriginalPrice.FormattedValue`,2) AS full_price, `line.ProductVariant.Id` AS variant_id, `line.ProductVariant.Product.Id` AS product_id, `line.ProductVariant.VariantNumber` AS variant_number, `line.ProductSize.Id` AS product_size, `line.ProductSize.SKU` AS size_sku, `line.ProductSize.SizeNumber` AS size_number, `line.ProductSize.GTIN` AS size_gtin, `line.ProductSize.Size.Id` AS size_id, `line.ProductSize.Size.Name` AS size_name, toFloat(`line.LineValue.FormattedValue`) AS Non_converted_value, `line.UnitPrice.FormattedValue` AS Unitprice_formatted_value, `line.UnitOriginalPrice.FormattedValue` AS Unit_original_price_formatted_value, `line.Quantity` AS quantity, `line.ReturnedQuantity` AS returned_quantity, `line.CancelledQuantity` AS cancelled_quantity, `line.ProductNumber` AS product_number, `line.TypeName` AS type, round(`line.DiscountPercent`,0) AS discount_percent, `line.TaxPercent` AS tax_percent, `order.Id` AS order_id, `order.Number` AS order_number, unixTimestamp(`order.CreatedAt`, '2006-01-02T15:04:05-0700') AS order_created_at, `order.Status` AS order_status, `order.GrandTotal.FormattedValue` AS total order value inc VAT, `order.Shipments[0].CarrierInformation.ServiceName` AS carrier_service_name, `order.Shipments[0].CarrierInformation.CarrierName` AS carrier_name, `order.Market.Name` AS order_market, `order.Store.Name` AS store, `order.Country.Name` AS country, `order.PaymentMethod.Name` AS order_payment_method, `order.Totals.LineValues` AS order_totals_values, `order.Totals.Shipping` AS order_total_shipping, `order.Totals.Discounts` AS order_total_discounts, `order.Totals.Handling` AS order_totals_handling, `order.CurrencyBaseRate` AS order_currency_base_rate, `order.Discounts` AS order_discounts, `order.Discounts.Len` AS order_discounts_len, `order.DiscountsApplied.Name` AS discount_name, `order.DiscountsApplied.Method` AS order_discounts_applied_method, `order.DiscountsApplied.Value` AS order_discounts_applied_value, `order.DiscountsApplied.Discount.Codes` discount_codes, Currency AS currency, CurrencyOK AS currency_ok FROM`interactions.gz` Back to top Items Id columns : item SELECT concat(`variant.Id`,'_',`variant.productSize.Size.Id`) AS item, `prod.Name` AS prod_name, `variant.MediaURL` AS variant_media_url, `variant.Id` AS id, `variant.Name` AS variant_name, `variant.Status` AS variant_status, `variant.StockOffset` AS variant_stock_offset, `variant.InternalName` AS variant_internal_name, `variant.variantNumber` AS variant_variant_number, `variant.UnitCost.FormattedValue` AS variant_unit_cost_formatted_value, `variant.productSize.Id` AS variant_product_size_id, `variant.productSize.GTIN` AS variant_product_size_gtin, `variant.productSize.SizeNumber` AS variant_product_size_number, `variant.productSize.SKU` AS variant_product_size_sku, `variant.productSize.Size.Id` AS variant_product_size_size_id, `variant.productSize.Size.Name` AS variant_product_size_size_name, `prod.Id` AS prod_id, `prod.ProductNumber` AS prod_product_number, `prod.Brand.Name` AS prod_brand_name, `prod.CountryOfOrigin.Name` AS prod_country_of_origin_name, `prod.Collection.Name` AS prod_collection_name, `prod.Status` AS prod_status, `prod.HarmonizedCommodityCode` AS prod_harmonized_commodity_code, `prod.Folder.Name` AS prod_folder_name, `display.Store.Name` AS display_store_name, `display.Status` AS display_status, `display.Name` AS display_name, `display.DisplayItem.Id` AS display_item_id, `display.Categories` AS display_categories, `display.Category1` AS display_category_1, `display.Category2` AS display_category_2, `display.Category3` AS display_category_3, `display.CategoryUri` AS display_category_uri, `display.Uri` AS display_uri, `variant.productSize.Size.AvailableNowQuantity` AS variant_available_now_quantity, `variant.Price` AS variant_price, `variant.Currency` AS variant_currency, `variant.Campaign_DiscountPercent` AS variant_campaign_discount_percent, `variant.Campaign_FixedPrice` AS variant_campaign_fixed_price, `variant.Campaign_FixedPrice_Currency` AS variant_campaign_fixed_price_currency, market AS market, concat(`prod.Brand.Name`, ', ', `prod.Name`, if(`variant.Name` != '' OR `variant.productSize.Size.Name` != '', ' ', ''), if(`variant.Name` != '', concat('[',`variant.Name`, ']'),''), if(`variant.productSize.Size.Name` != '', concat('[',`variant.productSize.Size.Name`,']'), '') ) format FROM `items.gz` Back to top Users Id columns : user SELECT `customer.Id` AS user, `customer.IsAnonymized` AS anonymized, `customer.TotalOrders` AS total_orders, unixTimestamp(`customer.CreatedAt`, '2006-01-02T15:04:05-0700') AS created_at, unixTimestamp(`customer.UpdatedAt`, '2006-01-02T15:04:05-0700') AS updated_at, `customer.Store.Name` AS store, `customer.Email` AS email, `customer.CellPhoneNumber` AS phone FROM `users.gz` Back to top Variant model Back to top Interactions Back to top Id columns user,id SELECT `order.Customer.Id` AS user, `line.Id` AS id, unixTimestamp(`order.OrderDate`, '2006-01-02T15:04:05-07:00') AS ts, `line.ProductVariant.Id` AS item, toFloat(`line.LineValue.FormattedValue`)*toFloat(`order.CurrencyBaseRate`) AS revenue, round(`line.Quantity`*`order.CurrencyBaseRate`*`line.UnitOriginalPrice.FormattedValue`,2) AS full_price, `line.ProductVariant.Id` AS variant_id, `line.ProductVariant.Product.Id` AS product_id, `line.ProductVariant.VariantNumber` AS variant_number, `line.ProductSize.Id` AS product_size, `line.ProductSize.SKU` AS size_sku, `line.ProductSize.SizeNumber` AS size_number, `line.ProductSize.GTIN` AS size_gtin, `line.ProductSize.Size.Id` AS size_id, `line.ProductSize.Size.Name` AS size_name, toFloat(`line.LineValue.FormattedValue`) AS Non_converted_value, `line.UnitPrice.FormattedValue` AS Unitprice_formatted_value, `line.UnitOriginalPrice.FormattedValue` AS Unit_original_price_formatted_value, `line.Quantity` AS quantity, `line.ReturnedQuantity` AS returned_quantity, `line.CancelledQuantity` AS cancelled_quantity, `line.ProductNumber` AS product_number, `line.TypeName` AS type, round(`line.DiscountPercent`,0) AS discount_percent, `line.TaxPercent` AS tax_percent, `order.Id` AS order_id, `order.Number` AS order_number, unixTimestamp(`order.CreatedAt`, '2006-01-02T15:04:05-0700') AS order_created_at, `order.Status` AS order_status, `order.GrandTotal.FormattedValue` AS total_order_value_inc_VAT, `order.Shipments[0].CarrierInformation.ServiceName` AS carrier_service_name, `order.Shipments[0].CarrierInformation.CarrierName` AS carrier_name, `order.Market.Name` AS order_market, `order.Store.Name` AS store, `order.Country.Name` AS country, `order.PaymentMethod.Name` AS order_payment_method, `order.Totals.LineValues` AS order_totals_values, `order.Totals.Shipping` AS order_total_shipping, `order.Totals.Discounts` AS order_total_discounts, `order.Totals.Handling` AS order_totals_handling, `order.CurrencyBaseRate` AS order_currency_base_rate, `order.Discounts` AS order_discounts, `order.Discounts.Len` AS order_discounts_len, `order.DiscountsApplied.Name` AS discount_name, `order.DiscountsApplied.Method` AS discounts_applied_method, `order.DiscountsApplied.Value` AS discounts_applied_value, `order.DiscountsApplied.Discount.Codes` AS discount_codes, Currency AS currency, CurrencyOK AS currency_ok FROM `interactions.gz` Back to top Items Back to top Id columns item SELECT `variant.Id` AS item, `prod.Name` AS prod_name, `variant.MediaURL` AS variant_media_url, `variant.Id` AS variant_id, `variant.Name` AS variant_name, --`variant.productSize.SKU` AS variant_product_size_sku, `variant.Status` AS variant_status, `variant.StockOffset` AS variant_stock_offset, `variant.InternalName` AS variant_internal_name, `variant.variantNumber` AS variant_variant_number, `variant.UnitCost.FormattedValue` AS variant_unit_cost_formatted_value, --`variant.productSize.Id` AS variant_product_size_id, --`variant.productSize.GTIN` AS variant_product_size_gtin, --`variant.productSize.SizeNumber` AS variant_product_size_size_number, --`variant.productSize.Size.Id` AS variant_product_size_size_id, --`variant.productSize.Size.Name` AS variant_product_size_size_name, `prod.Id` AS prod_id, `prod.ProductNumber` AS prod_product_number, `prod.Brand.Name` AS prod_brand_name, `prod.CountryOfOrigin.Name` AS prod_country_of_origin_name, `prod.Collection.Name` AS prod_collection_name, `prod.Status` AS prod_status, `prod.HarmonizedCommodityCode` AS prod_harmonized_commodity_code, `prod.Folder.Name` AS prod_folder_name, `display.Store.Name` AS display_store_name, `display.Status` AS display_status, `display.Name` AS display_name, `display.DisplayItem.Id` AS display_display_item_id, `display.Categories` AS display_categories, `display.Category1` AS display_category_1, `display.Category2` AS display_category_2, `display.Category3` AS display_category_3, `display.CategoryUri` AS display_category_uri, `display.Uri` AS display_uri, --`variant.productSize.Size.AvailableNowQuantity` AS available_now_quantity, `variant.Price` AS variant_price, `variant.Currency` AS variant_currency, `variant.Campaign_DiscountPercent` AS variant_campaign_discount_percent, `variant.Campaign_FixedPrice` AS variant_campaign_fixed_price, `variant.Campaign_FixedPrice_Currency` AS variant_campaign_fixed_price_currency, market AS market, concat(`prod.Brand.Name`, ', ', `prod.Name`, if(`variant.Name` != '', concat(' [',`variant.Name`, ']'),'') ) format FROM `items.gz` Back to top Users Back to top Id columns user SELECT `customer.Id` AS user, `customer.IsAnonymized` AS anonymized, `customer.TotalOrders` AS total_orders, unixTimestamp(`customer.CreatedAt`, '2006-01-02T15:04:05-0700') AS created_at, unixTimestamp(`customer.UpdatedAt`, '2006-01-02T15:04:05-0700') AS updated_at, `customer.Store.Name` AS store, `customer.Email` AS email, `customer.CellPhoneNumber` AS phone FROM `users.gz` Back to top No size model for Item source called \u2018no size model - items\u2019 SELECT variantId AS id, groupcoalesce(format) AS format, groupcoalesce(productName) AS product_name, groupcoalesce(variantName) AS variant_name, groupcoalesce(variantStatus) AS variant_status, groupcoalesce(brand) AS brand, groupcoalesce(`prod.Folder.Name`) AS prod_folder_name, groupcoalesce(collection) AS collection, groupcoalesce(productNumber) AS product_number, groupcoalesce(price) AS price, groupcoalesce(availableNowQuantity) AS available_now_quantity, groupcoalesce(countryOfOrigin) AS country_of_origin, groupcoalesce(mediaURL) AS media_url, groupcoalesce(unitCost) AS unit_cost, groupcoalesce(productStatus) AS product_status, groupcoalesce(variantInternalName) AS variant_internal_name, groupcoalesce(displayCategory1) AS display_category_1, groupcoalesce(displayCategory2) AS display_category_2, groupcoalesce(displayCategory3) AS display_category_3, groupcoalesce(displayItemId) AS display_item_id FROM `centra_products_import` GROUP BY variantId Back to top Example rows with explanation Coalesce ( display.Name , prod.Name , variant.Id ) AS format Explanation: Choose display.Name if it exists, otherwise check prod.Name, and lastly variant.Id. Concat ( line.ProductVariant.Id ,' ', line.ProductSize.Size.Id ) AS item Explanation: This will merge the two lines, for example Concat (Hello, ' ', you) would concat to Hello_you unixTimestamp ( order.CreatedAt , '2006-01-02T15:04:05-0700') AS order_created_at, Explanation: This will convert a date into number form Back to top Voyado Queries Back to top Procedure 1 Items 2 Users 3 Interactions 4 Back to top Procedure Setup config Back to top Interactions From RAW - receiptItems + RAW - stores Back to top Id columns id,user SELECT user, t.id id, unix_timestamp(transactionDateTime, '2006-01-02T15:05:05Z') ts, articleNumber item, receiptItemId, receiptId, t.type type, quantity, grossPaidPrice price, awardsBonus, stores.name store, stores.city store_city, stores.country store_country, stores.externalId butikskod, stores.type store_type FROM `RAW - receiptItems` t LEFT JOIN `RAW - store` stores on t.storeId = stores.id WHERE user != '' Back to top Stores Back to top Id column id SELECT storeId id, name, isDeleted, city, country, zipCode, street, region, externalId, type, active, changeType FROM `store/byExportDate/*/*/*/*.csv` -- WHERE unix_timestamp(implode(slice(split(path(),'/'), 2,5), '/'), '2006/01/02') = now()-7*24*60*60 Back to top Contacts Back to top Id column id SELECT contactId id, contactType, isApproved, isDeleted, gender, age, zipCode, city, countryCode, acceptsEmail, acceptsSms, acceptsPostal, statusEmail, statusSms, statusPostal, rfm, recency, frequency, monetary, latestNpsGrade, latestNpsDateTime, registrationDateTime, lastModifiedDateTime, deletedDateTime, deletedReason, recruitedStoreId, currentStoreId, changeType FROM `allContacts/byExportDate/*/*/*/*.csv` WHERE unix_timestamp(implode(slice(split(path(),'/'), 2,5), '/'), '2006/01/02') = now()-7*24*60*60 Back to top Query expressions you need to enclose variable names that contain other characters than letters and numbers with backticks ``, this includes whitespace ' ', dot '.', etc... SELECT * LEFT JOIN coalese toFloat() unixTimestamp() split() slice() etc... Back to top Results Back to top dummy1 Back to top dummy2 Back to top Import Files Back to top","title":"Manage-Data"},{"location":"Platform/Menu/Manage Data/Manage-Data/#table-of-contents","text":"Data Models Data model expressions (Click house) Sources Centra Queries Procedure Interactions Items Users Variant model Interactions Id columns Items Id columns Users Id columns No size model Example rows with explanation Voyado Queries Procedure Interactions 1. Id columns Stores 1. Id column Contacts 1. Id column Query expressions Results dummy1 dummy2 Import Files Back to top","title":"Table of Contents"},{"location":"Platform/Menu/Manage Data/Manage-Data/#data-models","text":"Back to top","title":"Data Models"},{"location":"Platform/Menu/Manage Data/Manage-Data/#data-model-expressions-click-house","text":"SUM() Summarize a value, for example SUM(returned_quantity) returns the total amount of returned quantity (over chosen period of time) uniq() counts the amount of unique values, for example uniq(user) returns the amount of unique users. uniqExact() Is almost the same as uniq(), however uniq() may have a very small inaccuracy (that most often doesn't matter at all), but if it's important to have for example 100.002 (correct) instead of 100.000, use uniqExact(). The reason for this is simply that uniq() is less demanding. countIf() this counts +1 for each time an argument is correct on an interaction (row). Example : let's say there's 10 interactions (ten rows) in a table with a column that's currency. On 7 of the 10 rows the currency column consists of 'SEK', if we now use countIf(currency = 'SEK') we will get the value 7. sumIf() sumIf(Value that will be summarized when, X = N) Example : sumIf(revenue, currency = 'SEK') uniqIf() multiIf(boolean, result_1, boolean, result_2, ..., boolean, result_n, else_this) multiIf(name = 'red', colour, name = 'big', 'size', 'no data') etc... Back to top","title":"Data model expressions (Click house)"},{"location":"Platform/Menu/Manage Data/Manage-Data/#sources","text":"If you are looking for information about how sources gets set up, how they work and what they are, click here Back to top","title":"Sources"},{"location":"Platform/Menu/Manage Data/Manage-Data/#centra-queries","text":"Procedure 1 Interactions 1 Items 2 Users 3 Back to top","title":"Centra Queries"},{"location":"Platform/Menu/Manage Data/Manage-Data/#procedure","text":"Setup config Make arbitrary query toward centra This will trigger proxy sync, the .gz files will appear once completed, duration 1-5h Back to top","title":"Procedure"},{"location":"Platform/Menu/Manage Data/Manage-Data/#interactions","text":"Id columns: id i import / user,id i model source SELECT `line.Id` AS id, `order.Customer.Id` AS user, unixTimestamp(`order.OrderDate`, '2006-01-02T15:04:05-0700') AS ts, concat(`line.ProductVariant.Id`,'_',`line.ProductSize.Size.Id`) AS item, toFloat(`line.LineValue.FormattedValue`)*toFloat(`order.CurrencyBaseRate`) AS revenue, round(`line.Quantity`*`order.CurrencyBaseRate`*`line.UnitOriginalPrice.FormattedValue`,2) AS full_price, `line.ProductVariant.Id` AS variant_id, `line.ProductVariant.Product.Id` AS product_id, `line.ProductVariant.VariantNumber` AS variant_number, `line.ProductSize.Id` AS product_size, `line.ProductSize.SKU` AS size_sku, `line.ProductSize.SizeNumber` AS size_number, `line.ProductSize.GTIN` AS size_gtin, `line.ProductSize.Size.Id` AS size_id, `line.ProductSize.Size.Name` AS size_name, toFloat(`line.LineValue.FormattedValue`) AS Non_converted_value, `line.UnitPrice.FormattedValue` AS Unitprice_formatted_value, `line.UnitOriginalPrice.FormattedValue` AS Unit_original_price_formatted_value, `line.Quantity` AS quantity, `line.ReturnedQuantity` AS returned_quantity, `line.CancelledQuantity` AS cancelled_quantity, `line.ProductNumber` AS product_number, `line.TypeName` AS type, round(`line.DiscountPercent`,0) AS discount_percent, `line.TaxPercent` AS tax_percent, `order.Id` AS order_id, `order.Number` AS order_number, unixTimestamp(`order.CreatedAt`, '2006-01-02T15:04:05-0700') AS order_created_at, `order.Status` AS order_status, `order.GrandTotal.FormattedValue` AS total order value inc VAT, `order.Shipments[0].CarrierInformation.ServiceName` AS carrier_service_name, `order.Shipments[0].CarrierInformation.CarrierName` AS carrier_name, `order.Market.Name` AS order_market, `order.Store.Name` AS store, `order.Country.Name` AS country, `order.PaymentMethod.Name` AS order_payment_method, `order.Totals.LineValues` AS order_totals_values, `order.Totals.Shipping` AS order_total_shipping, `order.Totals.Discounts` AS order_total_discounts, `order.Totals.Handling` AS order_totals_handling, `order.CurrencyBaseRate` AS order_currency_base_rate, `order.Discounts` AS order_discounts, `order.Discounts.Len` AS order_discounts_len, `order.DiscountsApplied.Name` AS discount_name, `order.DiscountsApplied.Method` AS order_discounts_applied_method, `order.DiscountsApplied.Value` AS order_discounts_applied_value, `order.DiscountsApplied.Discount.Codes` discount_codes, Currency AS currency, CurrencyOK AS currency_ok FROM`interactions.gz` Back to top","title":"Interactions"},{"location":"Platform/Menu/Manage Data/Manage-Data/#items","text":"Id columns : item SELECT concat(`variant.Id`,'_',`variant.productSize.Size.Id`) AS item, `prod.Name` AS prod_name, `variant.MediaURL` AS variant_media_url, `variant.Id` AS id, `variant.Name` AS variant_name, `variant.Status` AS variant_status, `variant.StockOffset` AS variant_stock_offset, `variant.InternalName` AS variant_internal_name, `variant.variantNumber` AS variant_variant_number, `variant.UnitCost.FormattedValue` AS variant_unit_cost_formatted_value, `variant.productSize.Id` AS variant_product_size_id, `variant.productSize.GTIN` AS variant_product_size_gtin, `variant.productSize.SizeNumber` AS variant_product_size_number, `variant.productSize.SKU` AS variant_product_size_sku, `variant.productSize.Size.Id` AS variant_product_size_size_id, `variant.productSize.Size.Name` AS variant_product_size_size_name, `prod.Id` AS prod_id, `prod.ProductNumber` AS prod_product_number, `prod.Brand.Name` AS prod_brand_name, `prod.CountryOfOrigin.Name` AS prod_country_of_origin_name, `prod.Collection.Name` AS prod_collection_name, `prod.Status` AS prod_status, `prod.HarmonizedCommodityCode` AS prod_harmonized_commodity_code, `prod.Folder.Name` AS prod_folder_name, `display.Store.Name` AS display_store_name, `display.Status` AS display_status, `display.Name` AS display_name, `display.DisplayItem.Id` AS display_item_id, `display.Categories` AS display_categories, `display.Category1` AS display_category_1, `display.Category2` AS display_category_2, `display.Category3` AS display_category_3, `display.CategoryUri` AS display_category_uri, `display.Uri` AS display_uri, `variant.productSize.Size.AvailableNowQuantity` AS variant_available_now_quantity, `variant.Price` AS variant_price, `variant.Currency` AS variant_currency, `variant.Campaign_DiscountPercent` AS variant_campaign_discount_percent, `variant.Campaign_FixedPrice` AS variant_campaign_fixed_price, `variant.Campaign_FixedPrice_Currency` AS variant_campaign_fixed_price_currency, market AS market, concat(`prod.Brand.Name`, ', ', `prod.Name`, if(`variant.Name` != '' OR `variant.productSize.Size.Name` != '', ' ', ''), if(`variant.Name` != '', concat('[',`variant.Name`, ']'),''), if(`variant.productSize.Size.Name` != '', concat('[',`variant.productSize.Size.Name`,']'), '') ) format FROM `items.gz` Back to top","title":"Items"},{"location":"Platform/Menu/Manage Data/Manage-Data/#users","text":"Id columns : user SELECT `customer.Id` AS user, `customer.IsAnonymized` AS anonymized, `customer.TotalOrders` AS total_orders, unixTimestamp(`customer.CreatedAt`, '2006-01-02T15:04:05-0700') AS created_at, unixTimestamp(`customer.UpdatedAt`, '2006-01-02T15:04:05-0700') AS updated_at, `customer.Store.Name` AS store, `customer.Email` AS email, `customer.CellPhoneNumber` AS phone FROM `users.gz` Back to top","title":"Users"},{"location":"Platform/Menu/Manage Data/Manage-Data/#variant-model","text":"Back to top","title":"Variant model"},{"location":"Platform/Menu/Manage Data/Manage-Data/#interactions_1","text":"Back to top","title":"Interactions"},{"location":"Platform/Menu/Manage Data/Manage-Data/#id-columns","text":"user,id SELECT `order.Customer.Id` AS user, `line.Id` AS id, unixTimestamp(`order.OrderDate`, '2006-01-02T15:04:05-07:00') AS ts, `line.ProductVariant.Id` AS item, toFloat(`line.LineValue.FormattedValue`)*toFloat(`order.CurrencyBaseRate`) AS revenue, round(`line.Quantity`*`order.CurrencyBaseRate`*`line.UnitOriginalPrice.FormattedValue`,2) AS full_price, `line.ProductVariant.Id` AS variant_id, `line.ProductVariant.Product.Id` AS product_id, `line.ProductVariant.VariantNumber` AS variant_number, `line.ProductSize.Id` AS product_size, `line.ProductSize.SKU` AS size_sku, `line.ProductSize.SizeNumber` AS size_number, `line.ProductSize.GTIN` AS size_gtin, `line.ProductSize.Size.Id` AS size_id, `line.ProductSize.Size.Name` AS size_name, toFloat(`line.LineValue.FormattedValue`) AS Non_converted_value, `line.UnitPrice.FormattedValue` AS Unitprice_formatted_value, `line.UnitOriginalPrice.FormattedValue` AS Unit_original_price_formatted_value, `line.Quantity` AS quantity, `line.ReturnedQuantity` AS returned_quantity, `line.CancelledQuantity` AS cancelled_quantity, `line.ProductNumber` AS product_number, `line.TypeName` AS type, round(`line.DiscountPercent`,0) AS discount_percent, `line.TaxPercent` AS tax_percent, `order.Id` AS order_id, `order.Number` AS order_number, unixTimestamp(`order.CreatedAt`, '2006-01-02T15:04:05-0700') AS order_created_at, `order.Status` AS order_status, `order.GrandTotal.FormattedValue` AS total_order_value_inc_VAT, `order.Shipments[0].CarrierInformation.ServiceName` AS carrier_service_name, `order.Shipments[0].CarrierInformation.CarrierName` AS carrier_name, `order.Market.Name` AS order_market, `order.Store.Name` AS store, `order.Country.Name` AS country, `order.PaymentMethod.Name` AS order_payment_method, `order.Totals.LineValues` AS order_totals_values, `order.Totals.Shipping` AS order_total_shipping, `order.Totals.Discounts` AS order_total_discounts, `order.Totals.Handling` AS order_totals_handling, `order.CurrencyBaseRate` AS order_currency_base_rate, `order.Discounts` AS order_discounts, `order.Discounts.Len` AS order_discounts_len, `order.DiscountsApplied.Name` AS discount_name, `order.DiscountsApplied.Method` AS discounts_applied_method, `order.DiscountsApplied.Value` AS discounts_applied_value, `order.DiscountsApplied.Discount.Codes` AS discount_codes, Currency AS currency, CurrencyOK AS currency_ok FROM `interactions.gz` Back to top","title":"Id columns"},{"location":"Platform/Menu/Manage Data/Manage-Data/#items_1","text":"Back to top","title":"Items"},{"location":"Platform/Menu/Manage Data/Manage-Data/#id-columns_1","text":"item SELECT `variant.Id` AS item, `prod.Name` AS prod_name, `variant.MediaURL` AS variant_media_url, `variant.Id` AS variant_id, `variant.Name` AS variant_name, --`variant.productSize.SKU` AS variant_product_size_sku, `variant.Status` AS variant_status, `variant.StockOffset` AS variant_stock_offset, `variant.InternalName` AS variant_internal_name, `variant.variantNumber` AS variant_variant_number, `variant.UnitCost.FormattedValue` AS variant_unit_cost_formatted_value, --`variant.productSize.Id` AS variant_product_size_id, --`variant.productSize.GTIN` AS variant_product_size_gtin, --`variant.productSize.SizeNumber` AS variant_product_size_size_number, --`variant.productSize.Size.Id` AS variant_product_size_size_id, --`variant.productSize.Size.Name` AS variant_product_size_size_name, `prod.Id` AS prod_id, `prod.ProductNumber` AS prod_product_number, `prod.Brand.Name` AS prod_brand_name, `prod.CountryOfOrigin.Name` AS prod_country_of_origin_name, `prod.Collection.Name` AS prod_collection_name, `prod.Status` AS prod_status, `prod.HarmonizedCommodityCode` AS prod_harmonized_commodity_code, `prod.Folder.Name` AS prod_folder_name, `display.Store.Name` AS display_store_name, `display.Status` AS display_status, `display.Name` AS display_name, `display.DisplayItem.Id` AS display_display_item_id, `display.Categories` AS display_categories, `display.Category1` AS display_category_1, `display.Category2` AS display_category_2, `display.Category3` AS display_category_3, `display.CategoryUri` AS display_category_uri, `display.Uri` AS display_uri, --`variant.productSize.Size.AvailableNowQuantity` AS available_now_quantity, `variant.Price` AS variant_price, `variant.Currency` AS variant_currency, `variant.Campaign_DiscountPercent` AS variant_campaign_discount_percent, `variant.Campaign_FixedPrice` AS variant_campaign_fixed_price, `variant.Campaign_FixedPrice_Currency` AS variant_campaign_fixed_price_currency, market AS market, concat(`prod.Brand.Name`, ', ', `prod.Name`, if(`variant.Name` != '', concat(' [',`variant.Name`, ']'),'') ) format FROM `items.gz` Back to top","title":"Id columns"},{"location":"Platform/Menu/Manage Data/Manage-Data/#users_1","text":"Back to top","title":"Users"},{"location":"Platform/Menu/Manage Data/Manage-Data/#id-columns_2","text":"user SELECT `customer.Id` AS user, `customer.IsAnonymized` AS anonymized, `customer.TotalOrders` AS total_orders, unixTimestamp(`customer.CreatedAt`, '2006-01-02T15:04:05-0700') AS created_at, unixTimestamp(`customer.UpdatedAt`, '2006-01-02T15:04:05-0700') AS updated_at, `customer.Store.Name` AS store, `customer.Email` AS email, `customer.CellPhoneNumber` AS phone FROM `users.gz` Back to top","title":"Id columns"},{"location":"Platform/Menu/Manage Data/Manage-Data/#no-size-model","text":"for Item source called \u2018no size model - items\u2019 SELECT variantId AS id, groupcoalesce(format) AS format, groupcoalesce(productName) AS product_name, groupcoalesce(variantName) AS variant_name, groupcoalesce(variantStatus) AS variant_status, groupcoalesce(brand) AS brand, groupcoalesce(`prod.Folder.Name`) AS prod_folder_name, groupcoalesce(collection) AS collection, groupcoalesce(productNumber) AS product_number, groupcoalesce(price) AS price, groupcoalesce(availableNowQuantity) AS available_now_quantity, groupcoalesce(countryOfOrigin) AS country_of_origin, groupcoalesce(mediaURL) AS media_url, groupcoalesce(unitCost) AS unit_cost, groupcoalesce(productStatus) AS product_status, groupcoalesce(variantInternalName) AS variant_internal_name, groupcoalesce(displayCategory1) AS display_category_1, groupcoalesce(displayCategory2) AS display_category_2, groupcoalesce(displayCategory3) AS display_category_3, groupcoalesce(displayItemId) AS display_item_id FROM `centra_products_import` GROUP BY variantId Back to top","title":"No size model"},{"location":"Platform/Menu/Manage Data/Manage-Data/#example-rows-with-explanation","text":"Coalesce ( display.Name , prod.Name , variant.Id ) AS format Explanation: Choose display.Name if it exists, otherwise check prod.Name, and lastly variant.Id. Concat ( line.ProductVariant.Id ,' ', line.ProductSize.Size.Id ) AS item Explanation: This will merge the two lines, for example Concat (Hello, ' ', you) would concat to Hello_you unixTimestamp ( order.CreatedAt , '2006-01-02T15:04:05-0700') AS order_created_at, Explanation: This will convert a date into number form Back to top","title":"Example rows with explanation"},{"location":"Platform/Menu/Manage Data/Manage-Data/#voyado-queries","text":"Back to top Procedure 1 Items 2 Users 3 Interactions 4 Back to top","title":"Voyado Queries"},{"location":"Platform/Menu/Manage Data/Manage-Data/#procedure_1","text":"Setup config Back to top","title":"Procedure"},{"location":"Platform/Menu/Manage Data/Manage-Data/#interactions_2","text":"From RAW - receiptItems + RAW - stores Back to top","title":"Interactions"},{"location":"Platform/Menu/Manage Data/Manage-Data/#id-columns_3","text":"id,user SELECT user, t.id id, unix_timestamp(transactionDateTime, '2006-01-02T15:05:05Z') ts, articleNumber item, receiptItemId, receiptId, t.type type, quantity, grossPaidPrice price, awardsBonus, stores.name store, stores.city store_city, stores.country store_country, stores.externalId butikskod, stores.type store_type FROM `RAW - receiptItems` t LEFT JOIN `RAW - store` stores on t.storeId = stores.id WHERE user != '' Back to top","title":"Id columns"},{"location":"Platform/Menu/Manage Data/Manage-Data/#stores","text":"Back to top","title":"Stores"},{"location":"Platform/Menu/Manage Data/Manage-Data/#id-column","text":"id SELECT storeId id, name, isDeleted, city, country, zipCode, street, region, externalId, type, active, changeType FROM `store/byExportDate/*/*/*/*.csv` -- WHERE unix_timestamp(implode(slice(split(path(),'/'), 2,5), '/'), '2006/01/02') = now()-7*24*60*60 Back to top","title":"Id column"},{"location":"Platform/Menu/Manage Data/Manage-Data/#contacts","text":"Back to top","title":"Contacts"},{"location":"Platform/Menu/Manage Data/Manage-Data/#id-column_1","text":"id SELECT contactId id, contactType, isApproved, isDeleted, gender, age, zipCode, city, countryCode, acceptsEmail, acceptsSms, acceptsPostal, statusEmail, statusSms, statusPostal, rfm, recency, frequency, monetary, latestNpsGrade, latestNpsDateTime, registrationDateTime, lastModifiedDateTime, deletedDateTime, deletedReason, recruitedStoreId, currentStoreId, changeType FROM `allContacts/byExportDate/*/*/*/*.csv` WHERE unix_timestamp(implode(slice(split(path(),'/'), 2,5), '/'), '2006/01/02') = now()-7*24*60*60 Back to top","title":"Id column"},{"location":"Platform/Menu/Manage Data/Manage-Data/#query-expressions","text":"you need to enclose variable names that contain other characters than letters and numbers with backticks ``, this includes whitespace ' ', dot '.', etc... SELECT * LEFT JOIN coalese toFloat() unixTimestamp() split() slice() etc... Back to top","title":"Query expressions"},{"location":"Platform/Menu/Manage Data/Manage-Data/#results","text":"Back to top","title":"Results"},{"location":"Platform/Menu/Manage Data/Manage-Data/#dummy1","text":"Back to top","title":"dummy1"},{"location":"Platform/Menu/Manage Data/Manage-Data/#dummy2","text":"Back to top","title":"dummy2"},{"location":"Platform/Menu/Manage Data/Manage-Data/#import-files","text":"Back to top","title":"Import Files"},{"location":"Platform/Menu/Manage Data/Results/","text":"Table of Contents Back to top","title":"Results"},{"location":"Platform/Menu/Manage Data/Results/#table-of-contents","text":"Back to top","title":"Table of Contents"},{"location":"Platform/Menu/Manage Data/Sources/","text":"Table of Contents Create sources Frontpage columns Name id Cnf Version Count Tags Drivers Sync Dependencies Updated At Synced At Top Menu Delete Tag Migrate Truncate Sync Enable Disable Create Source settigs Name Id columns RunEvery Comment Merge filter Overview Query Database connection Load saved query Preprocessor directives Query expressions UNION Standard Queries Centra Queries Procedure Interactions Items Users No size model Example rows with explanation Voyado Queries Procedure Interactions Items Users Back to top Create sources When the data is imported , go to Manage Data - Sources and create a new source by clicking the purple plus sign as seen in the below image. Name the source import_[source of data]_[type of data] where [source of data] specifies where the data comes from (centra, voyado, etc), and the [type of data] specifies the data type (items, users, interactions, etc). Choose an identifier for the source using the Id columns field. If the source you\u2019re creating is for: interactions : we want to identify each interaction through a user, an item and the time of the purchase, therefore choose user,ts,item under id columns and then press create. items : we want to identify each item by using an item id (often sku or variant). users : we want to identify each user by using a user id. The fields Comment and Merge Filter can be left empty, and you can press CREATE . Choose database connection and create a QUERY If it\u2019s a centra/voyado customer choose that option, if the files were uploaded manually, choose imports. You can now see the query stage, as standard \u201cSELECT * FROM `*`\u201d will show, if you press \u201cEXECUTE PREVIEW SUMMARY\u201d you will see all the imported files you can choose to gather data from. Copy the filename you want to use and enter that name in the query above, like SELECT * FROM [ENTER FILENAME HERE] . Copy the queries (depending on what system the customer has) from here: Centra queries Voyado queries The import file is now done, press sync and save to exit. Now repeat the \"Create source\"-step 2 but name the file model_[source of data]_[type of data] (the use same identifier as in the import file). In the Choose database connection now choose source instead, and press execute preview summary , now choose the import source file and edit the query to select from that, like \" SELECT * FROM ENTER_SOURCENAME_HERE \" and then press Save and sync . Back to top Frontpage columns Back to top Name Name of source Back to top id every source has an unique id wich is used to show dependencies between sources. Back to top Cnf Version ??? Back to top Count Count describes how many rows the source have. There can only be 1 row for every unique key column. if there are multiple rows with the same key all but 1 is removed. Back to top Tags you can tag a source to keep track of how it is used. Back to top Drivers The drivers show whatdriver is used and also if it is active (green) or inactive (red). If a source has multiple queries there will be multiple drivers, here you can see wich source is active and wich are not. Back to top Sync What syntax is this??? DailyAt:6 Back to top Dependencies Dependencies for a source show what other sources the are used to build up the source. an example for this is SELECT * FROM Source1 LEFT JOIN Source2 on Source2.id = Source1.id UNION SELECT * FROM Source3 This will show the id for source 1,2,3 in the Dependencies for the new source. Back to top Updated At Shows how long ago the source was last modified. Back to top Synced At Shows how long ago the source was last synced. Back to top Top Menu Back to top Delete Back to top Tag Select a source, click Tag and write a new tag or select an old tag. Back to top Migrate ??? Back to top Truncate Trucate wipes the source of all data. This is usefull if you have changed key column for example because if you just sync the data the old data is not removed. [Note that some sources only read 1 week data at the time to save time, if you truc a source like this all historic data is removed wich is bad] Back to top Sync Manually syncs the source. Back to top Enable doesnt work Back to top Disable doesnt work Back to top Create Creates a new source. Back to top Source settigs Back to top Name Just a name Back to top Id columns The Id columns has to be choosen to be unique. if the id is not unique (the same id for many rows) only 1 row will be saved and all others are removed. For the interaction table the id has to contain user AND id or ts,item. The reason user has to be an id column is because when user is the first id column all interactions are sorted on user first. this lets you use expressions such as agg.i wich count number of interactions a user has made. if the interaction table is not sorted on user first the aggregation functions doesnt work. For multiple id columns they are sorted in the order they are written. User,ts,item is sorted first on user, then on ts and lastly on item. SELECT CUSTOM COLUMNS is usefull if you want other names than the predefined such as SKU. Back to top RunEvery set a sync Back to top Comment why??? Back to top Merge filter lets you filter out your query before you save it. Back to top Overview Shows what is in the source currently Back to top Query Back to top Database connection Back to top Load saved query lets you reload previously run queries Back to top Preprocessor directives when importing data from a link such as product feed you need to add preprocessor directives to know how to read the file. SELECT * FROM `url:https://files.channable.com/o2lQPJiYXk7KrY1DW2BJ3A==.xml` [Note that you have to write url: before https://] start by writing decoder=xml to show the file structure, in this case it looks like this. decoder: describes what file format, xml, csv, json etc. root: navigates the file and shows where you want to read data. rowtag: selects the object. pluck: inside your rowtag you can have multiple data columns, pluck lets you choose wich you want to get. In the above example this is the resulting preprocessing directives to get decoder=xml root=rss.channel rowtag=item pluck=google_product_category,price resulting in this outcome Back to top Query expressions you need to enclose variable names that contain other characters than letters and numbers with backticks ``, this includes whitespace ' ', dot '.', etc... create a custom source SELECT * FROM raw: id,item 1,item1 2,item2 this returns a table. Back to top UNION A UNION merges two data sources by including all unique rows from both. When making a union the columns need to have the same name and be in the same order SELECT * FROM `table 1` UNION SELECT * FROM `table 2` if you have overlapping id rows in table 1 and table 2 the id in table 1 will be saved and table 2 will be discared. ex. to try this, create a test source select incr(1,50) AS id, 'table 1' AS item from ` RANDOM_SOURCE ` UNION select incr(1,1) AS id, 'table 2' AS item from ` RANDOM_SOURCE ` then create a new source SELECT * FROM ` TEST_SOURCE ` this will show that all overlapping ids will have item from table 1 . A UNION can also be suffixed by ALL, where UNION ALL will not discard duplicates, meaning much faster execution but leaves duplicate rows if they exist. SELECT * LEFT JOIN coalese toFloat() unixTimestamp() split() slice() etc... Back to top Standard Queries Back to top Centra Queries Procedure 1 Interactions 1 Items 2 Users 3 Back to top Procedure Setup config Make arbitrary query toward centra This will trigger proxy sync, the .gz files will appear once completed, duration 1-5h Back to top Interactions Id columns: id i import / user,id i model source SELECT `line.Id` AS id, `order.Customer.Id` AS user, unixTimestamp(`order.OrderDate`, '2006-01-02T15:04:05-0700') AS ts, concat(`line.ProductVariant.Id`,'_',`line.ProductSize.Size.Id`) AS item, toFloat(`line.LineValue.FormattedValue`)*toFloat(`order.CurrencyBaseRate`) AS revenue, round(`line.Quantity`*`order.CurrencyBaseRate`*`line.UnitOriginalPrice.FormattedValue`,2) AS full_price, `line.ProductVariant.Id` AS variant_id, `line.ProductVariant.Product.Id` AS product_id, `line.ProductVariant.VariantNumber` AS variant_number, `line.ProductSize.Id` AS product_size, `line.ProductSize.SKU` AS size_sku, `line.ProductSize.SizeNumber` AS size_number, `line.ProductSize.GTIN` AS size_gtin, `line.ProductSize.Size.Id` AS size_id, `line.ProductSize.Size.Name` AS size_name, toFloat(`line.LineValue.FormattedValue`) AS Non_converted_value, `line.UnitPrice.FormattedValue` AS Unitprice_formatted_value, `line.UnitOriginalPrice.FormattedValue` AS Unit_original_price_formatted_value, `line.Quantity` AS quantity, `line.ReturnedQuantity` AS returned_quantity, `line.CancelledQuantity` AS cancelled_quantity, `line.ProductNumber` AS product_number, `line.TypeName` AS type, round(`line.DiscountPercent`,0) AS discount_percent, `line.TaxPercent` AS tax_percent, `order.Id` AS order_id, `order.Number` AS order_number, unixTimestamp(`order.CreatedAt`, '2006-01-02T15:04:05-0700') AS order_created_at, `order.Status` AS order_status, `order.GrandTotal.FormattedValue` AS total order value inc VAT, `order.Shipments[0].CarrierInformation.ServiceName` AS carrier_service_name, `order.Shipments[0].CarrierInformation.CarrierName` AS carrier_name, `order.Market.Name` AS order_market, `order.Store.Name` AS store, `order.Country.Name` AS country, `order.PaymentMethod.Name` AS order_payment_method, `order.Totals.LineValues` AS order_totals_values, `order.Totals.Shipping` AS order_total_shipping, `order.Totals.Discounts` AS order_total_discounts, `order.Totals.Handling` AS order_totals_handling, `order.CurrencyBaseRate` AS order_currency_base_rate, `order.Discounts` AS order_discounts, `order.Discounts.Len` AS order_discounts_len, `order.DiscountsApplied.Name` AS discount_name, `order.DiscountsApplied.Method` AS order_discounts_applied_method, `order.DiscountsApplied.Value` AS order_discounts_applied_value, `order.DiscountsApplied.Discount.Codes` discount_codes, Currency AS currency, CurrencyOK AS currency_ok FROM`interactions.gz` Back to top Items Id columns : item SELECT concat(`variant.Id`,'_',`variant.productSize.Size.Id`) AS item, `prod.Name` AS prod_name, `variant.MediaURL` AS variant_media_url, `variant.Id` AS id, `variant.Name` AS variant_name, `variant.Status` AS variant_status, `variant.StockOffset` AS variant_stock_offset, `variant.InternalName` AS variant_internal_name, `variant.variantNumber` AS variant_variant_number, `variant.UnitCost.FormattedValue` AS variant_unit_cost_formatted_value, `variant.productSize.Id` AS variant_product_size_id, `variant.productSize.GTIN` AS variant_product_size_gtin, `variant.productSize.SizeNumber` AS variant_product_size_size_number, `variant.productSize.SKU` AS variant_product_size_sku, `variant.productSize.Size.Id` AS variant_product_size_size_id, `variant.productSize.Size.Name` AS variant_product_size_size_name, `prod.Id` AS prod_id, `prod.ProductNumber` AS prod_product_number, `prod.Brand.Name` AS prod_brand_name, `prod.CountryOfOrigin.Name` AS prod_country_of_origin_name, `prod.Collection.Name` AS prod_collection_name, `prod.Status` AS prod_status, `prod.HarmonizedCommodityCode` AS prod_harmonized_commodity_code, `prod.Folder.Name` AS prod_folder_name, `display.Store.Name` AS display_store_name, `display.Status` AS display_status, `display.Name` AS display_name, `display.DisplayItem.Id` AS display_display_item_id, `display.Categories` AS display_categories, `display.Category1` AS display_category_1, `display.Category2` AS display_category_2, `display.Category3` AS display_category_3, `display.CategoryUri` AS display_category_uri, `display.Uri` AS display_uri, `variant.productSize.Size.AvailableNowQuantity` AS variant_product_size_size_available_now_quantity, `variant.Price` AS variant_price, `variant.Currency` AS variant_currency, `variant.Campaign_DiscountPercent` AS variant_campaign_discount_percent, `variant.Campaign_FixedPrice` AS variant_campaign_fixed_price, `variant.Campaign_FixedPrice_Currency` AS variant_campaign_fixed_price_currency, market AS market, concat(`prod.Brand.Name`, ', ', `prod.Name`, if(`variant.Name` != '' OR `variant.productSize.Size.Name` != '', ' ', ''), if(`variant.Name` != '', concat('[',`variant.Name`, ']'),''), if(`variant.productSize.Size.Name` != '', concat('[',`variant.productSize.Size.Name`,']'), '') ) format FROM `items.gz` Back to top Users Id columns : user SELECT `customer.Id` AS user, `customer.IsAnonymized` AS anonymized, `customer.TotalOrders` AS total_orders, unixTimestamp(`customer.CreatedAt`, '2006-01-02T15:04:05-0700') AS created_at, unixTimestamp(`customer.UpdatedAt`, '2006-01-02T15:04:05-0700') AS updated_at, `customer.Store.Name` AS store, `customer.Email` AS email, `customer.CellPhoneNumber` AS phone FROM `users.gz` Back to top No size model for Item source called \u2018no size model - items\u2019 SELECT variantId AS id, groupcoalesce(format) AS format, groupcoalesce(productName) AS product_name, groupcoalesce(variantName) AS variant_name, groupcoalesce(variantStatus) AS variant_status, groupcoalesce(brand) AS brand, groupcoalesce(`prod.Folder.Name`) AS prod_folder_name, groupcoalesce(collection) AS collection, groupcoalesce(productNumber) AS product_number, groupcoalesce(price) AS price, groupcoalesce(availableNowQuantity) AS available_now_quantity, groupcoalesce(countryOfOrigin) AS country_of_origin, groupcoalesce(mediaURL) AS media_url, groupcoalesce(unitCost) AS unit_cost, groupcoalesce(productStatus) AS product_status, groupcoalesce(variantInternalName) AS variant_internal_name, groupcoalesce(displayCategory1) AS display_category_1, groupcoalesce(displayCategory2) AS display_category_2, groupcoalesce(displayCategory3) AS display_category_3, groupcoalesce(displayItemId) AS display_item_id FROM `centra_products_import` GROUP BY variantId Back to top Example rows with explanation Coalesce ( display.Name , prod.Name , variant.Id ) AS format Explanation: Choose display.Name if it exists, otherwise check prod.Name, and lastly variant.Id. Concat ( line.ProductVariant.Id ,' ', line.ProductSize.Size.Id ) AS item Explanation: This will merge the two lines, for example Concat (Hello, ' ', you) would concat to Hello_you unixTimestamp ( order.CreatedAt , '2006-01-02T15:04:05-0700') AS order_created_at, Explanation: This will convert a date into number form Back to top Voyado Queries Procedure 1 Items 2 Users 3 Interactions 4 Back to top Procedure Setup config Back to top Interactions SELECT * FROM `items.gz` Back to top Items SELECT * FROM `items.gz` Back to top Users SELECT * FROM `items.gz` Back to top","title":"Sources"},{"location":"Platform/Menu/Manage Data/Sources/#table-of-contents","text":"Create sources Frontpage columns Name id Cnf Version Count Tags Drivers Sync Dependencies Updated At Synced At Top Menu Delete Tag Migrate Truncate Sync Enable Disable Create Source settigs Name Id columns RunEvery Comment Merge filter Overview Query Database connection Load saved query Preprocessor directives Query expressions UNION Standard Queries Centra Queries Procedure Interactions Items Users No size model Example rows with explanation Voyado Queries Procedure Interactions Items Users Back to top","title":"Table of Contents"},{"location":"Platform/Menu/Manage Data/Sources/#create-sources","text":"When the data is imported , go to Manage Data - Sources and create a new source by clicking the purple plus sign as seen in the below image. Name the source import_[source of data]_[type of data] where [source of data] specifies where the data comes from (centra, voyado, etc), and the [type of data] specifies the data type (items, users, interactions, etc). Choose an identifier for the source using the Id columns field. If the source you\u2019re creating is for: interactions : we want to identify each interaction through a user, an item and the time of the purchase, therefore choose user,ts,item under id columns and then press create. items : we want to identify each item by using an item id (often sku or variant). users : we want to identify each user by using a user id. The fields Comment and Merge Filter can be left empty, and you can press CREATE . Choose database connection and create a QUERY If it\u2019s a centra/voyado customer choose that option, if the files were uploaded manually, choose imports. You can now see the query stage, as standard \u201cSELECT * FROM `*`\u201d will show, if you press \u201cEXECUTE PREVIEW SUMMARY\u201d you will see all the imported files you can choose to gather data from. Copy the filename you want to use and enter that name in the query above, like SELECT * FROM [ENTER FILENAME HERE] . Copy the queries (depending on what system the customer has) from here: Centra queries Voyado queries The import file is now done, press sync and save to exit. Now repeat the \"Create source\"-step 2 but name the file model_[source of data]_[type of data] (the use same identifier as in the import file). In the Choose database connection now choose source instead, and press execute preview summary , now choose the import source file and edit the query to select from that, like \" SELECT * FROM ENTER_SOURCENAME_HERE \" and then press Save and sync . Back to top","title":"Create sources"},{"location":"Platform/Menu/Manage Data/Sources/#frontpage-columns","text":"Back to top","title":"Frontpage columns"},{"location":"Platform/Menu/Manage Data/Sources/#name","text":"Name of source Back to top","title":"Name"},{"location":"Platform/Menu/Manage Data/Sources/#id","text":"every source has an unique id wich is used to show dependencies between sources. Back to top","title":"id"},{"location":"Platform/Menu/Manage Data/Sources/#cnf-version","text":"??? Back to top","title":"Cnf Version"},{"location":"Platform/Menu/Manage Data/Sources/#count","text":"Count describes how many rows the source have. There can only be 1 row for every unique key column. if there are multiple rows with the same key all but 1 is removed. Back to top","title":"Count"},{"location":"Platform/Menu/Manage Data/Sources/#tags","text":"you can tag a source to keep track of how it is used. Back to top","title":"Tags"},{"location":"Platform/Menu/Manage Data/Sources/#drivers","text":"The drivers show whatdriver is used and also if it is active (green) or inactive (red). If a source has multiple queries there will be multiple drivers, here you can see wich source is active and wich are not. Back to top","title":"Drivers"},{"location":"Platform/Menu/Manage Data/Sources/#sync","text":"What syntax is this??? DailyAt:6 Back to top","title":"Sync"},{"location":"Platform/Menu/Manage Data/Sources/#dependencies","text":"Dependencies for a source show what other sources the are used to build up the source. an example for this is SELECT * FROM Source1 LEFT JOIN Source2 on Source2.id = Source1.id UNION SELECT * FROM Source3 This will show the id for source 1,2,3 in the Dependencies for the new source. Back to top","title":"Dependencies"},{"location":"Platform/Menu/Manage Data/Sources/#updated-at","text":"Shows how long ago the source was last modified. Back to top","title":"Updated At"},{"location":"Platform/Menu/Manage Data/Sources/#synced-at","text":"Shows how long ago the source was last synced. Back to top","title":"Synced At"},{"location":"Platform/Menu/Manage Data/Sources/#top-menu","text":"Back to top","title":"Top Menu"},{"location":"Platform/Menu/Manage Data/Sources/#delete","text":"Back to top","title":"Delete"},{"location":"Platform/Menu/Manage Data/Sources/#tag","text":"Select a source, click Tag and write a new tag or select an old tag. Back to top","title":"Tag"},{"location":"Platform/Menu/Manage Data/Sources/#migrate","text":"??? Back to top","title":"Migrate"},{"location":"Platform/Menu/Manage Data/Sources/#truncate","text":"Trucate wipes the source of all data. This is usefull if you have changed key column for example because if you just sync the data the old data is not removed. [Note that some sources only read 1 week data at the time to save time, if you truc a source like this all historic data is removed wich is bad] Back to top","title":"Truncate"},{"location":"Platform/Menu/Manage Data/Sources/#sync_1","text":"Manually syncs the source. Back to top","title":"Sync"},{"location":"Platform/Menu/Manage Data/Sources/#enable","text":"doesnt work Back to top","title":"Enable"},{"location":"Platform/Menu/Manage Data/Sources/#disable","text":"doesnt work Back to top","title":"Disable"},{"location":"Platform/Menu/Manage Data/Sources/#create","text":"Creates a new source. Back to top","title":"Create"},{"location":"Platform/Menu/Manage Data/Sources/#source-settigs","text":"Back to top","title":"Source settigs"},{"location":"Platform/Menu/Manage Data/Sources/#name_1","text":"Just a name Back to top","title":"Name"},{"location":"Platform/Menu/Manage Data/Sources/#id-columns","text":"The Id columns has to be choosen to be unique. if the id is not unique (the same id for many rows) only 1 row will be saved and all others are removed. For the interaction table the id has to contain user AND id or ts,item. The reason user has to be an id column is because when user is the first id column all interactions are sorted on user first. this lets you use expressions such as agg.i wich count number of interactions a user has made. if the interaction table is not sorted on user first the aggregation functions doesnt work. For multiple id columns they are sorted in the order they are written. User,ts,item is sorted first on user, then on ts and lastly on item. SELECT CUSTOM COLUMNS is usefull if you want other names than the predefined such as SKU. Back to top","title":"Id columns"},{"location":"Platform/Menu/Manage Data/Sources/#runevery","text":"set a sync Back to top","title":"RunEvery"},{"location":"Platform/Menu/Manage Data/Sources/#comment","text":"why??? Back to top","title":"Comment"},{"location":"Platform/Menu/Manage Data/Sources/#merge-filter","text":"lets you filter out your query before you save it. Back to top","title":"Merge filter"},{"location":"Platform/Menu/Manage Data/Sources/#overview","text":"Shows what is in the source currently Back to top","title":"Overview"},{"location":"Platform/Menu/Manage Data/Sources/#query","text":"Back to top","title":"Query"},{"location":"Platform/Menu/Manage Data/Sources/#database-connection","text":"Back to top","title":"Database connection"},{"location":"Platform/Menu/Manage Data/Sources/#load-saved-query","text":"lets you reload previously run queries Back to top","title":"Load saved query"},{"location":"Platform/Menu/Manage Data/Sources/#preprocessor-directives","text":"when importing data from a link such as product feed you need to add preprocessor directives to know how to read the file. SELECT * FROM `url:https://files.channable.com/o2lQPJiYXk7KrY1DW2BJ3A==.xml` [Note that you have to write url: before https://] start by writing decoder=xml to show the file structure, in this case it looks like this. decoder: describes what file format, xml, csv, json etc. root: navigates the file and shows where you want to read data. rowtag: selects the object. pluck: inside your rowtag you can have multiple data columns, pluck lets you choose wich you want to get. In the above example this is the resulting preprocessing directives to get decoder=xml root=rss.channel rowtag=item pluck=google_product_category,price resulting in this outcome Back to top","title":"Preprocessor directives"},{"location":"Platform/Menu/Manage Data/Sources/#query-expressions","text":"you need to enclose variable names that contain other characters than letters and numbers with backticks ``, this includes whitespace ' ', dot '.', etc...","title":"Query expressions"},{"location":"Platform/Menu/Manage Data/Sources/#create-a-custom-source","text":"SELECT * FROM raw: id,item 1,item1 2,item2 this returns a table. Back to top","title":"create a custom source"},{"location":"Platform/Menu/Manage Data/Sources/#union","text":"A UNION merges two data sources by including all unique rows from both. When making a union the columns need to have the same name and be in the same order SELECT * FROM `table 1` UNION SELECT * FROM `table 2` if you have overlapping id rows in table 1 and table 2 the id in table 1 will be saved and table 2 will be discared. ex. to try this, create a test source select incr(1,50) AS id, 'table 1' AS item from ` RANDOM_SOURCE ` UNION select incr(1,1) AS id, 'table 2' AS item from ` RANDOM_SOURCE ` then create a new source SELECT * FROM ` TEST_SOURCE ` this will show that all overlapping ids will have item from table 1 . A UNION can also be suffixed by ALL, where UNION ALL will not discard duplicates, meaning much faster execution but leaves duplicate rows if they exist. SELECT * LEFT JOIN coalese toFloat() unixTimestamp() split() slice() etc... Back to top","title":"UNION"},{"location":"Platform/Menu/Manage Data/Sources/#standard-queries","text":"Back to top","title":"Standard Queries"},{"location":"Platform/Menu/Manage Data/Sources/#centra-queries","text":"Procedure 1 Interactions 1 Items 2 Users 3 Back to top","title":"Centra Queries"},{"location":"Platform/Menu/Manage Data/Sources/#procedure","text":"Setup config Make arbitrary query toward centra This will trigger proxy sync, the .gz files will appear once completed, duration 1-5h Back to top","title":"Procedure"},{"location":"Platform/Menu/Manage Data/Sources/#interactions","text":"Id columns: id i import / user,id i model source SELECT `line.Id` AS id, `order.Customer.Id` AS user, unixTimestamp(`order.OrderDate`, '2006-01-02T15:04:05-0700') AS ts, concat(`line.ProductVariant.Id`,'_',`line.ProductSize.Size.Id`) AS item, toFloat(`line.LineValue.FormattedValue`)*toFloat(`order.CurrencyBaseRate`) AS revenue, round(`line.Quantity`*`order.CurrencyBaseRate`*`line.UnitOriginalPrice.FormattedValue`,2) AS full_price, `line.ProductVariant.Id` AS variant_id, `line.ProductVariant.Product.Id` AS product_id, `line.ProductVariant.VariantNumber` AS variant_number, `line.ProductSize.Id` AS product_size, `line.ProductSize.SKU` AS size_sku, `line.ProductSize.SizeNumber` AS size_number, `line.ProductSize.GTIN` AS size_gtin, `line.ProductSize.Size.Id` AS size_id, `line.ProductSize.Size.Name` AS size_name, toFloat(`line.LineValue.FormattedValue`) AS Non_converted_value, `line.UnitPrice.FormattedValue` AS Unitprice_formatted_value, `line.UnitOriginalPrice.FormattedValue` AS Unit_original_price_formatted_value, `line.Quantity` AS quantity, `line.ReturnedQuantity` AS returned_quantity, `line.CancelledQuantity` AS cancelled_quantity, `line.ProductNumber` AS product_number, `line.TypeName` AS type, round(`line.DiscountPercent`,0) AS discount_percent, `line.TaxPercent` AS tax_percent, `order.Id` AS order_id, `order.Number` AS order_number, unixTimestamp(`order.CreatedAt`, '2006-01-02T15:04:05-0700') AS order_created_at, `order.Status` AS order_status, `order.GrandTotal.FormattedValue` AS total order value inc VAT, `order.Shipments[0].CarrierInformation.ServiceName` AS carrier_service_name, `order.Shipments[0].CarrierInformation.CarrierName` AS carrier_name, `order.Market.Name` AS order_market, `order.Store.Name` AS store, `order.Country.Name` AS country, `order.PaymentMethod.Name` AS order_payment_method, `order.Totals.LineValues` AS order_totals_values, `order.Totals.Shipping` AS order_total_shipping, `order.Totals.Discounts` AS order_total_discounts, `order.Totals.Handling` AS order_totals_handling, `order.CurrencyBaseRate` AS order_currency_base_rate, `order.Discounts` AS order_discounts, `order.Discounts.Len` AS order_discounts_len, `order.DiscountsApplied.Name` AS discount_name, `order.DiscountsApplied.Method` AS order_discounts_applied_method, `order.DiscountsApplied.Value` AS order_discounts_applied_value, `order.DiscountsApplied.Discount.Codes` discount_codes, Currency AS currency, CurrencyOK AS currency_ok FROM`interactions.gz` Back to top","title":"Interactions"},{"location":"Platform/Menu/Manage Data/Sources/#items","text":"Id columns : item SELECT concat(`variant.Id`,'_',`variant.productSize.Size.Id`) AS item, `prod.Name` AS prod_name, `variant.MediaURL` AS variant_media_url, `variant.Id` AS id, `variant.Name` AS variant_name, `variant.Status` AS variant_status, `variant.StockOffset` AS variant_stock_offset, `variant.InternalName` AS variant_internal_name, `variant.variantNumber` AS variant_variant_number, `variant.UnitCost.FormattedValue` AS variant_unit_cost_formatted_value, `variant.productSize.Id` AS variant_product_size_id, `variant.productSize.GTIN` AS variant_product_size_gtin, `variant.productSize.SizeNumber` AS variant_product_size_size_number, `variant.productSize.SKU` AS variant_product_size_sku, `variant.productSize.Size.Id` AS variant_product_size_size_id, `variant.productSize.Size.Name` AS variant_product_size_size_name, `prod.Id` AS prod_id, `prod.ProductNumber` AS prod_product_number, `prod.Brand.Name` AS prod_brand_name, `prod.CountryOfOrigin.Name` AS prod_country_of_origin_name, `prod.Collection.Name` AS prod_collection_name, `prod.Status` AS prod_status, `prod.HarmonizedCommodityCode` AS prod_harmonized_commodity_code, `prod.Folder.Name` AS prod_folder_name, `display.Store.Name` AS display_store_name, `display.Status` AS display_status, `display.Name` AS display_name, `display.DisplayItem.Id` AS display_display_item_id, `display.Categories` AS display_categories, `display.Category1` AS display_category_1, `display.Category2` AS display_category_2, `display.Category3` AS display_category_3, `display.CategoryUri` AS display_category_uri, `display.Uri` AS display_uri, `variant.productSize.Size.AvailableNowQuantity` AS variant_product_size_size_available_now_quantity, `variant.Price` AS variant_price, `variant.Currency` AS variant_currency, `variant.Campaign_DiscountPercent` AS variant_campaign_discount_percent, `variant.Campaign_FixedPrice` AS variant_campaign_fixed_price, `variant.Campaign_FixedPrice_Currency` AS variant_campaign_fixed_price_currency, market AS market, concat(`prod.Brand.Name`, ', ', `prod.Name`, if(`variant.Name` != '' OR `variant.productSize.Size.Name` != '', ' ', ''), if(`variant.Name` != '', concat('[',`variant.Name`, ']'),''), if(`variant.productSize.Size.Name` != '', concat('[',`variant.productSize.Size.Name`,']'), '') ) format FROM `items.gz` Back to top","title":"Items"},{"location":"Platform/Menu/Manage Data/Sources/#users","text":"Id columns : user SELECT `customer.Id` AS user, `customer.IsAnonymized` AS anonymized, `customer.TotalOrders` AS total_orders, unixTimestamp(`customer.CreatedAt`, '2006-01-02T15:04:05-0700') AS created_at, unixTimestamp(`customer.UpdatedAt`, '2006-01-02T15:04:05-0700') AS updated_at, `customer.Store.Name` AS store, `customer.Email` AS email, `customer.CellPhoneNumber` AS phone FROM `users.gz` Back to top","title":"Users"},{"location":"Platform/Menu/Manage Data/Sources/#no-size-model","text":"for Item source called \u2018no size model - items\u2019 SELECT variantId AS id, groupcoalesce(format) AS format, groupcoalesce(productName) AS product_name, groupcoalesce(variantName) AS variant_name, groupcoalesce(variantStatus) AS variant_status, groupcoalesce(brand) AS brand, groupcoalesce(`prod.Folder.Name`) AS prod_folder_name, groupcoalesce(collection) AS collection, groupcoalesce(productNumber) AS product_number, groupcoalesce(price) AS price, groupcoalesce(availableNowQuantity) AS available_now_quantity, groupcoalesce(countryOfOrigin) AS country_of_origin, groupcoalesce(mediaURL) AS media_url, groupcoalesce(unitCost) AS unit_cost, groupcoalesce(productStatus) AS product_status, groupcoalesce(variantInternalName) AS variant_internal_name, groupcoalesce(displayCategory1) AS display_category_1, groupcoalesce(displayCategory2) AS display_category_2, groupcoalesce(displayCategory3) AS display_category_3, groupcoalesce(displayItemId) AS display_item_id FROM `centra_products_import` GROUP BY variantId Back to top","title":"No size model"},{"location":"Platform/Menu/Manage Data/Sources/#example-rows-with-explanation","text":"Coalesce ( display.Name , prod.Name , variant.Id ) AS format Explanation: Choose display.Name if it exists, otherwise check prod.Name, and lastly variant.Id. Concat ( line.ProductVariant.Id ,' ', line.ProductSize.Size.Id ) AS item Explanation: This will merge the two lines, for example Concat (Hello, ' ', you) would concat to Hello_you unixTimestamp ( order.CreatedAt , '2006-01-02T15:04:05-0700') AS order_created_at, Explanation: This will convert a date into number form Back to top","title":"Example rows with explanation"},{"location":"Platform/Menu/Manage Data/Sources/#voyado-queries","text":"Procedure 1 Items 2 Users 3 Interactions 4 Back to top","title":"Voyado Queries"},{"location":"Platform/Menu/Manage Data/Sources/#procedure_1","text":"Setup config Back to top","title":"Procedure"},{"location":"Platform/Menu/Manage Data/Sources/#interactions_1","text":"SELECT * FROM `items.gz` Back to top","title":"Interactions"},{"location":"Platform/Menu/Manage Data/Sources/#items_1","text":"SELECT * FROM `items.gz` Back to top","title":"Items"},{"location":"Platform/Menu/Manage Data/Sources/#users_1","text":"SELECT * FROM `items.gz` Back to top","title":"Users"},{"location":"Platform/Menu/Model/Interactions/","text":"Table of Contents Back to top","title":"Interactions"},{"location":"Platform/Menu/Model/Interactions/#table-of-contents","text":"Back to top","title":"Table of Contents"},{"location":"Platform/Menu/Model/Overview/","text":"Table of Contents Back to top","title":"Overview"},{"location":"Platform/Menu/Model/Overview/#table-of-contents","text":"Back to top","title":"Table of Contents"},{"location":"Platform/Menu/Model/Products/","text":"Table of Contents Back to top","title":"Products"},{"location":"Platform/Menu/Model/Products/#table-of-contents","text":"Back to top","title":"Table of Contents"},{"location":"Platform/Menu/Model/Users/","text":"Table of Contents Back to top","title":"Users"},{"location":"Platform/Menu/Model/Users/#table-of-contents","text":"Back to top","title":"Table of Contents"},{"location":"Platform/Menu/Other/Overlaps/","text":"Table of Contents Back to top","title":"Other"},{"location":"Platform/Menu/Other/Overlaps/#table-of-contents","text":"Back to top","title":"Table of Contents"},{"location":"Platform/Recommendations/Recommendations/","text":"Table of Contents Recommendations UI Settings Search Columns Filter expression Boost expression InteractionFilter Trend Limit Max orders Max interactions Allow items from history shuffled Advanced API Add field limit Save as new profile Save profile Delete profile Front page Search for items Profile Refresh Clear user and items Bench Add random item Add random user Recommendation output data available in recommendations ml meta ml filter Recommendations in emails Introduction Partners Voyado Recommendation profiles Infobaleen rekommendationsbibliotek Olika rekommendationer Standard rekommendation: Standard Liknande produkter rekommendation: Similar Inspiration rekommendation: Inspiration Win-back rekommendation: Win-back Check-out rekommendation: Check-out Tack f\u00f6r senast order rekommendation: Last purchase Produkter p\u00e5 rea rekommendationer: On sale Back to top Recommendations UI Back to top Settings Back to top Search Back to top Columns Back to top Filter expression Write an expression that returns a boolean result. True = not filtered False = filtered. example. price 100 this returns True for all products with a price larger than 100 thus removing all items with a price lower than 100. Back to top Boost expression ???? Back to top InteractionFilter ??? Back to top Trend Trend limits the time intervall wich the recomendations are based on. Max trend uses a short timeintervall resulting in the ML model only recomends products that are trending last few weeks. None trend IS THIS TRUE? Back to top Limit Limit decides how many recomended items are returned. limit 4 = 4 recommended items. Limit 12 = 12 recommended items. Back to top Max orders Number of orders that are taken into concideration when recommending products. Max orders = 1 means only the items included in the latest order are used as purchase history for that user. Max orders = 2 means the items in the two latest orders are taken into account. Back to top Max interactions Number of items that are taken into concideration when recommending products. Max items = 1 means only the latest purchased item is used as purchase history for that user. Max items = 2 means the two latest items are taken into account. Back to top Allow items from history sets a filter so that all items the user have bought cannot be recommended. Back to top shuffled If Limit is set to 10 the items are recomended in order (most likly next purchase is at the top). by enabling shuffled it still recommends the top 10 items but the order of the top 10 items are shuffled. Back to top Advanced Name: is the variable name. Field: the field wich you are taking data from Option: \"all\" means all items in the users purchase history. \"items\" means all items sent in through the API by the customer. When the customer makes an API call for the recommendation they can include items in the API call. for example items in the basket, the item you are currently looking at etc. Example below where boughtArticleGroup returns a comma seperated string 'item1,item2,item3,item4' . to convert this into a filter hasany(split(basketArticleGroup,','),makearray('Thin Case')) example of advanced query. { Context :[{ Name : boughtArticleGroup , Field : prod_collection_name , Option : all }, { Name : basketArticleGroup , Field : prod_collection_name , Option : items }]} Examples Advanced: { Context :[{ Name : bought_phone_model , Field : phone_model , Option : all }]} Filter expression: hasAny(split(bought_phone_model, , ),makeArray(phone_model)) split(bought_phone_model,\",\") returns an array of your purchase history (\"Field\":\"phone_model\"): ['bought_phone_model_1','bought_phone_model_2','bought_phone_model_3','bought_phone_model_4'] makeArray(phone_model) returns an array of all phone_model : ['phone_model_1','phone_model_2','phone_model_3','phone_model_n'] hasAny checks if elements in array 1 is contained in array 2 in this case the customers purchase history includes iPhone 12/Pro MagSafe and iPhone 12/Pro The expression hasAny(split(bought_phone_model,\",\"),makeArray(phone_model)) will thus return true for all pruducts where phone_model = iPhone 12/Pro MagSafe or iPhone 12/Pro and false for all other products. Thus only products with the same phone_model will be recommended. If you change the expression to hasAny(split(bought_phone_model,\",\"),makeArray(phone_model)) = FALSE everything will be inverted thus only recomending products where the phone_model != iPhone 12/Pro MagSafe or iPhone 12/Pro . [NOTE! when adding an item to in the Search for items you DO NOT add this item to your purchase history, these items are sent in from the API meaning they will only be affected by a filter expression if you use the option item instead of all ] See example: Back to top API This is what the customer use to call the recomendation profile???? Back to top Add field limit Field limit lets you set a filter on how many of each category should be recommended. This is usually used on product category where you only want to include ex. max 2 of each product category. Back to top Save as new profile Saves the current configuration as a profile new Back to top Save profile Overrides the current profile with the current configuration. Back to top Delete profile Delets selected profile. Back to top Front page Back to top Search for items I THINK items added in the search items window are counted as items given to the platform through the API call. This means they dont not affected by boughtArticleGroup but affects basketArticleGroup . Back to top Profile saved profiles Back to top Refresh ???? Back to top Clear user and items removes selected items and user Back to top Bench Shows how fast the recommendation are returend when making an API call. (if your datamodel has MLFilter active for many fields the recommendations will be slower). Back to top Add random item same as search for items but adds a random item. Back to top Add random user Selects a random user and shows what items this user has previously bought and the returned recommended items based on this. You can find the user by XXXXXX???? Back to top Recommendation output The output is what the API returns to the customer. All fields active in the Columns section are returnerd. if the image is active the output will only show the image and format. by disabling the image you can see all other fields that are returned. With image active: With image inactive: Back to top data available in recommendations Back to top ml meta To show an image and name on your recomendations you have to choose a format field and an image field under items AND activate the ml meta for these fields. Back to top ml filter To write filter expressions based on fields you have to activate ml filter for these fields Back to top Recommendations in emails Back to top Introduction We can supply personalized recommendations in automated email flows. The technical integration varies between partners, but the main difference compared to segments is that we supply an individually customized set of products per user. Back to top Partners Here we specify how the process works between us and specified partners Back to top Voyado Voyado has an ftp server to which we push a file of the form ContactId,Skus,ExpiryDate 00000000-0000-0000-0000-000000000000, Item692,Item165,Item835,Item166,Item836,Item838,Item277,Item504,Item332,Item218,Item608,Item528 ,9999-12-31T00:00:00.000+0000 0001394c-9e71-43d6-86f3-ada901fc4c10, Item218,Item411,Item135,Item504,Item692,Item202,Item1035,Item835,Item412,Item277,Item610,Item515 ,9999-12-31T00:00:00.000+0000 00021b19-db3d-4d26-84ce-ad56g0f028e3, Item165,Item702,Item701,Item146,Item166,Item835,Item1035,Item610,Item836,Item135,Item218,Item150 ,9999-12-31T00:00:00.000+0000 The list of Skus is generated from our recommendation engine for the user specified under ContactId , where the 0 line is the fallback recommendation. -- Insert how to setup Voyado Export here -- Once the recommendation flow is set up and an initial export has been sent, the recommendations can be previewed in Voyado. This is done by us selecting a few contactIds from the platform for them to check. Then the customer triggers a support ticket by sending an email to support@revide.se (revide is the old name, this may be updated) with the contactIds and requests checking the preview. Note: Historically there has been some issues due to contacts being labeled as \"Contact\" instead of \"Member\". This should be resolved as of April 2022, but to be safe, it could be a good idea to locate and include a user labeled \"Contact\" that has a purchase history. Back to top Recommendation profiles Back to top Infobaleen rekommendationsbibliotek 2022-03-24 Grundinst\u00e4llningar: Produkter i lager Vid tydliga k\u00f6nsrelaterade produkter: Se om man bara ska rekommendera produtker med samma gender \u2026 Back to top Olika rekommendationer Back to top Standard rekommendation: Standard Rekommendera det mest sannolika n\u00e4sta k\u00f6pet (medium trend) Syfte: H\u00f6g sannolik att konvertera Expression: Trend: Back to top Liknande produkter rekommendation: Similar Rekommendera produkter ur samma kategori Syfte: H\u00f6g igenk\u00e4nningsfaktor Expression: Trend: Back to top Inspiration rekommendation: Inspiration Rekommendera produkter inom kategorier kunden ej handlat inom tidigare / vald produkt Syfte: Inspirera till k\u00f6p i de mest relevanta kategorier man \u00e4nnu ej handlat inom / produkten ej \u00e4r i Expression: Trend: Back to top Win-back rekommendation: Win-back Rekommendera mest sannolika produkter en kund kommer k\u00f6pa utifr\u00e5n historiskt k\u00f6pbeteende Syfte: Presenter de produkter en churnad kund har h\u00f6gst sannolikhet att k\u00f6pa Expression: Trend: Back to top Check-out rekommendation: Check-out Rekommendera billigare produkter utifr\u00e5n vad kunden lagt i sin varukorg Syfte: \u00d6ka AOV med en relevant produkt i det l\u00e4gre prissegmentet Expression: tofloat(Price) tofloat(last(basketArticlePrice))*0.8 Trend: Back to top Tack f\u00f6r senast order rekommendation: Last purchase Rekommendera mest sannolika produkter utifr\u00e5n kundens senaste order Syfte: \u00d6ka andelen kunder som g\u00f6r ett n\u00e4sta k\u00f6p Expression: Trend: None trend??? Back to top Produkter p\u00e5 rea rekommendationer: On sale Rekommendera produkter som \u00e4r p\u00e5 rea Syfte: \u00d6ka rea fsg genom att visa relevanta produkter p\u00e5 rea. Expression: Trend: Back to top","title":"Recommendations"},{"location":"Platform/Recommendations/Recommendations/#table-of-contents","text":"Recommendations UI Settings Search Columns Filter expression Boost expression InteractionFilter Trend Limit Max orders Max interactions Allow items from history shuffled Advanced API Add field limit Save as new profile Save profile Delete profile Front page Search for items Profile Refresh Clear user and items Bench Add random item Add random user Recommendation output data available in recommendations ml meta ml filter Recommendations in emails Introduction Partners Voyado Recommendation profiles Infobaleen rekommendationsbibliotek Olika rekommendationer Standard rekommendation: Standard Liknande produkter rekommendation: Similar Inspiration rekommendation: Inspiration Win-back rekommendation: Win-back Check-out rekommendation: Check-out Tack f\u00f6r senast order rekommendation: Last purchase Produkter p\u00e5 rea rekommendationer: On sale Back to top","title":"Table of Contents"},{"location":"Platform/Recommendations/Recommendations/#recommendations-ui","text":"Back to top","title":"Recommendations UI"},{"location":"Platform/Recommendations/Recommendations/#settings","text":"Back to top","title":"Settings"},{"location":"Platform/Recommendations/Recommendations/#search","text":"Back to top","title":"Search"},{"location":"Platform/Recommendations/Recommendations/#columns","text":"Back to top","title":"Columns"},{"location":"Platform/Recommendations/Recommendations/#filter-expression","text":"Write an expression that returns a boolean result. True = not filtered False = filtered. example. price 100 this returns True for all products with a price larger than 100 thus removing all items with a price lower than 100. Back to top","title":"Filter expression"},{"location":"Platform/Recommendations/Recommendations/#boost-expression","text":"???? Back to top","title":"Boost expression"},{"location":"Platform/Recommendations/Recommendations/#interactionfilter","text":"??? Back to top","title":"InteractionFilter"},{"location":"Platform/Recommendations/Recommendations/#trend","text":"Trend limits the time intervall wich the recomendations are based on. Max trend uses a short timeintervall resulting in the ML model only recomends products that are trending last few weeks. None trend IS THIS TRUE? Back to top","title":"Trend"},{"location":"Platform/Recommendations/Recommendations/#limit","text":"Limit decides how many recomended items are returned. limit 4 = 4 recommended items. Limit 12 = 12 recommended items. Back to top","title":"Limit"},{"location":"Platform/Recommendations/Recommendations/#max-orders","text":"Number of orders that are taken into concideration when recommending products. Max orders = 1 means only the items included in the latest order are used as purchase history for that user. Max orders = 2 means the items in the two latest orders are taken into account. Back to top","title":"Max orders"},{"location":"Platform/Recommendations/Recommendations/#max-interactions","text":"Number of items that are taken into concideration when recommending products. Max items = 1 means only the latest purchased item is used as purchase history for that user. Max items = 2 means the two latest items are taken into account. Back to top","title":"Max interactions"},{"location":"Platform/Recommendations/Recommendations/#allow-items-from-history","text":"sets a filter so that all items the user have bought cannot be recommended. Back to top","title":"Allow items from history"},{"location":"Platform/Recommendations/Recommendations/#shuffled","text":"If Limit is set to 10 the items are recomended in order (most likly next purchase is at the top). by enabling shuffled it still recommends the top 10 items but the order of the top 10 items are shuffled. Back to top","title":"shuffled"},{"location":"Platform/Recommendations/Recommendations/#advanced","text":"Name: is the variable name. Field: the field wich you are taking data from Option: \"all\" means all items in the users purchase history. \"items\" means all items sent in through the API by the customer. When the customer makes an API call for the recommendation they can include items in the API call. for example items in the basket, the item you are currently looking at etc. Example below where boughtArticleGroup returns a comma seperated string 'item1,item2,item3,item4' . to convert this into a filter hasany(split(basketArticleGroup,','),makearray('Thin Case')) example of advanced query. { Context :[{ Name : boughtArticleGroup , Field : prod_collection_name , Option : all }, { Name : basketArticleGroup , Field : prod_collection_name , Option : items }]} Examples Advanced: { Context :[{ Name : bought_phone_model , Field : phone_model , Option : all }]} Filter expression: hasAny(split(bought_phone_model, , ),makeArray(phone_model)) split(bought_phone_model,\",\") returns an array of your purchase history (\"Field\":\"phone_model\"): ['bought_phone_model_1','bought_phone_model_2','bought_phone_model_3','bought_phone_model_4'] makeArray(phone_model) returns an array of all phone_model : ['phone_model_1','phone_model_2','phone_model_3','phone_model_n'] hasAny checks if elements in array 1 is contained in array 2 in this case the customers purchase history includes iPhone 12/Pro MagSafe and iPhone 12/Pro The expression hasAny(split(bought_phone_model,\",\"),makeArray(phone_model)) will thus return true for all pruducts where phone_model = iPhone 12/Pro MagSafe or iPhone 12/Pro and false for all other products. Thus only products with the same phone_model will be recommended. If you change the expression to hasAny(split(bought_phone_model,\",\"),makeArray(phone_model)) = FALSE everything will be inverted thus only recomending products where the phone_model != iPhone 12/Pro MagSafe or iPhone 12/Pro . [NOTE! when adding an item to in the Search for items you DO NOT add this item to your purchase history, these items are sent in from the API meaning they will only be affected by a filter expression if you use the option item instead of all ] See example: Back to top","title":"Advanced"},{"location":"Platform/Recommendations/Recommendations/#api","text":"This is what the customer use to call the recomendation profile???? Back to top","title":"API"},{"location":"Platform/Recommendations/Recommendations/#add-field-limit","text":"Field limit lets you set a filter on how many of each category should be recommended. This is usually used on product category where you only want to include ex. max 2 of each product category. Back to top","title":"Add field limit"},{"location":"Platform/Recommendations/Recommendations/#save-as-new-profile","text":"Saves the current configuration as a profile new Back to top","title":"Save as new profile"},{"location":"Platform/Recommendations/Recommendations/#save-profile","text":"Overrides the current profile with the current configuration. Back to top","title":"Save profile"},{"location":"Platform/Recommendations/Recommendations/#delete-profile","text":"Delets selected profile. Back to top","title":"Delete profile"},{"location":"Platform/Recommendations/Recommendations/#front-page","text":"Back to top","title":"Front page"},{"location":"Platform/Recommendations/Recommendations/#search-for-items","text":"I THINK items added in the search items window are counted as items given to the platform through the API call. This means they dont not affected by boughtArticleGroup but affects basketArticleGroup . Back to top","title":"Search for items"},{"location":"Platform/Recommendations/Recommendations/#profile","text":"saved profiles Back to top","title":"Profile"},{"location":"Platform/Recommendations/Recommendations/#refresh","text":"???? Back to top","title":"Refresh"},{"location":"Platform/Recommendations/Recommendations/#clear-user-and-items","text":"removes selected items and user Back to top","title":"Clear user and items"},{"location":"Platform/Recommendations/Recommendations/#bench","text":"Shows how fast the recommendation are returend when making an API call. (if your datamodel has MLFilter active for many fields the recommendations will be slower). Back to top","title":"Bench"},{"location":"Platform/Recommendations/Recommendations/#add-random-item","text":"same as search for items but adds a random item. Back to top","title":"Add random item"},{"location":"Platform/Recommendations/Recommendations/#add-random-user","text":"Selects a random user and shows what items this user has previously bought and the returned recommended items based on this. You can find the user by XXXXXX???? Back to top","title":"Add random user"},{"location":"Platform/Recommendations/Recommendations/#recommendation-output","text":"The output is what the API returns to the customer. All fields active in the Columns section are returnerd. if the image is active the output will only show the image and format. by disabling the image you can see all other fields that are returned. With image active: With image inactive: Back to top","title":"Recommendation output"},{"location":"Platform/Recommendations/Recommendations/#data-available-in-recommendations","text":"Back to top","title":"data available in recommendations"},{"location":"Platform/Recommendations/Recommendations/#ml-meta","text":"To show an image and name on your recomendations you have to choose a format field and an image field under items AND activate the ml meta for these fields. Back to top","title":"ml meta"},{"location":"Platform/Recommendations/Recommendations/#ml-filter","text":"To write filter expressions based on fields you have to activate ml filter for these fields Back to top","title":"ml filter"},{"location":"Platform/Recommendations/Recommendations/#recommendations-in-emails","text":"Back to top","title":"Recommendations in emails"},{"location":"Platform/Recommendations/Recommendations/#introduction","text":"We can supply personalized recommendations in automated email flows. The technical integration varies between partners, but the main difference compared to segments is that we supply an individually customized set of products per user. Back to top","title":"Introduction"},{"location":"Platform/Recommendations/Recommendations/#partners","text":"Here we specify how the process works between us and specified partners Back to top","title":"Partners"},{"location":"Platform/Recommendations/Recommendations/#voyado","text":"Voyado has an ftp server to which we push a file of the form ContactId,Skus,ExpiryDate 00000000-0000-0000-0000-000000000000, Item692,Item165,Item835,Item166,Item836,Item838,Item277,Item504,Item332,Item218,Item608,Item528 ,9999-12-31T00:00:00.000+0000 0001394c-9e71-43d6-86f3-ada901fc4c10, Item218,Item411,Item135,Item504,Item692,Item202,Item1035,Item835,Item412,Item277,Item610,Item515 ,9999-12-31T00:00:00.000+0000 00021b19-db3d-4d26-84ce-ad56g0f028e3, Item165,Item702,Item701,Item146,Item166,Item835,Item1035,Item610,Item836,Item135,Item218,Item150 ,9999-12-31T00:00:00.000+0000 The list of Skus is generated from our recommendation engine for the user specified under ContactId , where the 0 line is the fallback recommendation. -- Insert how to setup Voyado Export here -- Once the recommendation flow is set up and an initial export has been sent, the recommendations can be previewed in Voyado. This is done by us selecting a few contactIds from the platform for them to check. Then the customer triggers a support ticket by sending an email to support@revide.se (revide is the old name, this may be updated) with the contactIds and requests checking the preview. Note: Historically there has been some issues due to contacts being labeled as \"Contact\" instead of \"Member\". This should be resolved as of April 2022, but to be safe, it could be a good idea to locate and include a user labeled \"Contact\" that has a purchase history. Back to top","title":"Voyado"},{"location":"Platform/Recommendations/Recommendations/#recommendation-profiles","text":"Back to top","title":"Recommendation profiles"},{"location":"Platform/Recommendations/Recommendations/#infobaleen-rekommendationsbibliotek","text":"2022-03-24 Grundinst\u00e4llningar: Produkter i lager Vid tydliga k\u00f6nsrelaterade produkter: Se om man bara ska rekommendera produtker med samma gender \u2026 Back to top","title":"Infobaleen rekommendationsbibliotek"},{"location":"Platform/Recommendations/Recommendations/#olika-rekommendationer","text":"Back to top","title":"Olika rekommendationer"},{"location":"Platform/Recommendations/Recommendations/#standard-rekommendation-standard","text":"Rekommendera det mest sannolika n\u00e4sta k\u00f6pet (medium trend) Syfte: H\u00f6g sannolik att konvertera Expression: Trend: Back to top","title":"Standard rekommendation: Standard"},{"location":"Platform/Recommendations/Recommendations/#liknande-produkter-rekommendation-similar","text":"Rekommendera produkter ur samma kategori Syfte: H\u00f6g igenk\u00e4nningsfaktor Expression: Trend: Back to top","title":"Liknande produkter rekommendation: Similar"},{"location":"Platform/Recommendations/Recommendations/#inspiration-rekommendation-inspiration","text":"Rekommendera produkter inom kategorier kunden ej handlat inom tidigare / vald produkt Syfte: Inspirera till k\u00f6p i de mest relevanta kategorier man \u00e4nnu ej handlat inom / produkten ej \u00e4r i Expression: Trend: Back to top","title":"Inspiration rekommendation: Inspiration"},{"location":"Platform/Recommendations/Recommendations/#win-back-rekommendation-win-back","text":"Rekommendera mest sannolika produkter en kund kommer k\u00f6pa utifr\u00e5n historiskt k\u00f6pbeteende Syfte: Presenter de produkter en churnad kund har h\u00f6gst sannolikhet att k\u00f6pa Expression: Trend: Back to top","title":"Win-back rekommendation: Win-back"},{"location":"Platform/Recommendations/Recommendations/#check-out-rekommendation-check-out","text":"Rekommendera billigare produkter utifr\u00e5n vad kunden lagt i sin varukorg Syfte: \u00d6ka AOV med en relevant produkt i det l\u00e4gre prissegmentet Expression: tofloat(Price) tofloat(last(basketArticlePrice))*0.8 Trend: Back to top","title":"Check-out rekommendation: Check-out"},{"location":"Platform/Recommendations/Recommendations/#tack-for-senast-order-rekommendation-last-purchase","text":"Rekommendera mest sannolika produkter utifr\u00e5n kundens senaste order Syfte: \u00d6ka andelen kunder som g\u00f6r ett n\u00e4sta k\u00f6p Expression: Trend: None trend??? Back to top","title":"Tack f\u00f6r senast order rekommendation: Last purchase"},{"location":"Platform/Recommendations/Recommendations/#produkter-pa-rea-rekommendationer-on-sale","text":"Rekommendera produkter som \u00e4r p\u00e5 rea Syfte: \u00d6ka rea fsg genom att visa relevanta produkter p\u00e5 rea. Expression: Trend: Back to top","title":"Produkter p\u00e5 rea rekommendationer: On sale"},{"location":"Platform/Segmentations/Auto-targeting/","text":"Table of Contents Auto-targeting Using Auto-targeting Step 1: Initiate auto-targeting campaign Step 2: Choose recipients Step 3: Create advertisements Clustering Back to top Auto-targeting Note! Before Segmentations you need to train the machine-learning model Choose the data model and edit it Scroll to the bottom and enable the ML Engine, see image below, and click Save Make sure the platform has been added to the k8s-ml-registry After the machine-learning model has been trained you can create segmentations. What about the parameters in the ML model? The problem with the model and the parameters is that this really isn't straightforward. In principle you want as much data as possible. The default settings just prevent blowing up the worker with an enormous dataset accidentally. There are a few dataset specific details that may make smaller limits sensible. For example, if a customer has high item turnover and you want to exclude old transactions and items that don't really contribute to current recommendations anymore if they are included in the model. But that is fairly difficult to reason about The default settings should be fine most of the time. Especially if the customer has less than 1000 actively sold items at the moment I wouldn't expect the limits to have much of an effect. The first limit should probably be clarified a bit. Maybe \"Min interactions per item\", because I suspect that it excludes items that have fewer than the specified number of interactions. This makes sense because we can't really learn anything useful about items that have very few transactions (I guess that is fairly intuitive, there's just no information to look at) Back to top Using Auto-targeting Auto-targeting identifies optimal combinations of items and users that helps increase conversion in campaigns. The results are based on the results from the machine-learning models. The result is groups with recommended users-items combinations to use in the advertisements, see the overview below: graph TD; Campaign-- SelectRecipients; SelectRecipients-- Advertisement1; SelectRecipients-- Advertisement2; SelectRecipients-- Advertisement3; Advertisement1-- SelectItems1; Advertisement2-- SelectItems2; Advertisement3-- SelectItems3; SelectItems1-- AddFilters1; SelectItems2-- AddFilters2; SelectItems3-- AddFilters3; Back to top Step 1: Initiate auto-targeting campaign Choose the Auto Targeting tab Create a new auto-targeting campaign by clicking the + icon in the upper right corner Name the auto-targeting model (in the image below Auto-targeting test ), and choose the maximum number of recipients for the campaign. Note that Available recipients indicates the total number of users that exists in the data Back to top Step 2: Choose recipients After the campaign has been created, now it's time to set the recipients (audience) for the campaign. To filter the data for various campaigns, click the filter icon to the right of the user icon Choose a filter according to your needs. In the below image, users have been filtered to contains those with age 20-25 that are registered in Sweden. Back to top Step 3: Create advertisements To set up an advertisement click the + icon under the auto-targeting card. Name the advertisement and click the + icon and Select items to target This will trigger some settings to pop up above. * ignore already consumed : used to block so that users do not end up in a campaign that they already bought from. For example, if you have a campaign including Product1 and a user has already bought that product, then you may want to make sure that the user can not end up in a campaign inlcuding that product. * Trend : If you choose a high trend value, then seasonal trends in sales will have higher weight (e.g. during Christmas more Santa Claus-products are probably sold) * Item.multiplier (?) and Recipient multiplier (?) : These can be ignored. The idea is that you can weight the score for a user or item. Ex: item.price, or user.propensity for item resp. user. But it is experimental and seldom used. Now you can choose to add how many items to include in your advertisement, and what filters should apply. You can also add additionalt filters for the recipients. When ready, press Save and Run . The result will look similar to the image below. You can see the products included in the advertisement, the number of recipients, and an average recipient score and its distribution. The recipient score is a value from 0 to 1, where 1 indicates a very strong match between the user and the advertisement. In this case, a recommendation would be to only use the first 30% recipients or so in the advertisement, since the scores for the long tail of users is low. Back to top Clustering Clustering makes it possible to group users and items into a specified number of clusters. For finding cluster, there are three different algorithms that can be used: 1. embedding with item clusters from the trained machine-learning model and users assigned to the most connected cluster, 2. plsa , Probabilistic Latent Semantic Analysis run separately, and 3. modularity , network-based modularity optimization run separately. embedding is the fastest method since it uses the trained machine-learning model. Back to top","title":"Auto-targeting"},{"location":"Platform/Segmentations/Auto-targeting/#table-of-contents","text":"Auto-targeting Using Auto-targeting Step 1: Initiate auto-targeting campaign Step 2: Choose recipients Step 3: Create advertisements Clustering Back to top","title":"Table of Contents"},{"location":"Platform/Segmentations/Auto-targeting/#auto-targeting","text":"Note! Before Segmentations you need to train the machine-learning model Choose the data model and edit it Scroll to the bottom and enable the ML Engine, see image below, and click Save Make sure the platform has been added to the k8s-ml-registry After the machine-learning model has been trained you can create segmentations. What about the parameters in the ML model? The problem with the model and the parameters is that this really isn't straightforward. In principle you want as much data as possible. The default settings just prevent blowing up the worker with an enormous dataset accidentally. There are a few dataset specific details that may make smaller limits sensible. For example, if a customer has high item turnover and you want to exclude old transactions and items that don't really contribute to current recommendations anymore if they are included in the model. But that is fairly difficult to reason about The default settings should be fine most of the time. Especially if the customer has less than 1000 actively sold items at the moment I wouldn't expect the limits to have much of an effect. The first limit should probably be clarified a bit. Maybe \"Min interactions per item\", because I suspect that it excludes items that have fewer than the specified number of interactions. This makes sense because we can't really learn anything useful about items that have very few transactions (I guess that is fairly intuitive, there's just no information to look at) Back to top","title":"Auto-targeting"},{"location":"Platform/Segmentations/Auto-targeting/#using-auto-targeting","text":"Auto-targeting identifies optimal combinations of items and users that helps increase conversion in campaigns. The results are based on the results from the machine-learning models. The result is groups with recommended users-items combinations to use in the advertisements, see the overview below: graph TD; Campaign-- SelectRecipients; SelectRecipients-- Advertisement1; SelectRecipients-- Advertisement2; SelectRecipients-- Advertisement3; Advertisement1-- SelectItems1; Advertisement2-- SelectItems2; Advertisement3-- SelectItems3; SelectItems1-- AddFilters1; SelectItems2-- AddFilters2; SelectItems3-- AddFilters3; Back to top","title":"Using Auto-targeting"},{"location":"Platform/Segmentations/Auto-targeting/#step-1-initiate-auto-targeting-campaign","text":"Choose the Auto Targeting tab Create a new auto-targeting campaign by clicking the + icon in the upper right corner Name the auto-targeting model (in the image below Auto-targeting test ), and choose the maximum number of recipients for the campaign. Note that Available recipients indicates the total number of users that exists in the data Back to top","title":"Step 1: Initiate auto-targeting campaign"},{"location":"Platform/Segmentations/Auto-targeting/#step-2-choose-recipients","text":"After the campaign has been created, now it's time to set the recipients (audience) for the campaign. To filter the data for various campaigns, click the filter icon to the right of the user icon Choose a filter according to your needs. In the below image, users have been filtered to contains those with age 20-25 that are registered in Sweden. Back to top","title":"Step 2: Choose recipients"},{"location":"Platform/Segmentations/Auto-targeting/#step-3-create-advertisements","text":"To set up an advertisement click the + icon under the auto-targeting card. Name the advertisement and click the + icon and Select items to target This will trigger some settings to pop up above. * ignore already consumed : used to block so that users do not end up in a campaign that they already bought from. For example, if you have a campaign including Product1 and a user has already bought that product, then you may want to make sure that the user can not end up in a campaign inlcuding that product. * Trend : If you choose a high trend value, then seasonal trends in sales will have higher weight (e.g. during Christmas more Santa Claus-products are probably sold) * Item.multiplier (?) and Recipient multiplier (?) : These can be ignored. The idea is that you can weight the score for a user or item. Ex: item.price, or user.propensity for item resp. user. But it is experimental and seldom used. Now you can choose to add how many items to include in your advertisement, and what filters should apply. You can also add additionalt filters for the recipients. When ready, press Save and Run . The result will look similar to the image below. You can see the products included in the advertisement, the number of recipients, and an average recipient score and its distribution. The recipient score is a value from 0 to 1, where 1 indicates a very strong match between the user and the advertisement. In this case, a recommendation would be to only use the first 30% recipients or so in the advertisement, since the scores for the long tail of users is low. Back to top","title":"Step 3: Create advertisements"},{"location":"Platform/Segmentations/Auto-targeting/#clustering","text":"Clustering makes it possible to group users and items into a specified number of clusters. For finding cluster, there are three different algorithms that can be used: 1. embedding with item clusters from the trained machine-learning model and users assigned to the most connected cluster, 2. plsa , Probabilistic Latent Semantic Analysis run separately, and 3. modularity , network-based modularity optimization run separately. embedding is the fastest method since it uses the trained machine-learning model. Back to top","title":"Clustering"},{"location":"Platform/Segmentations/Clustering/","text":"Table of Contents Clustering Back to top Clustering Clustering makes it possible to group users and items into a specified number of clusters. For finding cluster, there are three different algorithms that can be used: 1. embedding with item clusters from the trained machine-learning model and users assigned to the most connected cluster, 2. plsa , Probabilistic Latent Semantic Analysis run separately, and 3. modularity , network-based modularity optimization run separately. embedding is the fastest method since it uses the trained machine-learning model. Back to top","title":"Clustering"},{"location":"Platform/Segmentations/Clustering/#table-of-contents","text":"Clustering Back to top","title":"Table of Contents"},{"location":"Platform/Segmentations/Clustering/#clustering","text":"Clustering makes it possible to group users and items into a specified number of clusters. For finding cluster, there are three different algorithms that can be used: 1. embedding with item clusters from the trained machine-learning model and users assigned to the most connected cluster, 2. plsa , Probabilistic Latent Semantic Analysis run separately, and 3. modularity , network-based modularity optimization run separately. embedding is the fastest method since it uses the trained machine-learning model. Back to top","title":"Clustering"}]}